(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function V0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ld={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function LS(){if(Q_)return Tl;Q_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Tl.Fragment=t,Tl.jsx=i,Tl.jsxs=i,Tl}var K_;function US(){return K_||(K_=1,Ld.exports=LS()),Ld.exports}var L=US(),Ud={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function kS(){if(X_)return It;X_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function q(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,J={};function lt(O,G,it){this.props=O,this.context=G,this.refs=J,this.updater=it||W}lt.prototype.isReactComponent={},lt.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},lt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ut(){}ut.prototype=lt.prototype;function mt(O,G,it){this.props=O,this.context=G,this.refs=J,this.updater=it||W}var Tt=mt.prototype=new ut;Tt.constructor=mt,et(Tt,lt.prototype),Tt.isPureReactComponent=!0;var Pt=Array.isArray;function tt(){}var w={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(O,G,it){var at=it.ref;return{$$typeof:r,type:O,key:G,ref:at!==void 0?at:null,props:it}}function x(O,G){return R(O.type,G,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return G[it]})}var I=/\/+/g;function Qt(O,G){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):G.toString(36)}function he(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(tt,tt):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,G,it,at,_t){var yt=typeof O;(yt==="undefined"||yt==="boolean")&&(O=null);var nt=!1;if(O===null)nt=!0;else switch(yt){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(O.$$typeof){case r:case t:nt=!0;break;case T:return nt=O._init,F(nt(O._payload),G,it,at,_t)}}if(nt)return _t=_t(O),nt=at===""?"."+Qt(O,0):at,Pt(_t)?(it="",nt!=null&&(it=nt.replace(I,"$&/")+"/"),F(_t,G,it,"",function(Le){return Le})):_t!=null&&(D(_t)&&(_t=x(_t,it+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(I,"$&/")+"/")+nt)),G.push(_t)),1;nt=0;var gt=at===""?".":at+":";if(Pt(O))for(var xt=0;xt<O.length;xt++)at=O[xt],yt=gt+Qt(at,xt),nt+=F(at,G,it,yt,_t);else if(xt=q(O),typeof xt=="function")for(O=xt.call(O),xt=0;!(at=O.next()).done;)at=at.value,yt=gt+Qt(at,xt++),nt+=F(at,G,it,yt,_t);else if(yt==="object"){if(typeof O.then=="function")return F(he(O),G,it,at,_t);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return nt}function st(O,G,it){if(O==null)return O;var at=[],_t=0;return F(O,at,"","",function(yt){return G.call(it,yt,_t++)}),at}function pt(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var K=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Rt={map:st,forEach:function(O,G,it){st(O,function(){G.apply(this,arguments)},it)},count:function(O){var G=0;return st(O,function(){G++}),G},toArray:function(O){return st(O,function(G){return G})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return It.Activity=S,It.Children=Rt,It.Component=lt,It.Fragment=i,It.Profiler=l,It.PureComponent=mt,It.StrictMode=s,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,It.__COMPILER_RUNTIME={__proto__:null,c:function(O){return w.H.useMemoCache(O)}},It.cache=function(O){return function(){return O.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(O,G,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=et({},O.props),_t=O.key;if(G!=null)for(yt in G.key!==void 0&&(_t=""+G.key),G)!b.call(G,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&G.ref===void 0||(at[yt]=G[yt]);var yt=arguments.length-2;if(yt===1)at.children=it;else if(1<yt){for(var nt=Array(yt),gt=0;gt<yt;gt++)nt[gt]=arguments[gt+2];at.children=nt}return R(O.type,_t,at)},It.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},It.createElement=function(O,G,it){var at,_t={},yt=null;if(G!=null)for(at in G.key!==void 0&&(yt=""+G.key),G)b.call(G,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=G[at]);var nt=arguments.length-2;if(nt===1)_t.children=it;else if(1<nt){for(var gt=Array(nt),xt=0;xt<nt;xt++)gt[xt]=arguments[xt+2];_t.children=gt}if(O&&O.defaultProps)for(at in nt=O.defaultProps,nt)_t[at]===void 0&&(_t[at]=nt[at]);return R(O,yt,_t)},It.createRef=function(){return{current:null}},It.forwardRef=function(O){return{$$typeof:g,render:O}},It.isValidElement=D,It.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:pt}},It.memo=function(O,G){return{$$typeof:_,type:O,compare:G===void 0?null:G}},It.startTransition=function(O){var G=w.T,it={};w.T=it;try{var at=O(),_t=w.S;_t!==null&&_t(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(tt,K)}catch(yt){K(yt)}finally{G!==null&&it.types!==null&&(G.types=it.types),w.T=G}},It.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},It.use=function(O){return w.H.use(O)},It.useActionState=function(O,G,it){return w.H.useActionState(O,G,it)},It.useCallback=function(O,G){return w.H.useCallback(O,G)},It.useContext=function(O){return w.H.useContext(O)},It.useDebugValue=function(){},It.useDeferredValue=function(O,G){return w.H.useDeferredValue(O,G)},It.useEffect=function(O,G){return w.H.useEffect(O,G)},It.useEffectEvent=function(O){return w.H.useEffectEvent(O)},It.useId=function(){return w.H.useId()},It.useImperativeHandle=function(O,G,it){return w.H.useImperativeHandle(O,G,it)},It.useInsertionEffect=function(O,G){return w.H.useInsertionEffect(O,G)},It.useLayoutEffect=function(O,G){return w.H.useLayoutEffect(O,G)},It.useMemo=function(O,G){return w.H.useMemo(O,G)},It.useOptimistic=function(O,G){return w.H.useOptimistic(O,G)},It.useReducer=function(O,G,it){return w.H.useReducer(O,G,it)},It.useRef=function(O){return w.H.useRef(O)},It.useState=function(O){return w.H.useState(O)},It.useSyncExternalStore=function(O,G,it){return w.H.useSyncExternalStore(O,G,it)},It.useTransition=function(){return w.H.useTransition()},It.version="19.2.3",It}var $_;function Cm(){return $_||($_=1,Ud.exports=kS()),Ud.exports}var dt=Cm();const zS=V0(dt);var kd={exports:{}},Al={},zd={exports:{}},jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function jS(){return Z_||(Z_=1,(function(r){function t(F,st){var pt=F.length;F.push(st);t:for(;0<pt;){var K=pt-1>>>1,Rt=F[K];if(0<l(Rt,st))F[K]=st,F[pt]=Rt,pt=K;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var st=F[0],pt=F.pop();if(pt!==st){F[0]=pt;t:for(var K=0,Rt=F.length,O=Rt>>>1;K<O;){var G=2*(K+1)-1,it=F[G],at=G+1,_t=F[at];if(0>l(it,pt))at<Rt&&0>l(_t,it)?(F[K]=_t,F[at]=pt,K=at):(F[K]=it,F[G]=pt,K=G);else if(at<Rt&&0>l(_t,pt))F[K]=_t,F[at]=pt,K=at;else break t}}return st}function l(F,st){var pt=F.sortIndex-st.sortIndex;return pt!==0?pt:F.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],_=[],T=1,S=null,N=3,q=!1,W=!1,et=!1,J=!1,lt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Tt(F){for(var st=i(_);st!==null;){if(st.callback===null)s(_);else if(st.startTime<=F)s(_),st.sortIndex=st.expirationTime,t(p,st);else break;st=i(_)}}function Pt(F){if(et=!1,Tt(F),!W)if(i(p)!==null)W=!0,tt||(tt=!0,V());else{var st=i(_);st!==null&&he(Pt,st.startTime-F)}}var tt=!1,w=-1,b=5,R=-1;function x(){return J?!0:!(r.unstable_now()-R<b)}function D(){if(J=!1,tt){var F=r.unstable_now();R=F;var st=!0;try{t:{W=!1,et&&(et=!1,ut(w),w=-1),q=!0;var pt=N;try{e:{for(Tt(F),S=i(p);S!==null&&!(S.expirationTime>F&&x());){var K=S.callback;if(typeof K=="function"){S.callback=null,N=S.priorityLevel;var Rt=K(S.expirationTime<=F);if(F=r.unstable_now(),typeof Rt=="function"){S.callback=Rt,Tt(F),st=!0;break e}S===i(p)&&s(p),Tt(F)}else s(p);S=i(p)}if(S!==null)st=!0;else{var O=i(_);O!==null&&he(Pt,O.startTime-F),st=!1}}break t}finally{S=null,N=pt,q=!1}st=void 0}}finally{st?V():tt=!1}}}var V;if(typeof mt=="function")V=function(){mt(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Qt=I.port2;I.port1.onmessage=D,V=function(){Qt.postMessage(null)}}else V=function(){lt(D,0)};function he(F,st){w=lt(function(){F(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(F){switch(N){case 1:case 2:case 3:var st=3;break;default:st=N}var pt=N;N=st;try{return F()}finally{N=pt}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(F,st){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var pt=N;N=F;try{return st()}finally{N=pt}},r.unstable_scheduleCallback=function(F,st,pt){var K=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?K+pt:K):pt=K,F){case 1:var Rt=-1;break;case 2:Rt=250;break;case 5:Rt=1073741823;break;case 4:Rt=1e4;break;default:Rt=5e3}return Rt=pt+Rt,F={id:T++,callback:st,priorityLevel:F,startTime:pt,expirationTime:Rt,sortIndex:-1},pt>K?(F.sortIndex=pt,t(_,F),i(p)===null&&F===i(_)&&(et?(ut(w),w=-1):et=!0,he(Pt,pt-K))):(F.sortIndex=Rt,t(p,F),W||q||(W=!0,tt||(tt=!0,V()))),F},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(F){var st=N;return function(){var pt=N;N=st;try{return F.apply(this,arguments)}finally{N=pt}}}})(jd)),jd}var J_;function BS(){return J_||(J_=1,zd.exports=jS()),zd.exports}var Bd={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function qS(){if(W_)return Ze;W_=1;var r=Cm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,_,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(p,_,null,T)},Ze.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},Ze.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Ze.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ze.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,S=g(T,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:q}):T==="script"&&s.d.X(p,{crossOrigin:S,integrity:N,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ze.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Ze.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,S=g(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ze.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Ze.requestFormReset=function(p){s.d.r(p)},Ze.unstable_batchedUpdates=function(p,_){return p(_)},Ze.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},Ze.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ze.version="19.2.3",Ze}var tv;function HS(){if(tv)return Bd.exports;tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bd.exports=qS(),Bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function GS(){if(ev)return Al;ev=1;var r=BS(),t=Cm(),i=HS();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function _(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===o)return p(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=d;break}if(E===o){y=!0,o=h,a=d;break}E=E.sibling}if(!y){for(E=d.child;E;){if(E===a){y=!0,a=d,o=h;break}if(E===o){y=!0,o=d,a=h;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),Pt=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function Qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case lt:return"Profiler";case J:return"StrictMode";case Pt:return"Suspense";case tt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case mt:return e.displayName||"Context";case ut:return(e._context.displayName||"Context")+".Consumer";case Tt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return n=e.displayName||null,n!==null?n:Qt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return Qt(e(n))}catch{}}return null}var he=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},K=[],Rt=-1;function O(e){return{current:e}}function G(e){0>Rt||(e.current=K[Rt],K[Rt]=null,Rt--)}function it(e,n){Rt++,K[Rt]=e.current,e.current=n}var at=O(null),_t=O(null),yt=O(null),nt=O(null);function gt(e,n){switch(it(yt,n),it(_t,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?p_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=p_(n),e=y_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(at),it(at,e)}function xt(){G(at),G(_t),G(yt)}function Le(e){e.memoizedState!==null&&it(nt,e);var n=at.current,a=y_(n,e.type);n!==a&&(it(_t,e),it(at,a))}function Rn(e){_t.current===e&&(G(at),G(_t)),nt.current===e&&(G(nt),yl._currentValue=pt)}var Ui,gn;function si(e){if(Ui===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ui=n&&n[1]||"",gn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ui+e+gn}var yo=!1;function ds(e,n){if(!e||yo)return"";yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var j=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){j=H}e.call($.prototype)}}else{try{throw Error()}catch(H){j=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),y=d[0],E=d[1];if(y&&E){var C=y.split(`
`),z=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===z.length)for(o=C.length-1,h=z.length-1;1<=o&&0<=h&&C[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==z[h]){var Y=`
`+C[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{yo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?si(a):""}function _o(e,n){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==n&&n!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return ds(e.type,!1);case 11:return ds(e.type.render,!1);case 1:return ds(e.type,!0);case 31:return si("Activity");default:return""}}function vo(e){try{var n="",a=null;do n+=_o(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ee=Object.prototype.hasOwnProperty,xe=r.unstable_scheduleCallback,gr=r.unstable_cancelCallback,Uh=r.unstable_shouldYield,iu=r.unstable_requestPaint,nn=r.unstable_now,ms=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,To=r.unstable_UserBlockingPriority,pr=r.unstable_NormalPriority,kh=r.unstable_LowPriority,ru=r.unstable_IdlePriority,su=r.log,au=r.unstable_setDisableYieldValue,Gn=null,qe=null;function In(e){if(typeof su=="function"&&au(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Gn,e)}catch{}}var ge=Math.clz32?Math.clz32:lu,ou=Math.log,ia=Math.LN2;function lu(e){return e>>>=0,e===0?32:31-(ou(e)/ia|0)|0}var ai=256,gs=262144,Te=4194304;function oi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=oi(o):(y&=E,y!==0?h=oi(y):a||(a=E&~e,a!==0&&(h=oi(a))))):(E=o&~d,E!==0?h=oi(E):y!==0?h=oi(y):a||(a=o&~e,a!==0&&(h=oi(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Fn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function zh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function ui(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ps(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jh(e,n,a,o,h,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(a=y&~a;0<a;){var Y=31-ge(a),$=1<<Y;E[Y]=0,C[Y]=-1;var j=z[Y];if(j!==null)for(z[Y]=null,Y=0;Y<j.length;Y++){var H=j[Y];H!==null&&(H.lane&=-536870913)}a&=~$}o!==0&&ys(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~n))}function ys(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Ao(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ge(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function So(e,n){var a=n&-n;return a=(a&42)!==0?1:_s(a),(a&(e.suspendedLanes|n))!==0?0:a}function _s(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:j_(e.type))}function Yn(e,n){var a=st.p;try{return st.p=e,n()}finally{st.p=a}}var Qn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Qn,Ue="__reactProps$"+Qn,ci="__reactContainer$"+Qn,ra="__reactEvents$"+Qn,Bh="__reactListeners$"+Qn,hu="__reactHandles$"+Qn,fu="__reactResources$"+Qn,hi="__reactMarker$"+Qn;function sa(e){delete e[Ae],delete e[Ue],delete e[ra],delete e[Bh],delete e[hu]}function fi(e){var n=e[Ae];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ci]||a[Ae]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=b_(e);e!==null;){if(a=e[Ae])return a;e=b_(e)}return n}e=a,a=e.parentNode}return null}function Cn(e){if(e=e[Ae]||e[ci]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function di(e){var n=e[fu];return n||(n=e[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Se(e){e[hi]=!0}var bo=new Set,wo={};function mi(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(wo[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Co={};function du(e){return Ee.call(Co,e)?!0:Ee.call(Io,e)?!1:Ro.test(e)?Co[e]=!0:(Io[e]=!0,!1)}function aa(e,n,a){if(du(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function yn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function be(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xt(e){if(!e._valueTracker){var n=yr(e)?"checked":"value";e._valueTracker=No(e,n,""+e[n])}}function vs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=yr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Es=/[\n"\\]/g;function an(e){return e.replace(Es,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(e,n,a,o,h,d,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Do(e,y,ke(n)):a!=null?Do(e,y,ke(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function mu(e,n,a,o,h,d,y,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Xt(e);return}a=a!=null?""+ke(a):"",n=n!=null?""+ke(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Xt(e)}function Do(e,n,a){n==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function _r(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+ke(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function gu(e,n,a){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+ke(a):""}function vr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(he(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=ke(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Xt(e)}function on(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||pu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function xo(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Oo(e,h,o)}else for(var d in n)n.hasOwnProperty(d)&&Oo(e,d,n[d])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return Er.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var Mo=null;function Nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tr=null,yi=null;function Ts(e){var n=Cn(e);if(n&&(e=n.stateNode)){var a=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(oa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(s(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&vs(o)}break t;case"textarea":gu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&_r(e,!!a.multiple,n,!1)}}}var ca=!1;function Ar(e,n,a){if(ca)return e(n,a);ca=!0;try{var o=e(n);return o}finally{if(ca=!1,(Tr!==null||yi!==null)&&(cc(),Tr&&(n=Tr,e=yi,yi=Tr=null,Ts(n),e)))for(n=0;n<e.length;n++)Ts(e[n])}}function Xn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ue]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),As=!1;if(Dn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){As=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{As=!1}var _i=null,Vo=null,Ss=null;function Po(){if(Ss)return Ss;var e,n=Vo,a=n.length,o,h="value"in _i?_i.value:_i.textContent,d=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[d-o];o++);return Ss=h.slice(e,1<o?1-o:void 0)}function bs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function $n(){return!1}function He(e){function n(a,o,h,d,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:$n,this.isPropagationStopped=$n,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=He(ji),Sr=S({},ji,{view:0,detail:0}),Lo=He(Sr),br,ha,Ei,fa=S({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(br=e.screenX-Ei.screenX,ha=e.screenY-Ei.screenY):ha=br=0,Ei=e),br)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Uo=He(fa),ws=S({},fa,{dataTransfer:0}),_u=He(ws),vu=S({},Sr,{relatedTarget:0}),Rs=He(vu),ko=S({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=He(ko),da=S({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tu=He(da),Au=S({},ji,{data:0}),Ti=He(Au),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=wu[e])?!!n[e]:!1}function wr(){return Ru}var rn=S({},Sr,{key:function(e){if(e.key){var n=Su[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iu=He(rn),Cu=S({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=He(Cu),c=S({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),m=He(c),v=S({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=He(v),U=S({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=He(U),rt=S({},ji,{newState:0,oldState:0}),Nt=He(rt),pe=[9,13,27,32],Ft=Dn&&"CompositionEvent"in window,le=null;Dn&&"documentMode"in document&&(le=document.documentMode);var On=Dn&&"TextEvent"in window&&!le,Ai=Dn&&(!Ft||le&&8<le&&11>=le),Zn=" ",Jn=!1;function Is(e,n){switch(e){case"keyup":return pe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function aA(e,n){switch(e){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(Jn=!0,Zn);case"textInput":return e=n.data,e===Zn&&Jn?null:e;default:return null}}function oA(e,n){if(ga)return e==="compositionend"||!Ft&&Is(e,n)?(e=Po(),Ss=Vo=_i=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var lA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!lA[e.type]:n==="textarea"}function Cg(e,n,a,o){Tr?yi?yi.push(o):yi=[o]:Tr=o,n=yc(n,"onChange"),0<n.length&&(a=new vi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var zo=null,jo=null;function uA(e){c_(e,0)}function Nu(e){var n=pn(e);if(vs(n))return e}function Ng(e,n){if(e==="change")return n}var Dg=!1;if(Dn){var qh;if(Dn){var Hh="oninput"in document;if(!Hh){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),Hh=typeof Og.oninput=="function"}qh=Hh}else qh=!1;Dg=qh&&(!document.documentMode||9<document.documentMode)}function xg(){zo&&(zo.detachEvent("onpropertychange",Mg),jo=zo=null)}function Mg(e){if(e.propertyName==="value"&&Nu(jo)){var n=[];Cg(n,jo,e,Nn(e)),Ar(uA,n)}}function cA(e,n,a){e==="focusin"?(xg(),zo=n,jo=a,zo.attachEvent("onpropertychange",Mg)):e==="focusout"&&xg()}function hA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nu(jo)}function fA(e,n){if(e==="click")return Nu(n)}function dA(e,n){if(e==="input"||e==="change")return Nu(n)}function mA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:mA;function Bo(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ee.call(n,h)||!_n(e[h],n[h]))return!1}return!0}function Vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pg(e,n){var a=Vg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vg(a)}}function Lg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Lg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ug(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=pi(e.document)}return n}function Gh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var gA=Dn&&"documentMode"in document&&11>=document.documentMode,pa=null,Fh=null,qo=null,Yh=!1;function kg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||pa==null||pa!==pi(o)||(o=pa,"selectionStart"in o&&Gh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Bo(qo,o)||(qo=o,o=yc(Fh,"onSelect"),0<o.length&&(n=new vi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=pa)))}function Cs(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ya={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},Qh={},zg={};Dn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Ns(e){if(Qh[e])return Qh[e];if(!ya[e])return e;var n=ya[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in zg)return Qh[e]=n[a];return e}var jg=Ns("animationend"),Bg=Ns("animationiteration"),qg=Ns("animationstart"),pA=Ns("transitionrun"),yA=Ns("transitionstart"),_A=Ns("transitioncancel"),Hg=Ns("transitionend"),Gg=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function Wn(e,n){Gg.set(e,n),mi(n,[e])}var Du=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],_a=0,Xh=0;function Ou(){for(var e=_a,n=Xh=_a=0;n<e;){var a=xn[n];xn[n++]=null;var o=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var d=xn[n];if(xn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}d!==0&&Fg(a,h,d)}}function xu(e,n,a,o){xn[_a++]=e,xn[_a++]=n,xn[_a++]=a,xn[_a++]=o,Xh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function $h(e,n,a,o){return xu(e,n,a,o),Mu(e)}function Ds(e,n){return xu(e,null,null,n),Mu(e)}function Fg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-ge(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),d):null}function Mu(e){if(50<cl)throw cl=0,ad=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function vA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,n,a,o){return new vA(e,n,a,o)}function Zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,n){var a=e.alternate;return a===null?(a=vn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Yg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Vu(e,n,a,o,h,d){var y=0;if(o=e,typeof e=="function")Zh(e)&&(y=1);else if(typeof e=="string")y=bS(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=vn(31,a,n,h),e.elementType=R,e.lanes=d,e;case et:return Os(a.children,h,d,n);case J:y=8,h|=24;break;case lt:return e=vn(12,a,n,h|2),e.elementType=lt,e.lanes=d,e;case Pt:return e=vn(13,a,n,h),e.elementType=Pt,e.lanes=d,e;case tt:return e=vn(19,a,n,h),e.elementType=tt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:y=10;break t;case ut:y=9;break t;case Tt:y=11;break t;case w:y=14;break t;case b:y=16,o=null;break t}y=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=vn(y,a,n,h),n.elementType=e,n.type=o,n.lanes=d,n}function Os(e,n,a,o){return e=vn(7,e,o,n),e.lanes=a,e}function Jh(e,n,a){return e=vn(6,e,null,n),e.lanes=a,e}function Qg(e){var n=vn(18,null,null,0);return n.stateNode=e,n}function Wh(e,n,a){return n=vn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Kg=new WeakMap;function Mn(e,n){if(typeof e=="object"&&e!==null){var a=Kg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:vo(n)},Kg.set(e,n),n)}return{value:e,source:n,stack:vo(n)}}var Ea=[],Ta=0,Pu=null,Ho=0,Vn=[],Pn=0,Rr=null,Si=1,bi="";function Hi(e,n){Ea[Ta++]=Ho,Ea[Ta++]=Pu,Pu=e,Ho=n}function Xg(e,n,a){Vn[Pn++]=Si,Vn[Pn++]=bi,Vn[Pn++]=Rr,Rr=e;var o=Si;e=bi;var h=32-ge(o)-1;o&=~(1<<h),a+=1;var d=32-ge(n)+h;if(30<d){var y=h-h%5;d=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Si=1<<32-ge(n)+h|a<<h|o,bi=d+e}else Si=1<<d|a<<h|o,bi=e}function tf(e){e.return!==null&&(Hi(e,1),Xg(e,1,0))}function ef(e){for(;e===Pu;)Pu=Ea[--Ta],Ea[Ta]=null,Ho=Ea[--Ta],Ea[Ta]=null;for(;e===Rr;)Rr=Vn[--Pn],Vn[Pn]=null,bi=Vn[--Pn],Vn[Pn]=null,Si=Vn[--Pn],Vn[Pn]=null}function $g(e,n){Vn[Pn++]=Si,Vn[Pn++]=bi,Vn[Pn++]=Rr,Si=n.id,bi=n.overflow,Rr=e}var Ge=null,se=null,Bt=!1,Ir=null,Ln=!1,nf=Error(s(519));function Cr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(Mn(n,e)),nf}function Zg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Ae]=e,n[Ue]=o,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<fl.length;a++)Vt(fl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),mu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),vr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||m_(n.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=Kn),n=!0):n=!1,n||Cr(e,!0)}function Jg(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ge=Ge.return}}function Aa(e){if(e!==Ge)return!1;if(!Bt)return Jg(e),Bt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Td(e.type,e.memoizedProps)),a=!a),a&&se&&Cr(e),Jg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));se=S_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));se=S_(e)}else n===27?(n=se,qr(e.type)?(e=Rd,Rd=null,se=e):se=n):se=Ge?kn(e.stateNode.nextSibling):null;return!0}function xs(){se=Ge=null,Bt=!1}function rf(){var e=Ir;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Ir=null),e}function Go(e){Ir===null?Ir=[e]:Ir.push(e)}var sf=O(null),Ms=null,Gi=null;function Nr(e,n,a){it(sf,n._currentValue),n._currentValue=a}function Fi(e){e._currentValue=sf.current,G(sf)}function af(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function of(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),af(d.return,a,e),o||(y=null);break t}d=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),af(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Sa(e,n,a,o){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=h.type;_n(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===nt.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&of(n,e,a,o),n.flags|=262144}function Lu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vs(e){Ms=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Wg(Ms,e)}function Uu(e,n){return Ms===null&&Vs(e),Wg(e,n)}function Wg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Gi===null){if(e===null)throw Error(s(308));Gi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gi=Gi.next=n;return a}var EA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},TA=r.unstable_scheduleCallback,AA=r.unstable_NormalPriority,we={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new EA,data:new Map,refCount:0}}function Fo(e){e.refCount--,e.refCount===0&&TA(AA,function(){e.controller.abort()})}var Yo=null,uf=0,ba=0,wa=null;function SA(e,n){if(Yo===null){var a=Yo=[];uf=0,ba=fd(),wa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return uf++,n.then(tp,tp),n}function tp(){if(--uf===0&&Yo!==null){wa!==null&&(wa.status="fulfilled");var e=Yo;Yo=null,ba=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function bA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var ep=F.S;F.S=function(e,n){ky=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&SA(e,n),ep!==null&&ep(e,n)};var Ps=O(null);function cf(){var e=Ps.current;return e!==null?e:ne.pooledCache}function ku(e,n){n===null?it(Ps,Ps.current):it(Ps,n.pool)}function np(){var e=cf();return e===null?null:{parent:we._currentValue,pool:e}}var Ra=Error(s(460)),hf=Error(s(474)),zu=Error(s(542)),ju={then:function(){}};function ip(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Kn,Kn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ap(e),e;default:if(typeof n.status=="string")n.then(Kn,Kn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ap(e),e}throw Us=n,Ra}}function Ls(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Us=a,Ra):a}}var Us=null;function sp(){if(Us===null)throw Error(s(459));var e=Us;return Us=null,e}function ap(e){if(e===Ra||e===zu)throw Error(s(483))}var Ia=null,Qo=0;function Bu(e){var n=Qo;return Qo+=1,Ia===null&&(Ia=[]),rp(Ia,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function qu(e,n){throw n.$$typeof===N?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function op(e){function n(P,M){if(e){var k=P.deletions;k===null?(P.deletions=[M],P.flags|=16):k.push(M)}}function a(P,M){if(!e)return null;for(;M!==null;)n(P,M),M=M.sibling;return null}function o(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=qi(P,M),P.index=0,P.sibling=null,P}function d(P,M,k){return P.index=k,e?(k=P.alternate,k!==null?(k=k.index,k<M?(P.flags|=67108866,M):k):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function y(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function E(P,M,k,Q){return M===null||M.tag!==6?(M=Jh(k,P.mode,Q),M.return=P,M):(M=h(M,k),M.return=P,M)}function C(P,M,k,Q){var vt=k.type;return vt===et?Y(P,M,k.props.children,Q,k.key):M!==null&&(M.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===b&&Ls(vt)===M.type)?(M=h(M,k.props),Ko(M,k),M.return=P,M):(M=Vu(k.type,k.key,k.props,null,P.mode,Q),Ko(M,k),M.return=P,M)}function z(P,M,k,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==k.containerInfo||M.stateNode.implementation!==k.implementation?(M=Wh(k,P.mode,Q),M.return=P,M):(M=h(M,k.children||[]),M.return=P,M)}function Y(P,M,k,Q,vt){return M===null||M.tag!==7?(M=Os(k,P.mode,Q,vt),M.return=P,M):(M=h(M,k),M.return=P,M)}function $(P,M,k){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Jh(""+M,P.mode,k),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return k=Vu(M.type,M.key,M.props,null,P.mode,k),Ko(k,M),k.return=P,k;case W:return M=Wh(M,P.mode,k),M.return=P,M;case b:return M=Ls(M),$(P,M,k)}if(he(M)||V(M))return M=Os(M,P.mode,k,null),M.return=P,M;if(typeof M.then=="function")return $(P,Bu(M),k);if(M.$$typeof===mt)return $(P,Uu(P,M),k);qu(P,M)}return null}function j(P,M,k,Q){var vt=M!==null?M.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return vt!==null?null:E(P,M,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case q:return k.key===vt?C(P,M,k,Q):null;case W:return k.key===vt?z(P,M,k,Q):null;case b:return k=Ls(k),j(P,M,k,Q)}if(he(k)||V(k))return vt!==null?null:Y(P,M,k,Q,null);if(typeof k.then=="function")return j(P,M,Bu(k),Q);if(k.$$typeof===mt)return j(P,M,Uu(P,k),Q);qu(P,k)}return null}function H(P,M,k,Q,vt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return P=P.get(k)||null,E(M,P,""+Q,vt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return P=P.get(Q.key===null?k:Q.key)||null,C(M,P,Q,vt);case W:return P=P.get(Q.key===null?k:Q.key)||null,z(M,P,Q,vt);case b:return Q=Ls(Q),H(P,M,k,Q,vt)}if(he(Q)||V(Q))return P=P.get(k)||null,Y(M,P,Q,vt,null);if(typeof Q.then=="function")return H(P,M,k,Bu(Q),vt);if(Q.$$typeof===mt)return H(P,M,k,Uu(M,Q),vt);qu(M,Q)}return null}function ht(P,M,k,Q){for(var vt=null,Ht=null,ft=M,Ot=M=0,Ut=null;ft!==null&&Ot<k.length;Ot++){ft.index>Ot?(Ut=ft,ft=null):Ut=ft.sibling;var Gt=j(P,ft,k[Ot],Q);if(Gt===null){ft===null&&(ft=Ut);break}e&&ft&&Gt.alternate===null&&n(P,ft),M=d(Gt,M,Ot),Ht===null?vt=Gt:Ht.sibling=Gt,Ht=Gt,ft=Ut}if(Ot===k.length)return a(P,ft),Bt&&Hi(P,Ot),vt;if(ft===null){for(;Ot<k.length;Ot++)ft=$(P,k[Ot],Q),ft!==null&&(M=d(ft,M,Ot),Ht===null?vt=ft:Ht.sibling=ft,Ht=ft);return Bt&&Hi(P,Ot),vt}for(ft=o(ft);Ot<k.length;Ot++)Ut=H(ft,P,Ot,k[Ot],Q),Ut!==null&&(e&&Ut.alternate!==null&&ft.delete(Ut.key===null?Ot:Ut.key),M=d(Ut,M,Ot),Ht===null?vt=Ut:Ht.sibling=Ut,Ht=Ut);return e&&ft.forEach(function(Qr){return n(P,Qr)}),Bt&&Hi(P,Ot),vt}function At(P,M,k,Q){if(k==null)throw Error(s(151));for(var vt=null,Ht=null,ft=M,Ot=M=0,Ut=null,Gt=k.next();ft!==null&&!Gt.done;Ot++,Gt=k.next()){ft.index>Ot?(Ut=ft,ft=null):Ut=ft.sibling;var Qr=j(P,ft,Gt.value,Q);if(Qr===null){ft===null&&(ft=Ut);break}e&&ft&&Qr.alternate===null&&n(P,ft),M=d(Qr,M,Ot),Ht===null?vt=Qr:Ht.sibling=Qr,Ht=Qr,ft=Ut}if(Gt.done)return a(P,ft),Bt&&Hi(P,Ot),vt;if(ft===null){for(;!Gt.done;Ot++,Gt=k.next())Gt=$(P,Gt.value,Q),Gt!==null&&(M=d(Gt,M,Ot),Ht===null?vt=Gt:Ht.sibling=Gt,Ht=Gt);return Bt&&Hi(P,Ot),vt}for(ft=o(ft);!Gt.done;Ot++,Gt=k.next())Gt=H(ft,P,Ot,Gt.value,Q),Gt!==null&&(e&&Gt.alternate!==null&&ft.delete(Gt.key===null?Ot:Gt.key),M=d(Gt,M,Ot),Ht===null?vt=Gt:Ht.sibling=Gt,Ht=Gt);return e&&ft.forEach(function(PS){return n(P,PS)}),Bt&&Hi(P,Ot),vt}function ee(P,M,k,Q){if(typeof k=="object"&&k!==null&&k.type===et&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case q:t:{for(var vt=k.key;M!==null;){if(M.key===vt){if(vt=k.type,vt===et){if(M.tag===7){a(P,M.sibling),Q=h(M,k.props.children),Q.return=P,P=Q;break t}}else if(M.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===b&&Ls(vt)===M.type){a(P,M.sibling),Q=h(M,k.props),Ko(Q,k),Q.return=P,P=Q;break t}a(P,M);break}else n(P,M);M=M.sibling}k.type===et?(Q=Os(k.props.children,P.mode,Q,k.key),Q.return=P,P=Q):(Q=Vu(k.type,k.key,k.props,null,P.mode,Q),Ko(Q,k),Q.return=P,P=Q)}return y(P);case W:t:{for(vt=k.key;M!==null;){if(M.key===vt)if(M.tag===4&&M.stateNode.containerInfo===k.containerInfo&&M.stateNode.implementation===k.implementation){a(P,M.sibling),Q=h(M,k.children||[]),Q.return=P,P=Q;break t}else{a(P,M);break}else n(P,M);M=M.sibling}Q=Wh(k,P.mode,Q),Q.return=P,P=Q}return y(P);case b:return k=Ls(k),ee(P,M,k,Q)}if(he(k))return ht(P,M,k,Q);if(V(k)){if(vt=V(k),typeof vt!="function")throw Error(s(150));return k=vt.call(k),At(P,M,k,Q)}if(typeof k.then=="function")return ee(P,M,Bu(k),Q);if(k.$$typeof===mt)return ee(P,M,Uu(P,k),Q);qu(P,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,M!==null&&M.tag===6?(a(P,M.sibling),Q=h(M,k),Q.return=P,P=Q):(a(P,M),Q=Jh(k,P.mode,Q),Q.return=P,P=Q),y(P)):a(P,M)}return function(P,M,k,Q){try{Qo=0;var vt=ee(P,M,k,Q);return Ia=null,vt}catch(ft){if(ft===Ra||ft===zu)throw ft;var Ht=vn(29,ft,null,P.mode);return Ht.lanes=Q,Ht.return=P,Ht}finally{}}}var ks=op(!0),lp=op(!1),Dr=!1;function ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Or(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Mu(e),Fg(e,null,a),n}return xu(e,o,n,a),Mu(e)}function Xo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ao(e,a)}}function mf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var gf=!1;function $o(){if(gf){var e=wa;if(e!==null)throw e}}function Zo(e,n,a,o){gf=!1;var h=e.updateQueue;Dr=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,y===null?d=z:y.next=z,y=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==y&&(E===null?Y.firstBaseUpdate=z:E.next=z,Y.lastBaseUpdate=C))}if(d!==null){var $=h.baseState;y=0,Y=z=C=null,E=d;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Lt&j)===j:(o&j)===j){j!==0&&j===ba&&(gf=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=e,At=E;j=n;var ee=a;switch(At.tag){case 1:if(ht=At.payload,typeof ht=="function"){$=ht.call(ee,$,j);break t}$=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=At.payload,j=typeof ht=="function"?ht.call(ee,$,j):ht,j==null)break t;$=S({},$,j);break t;case 2:Dr=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(z=Y=H,C=$):Y=Y.next=H,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(C=$),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Ur|=y,e.lanes=y,e.memoizedState=$}}function up(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function cp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)up(a[e],n)}var Ca=O(null),Hu=O(0);function hp(e,n){e=tr,it(Hu,e),it(Ca,n),tr=e|n.baseLanes}function pf(){it(Hu,tr),it(Ca,Ca.current)}function yf(){tr=Hu.current,G(Ca),G(Hu)}var En=O(null),Un=null;function Mr(e){var n=e.alternate;it(ye,ye.current&1),it(En,e),Un===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(Un=e)}function _f(e){it(ye,ye.current),it(En,e),Un===null&&(Un=e)}function fp(e){e.tag===22?(it(ye,ye.current),it(En,e),Un===null&&(Un=e)):Vr()}function Vr(){it(ye,ye.current),it(En,En.current)}function Tn(e){G(En),Un===e&&(Un=null),G(ye)}var ye=O(0);function Gu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bd(a)||wd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,Dt=null,Wt=null,Re=null,Fu=!1,Na=!1,zs=!1,Yu=0,Jo=0,Da=null,wA=0;function fe(){throw Error(s(321))}function vf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!_n(e[a],n[a]))return!1;return!0}function Ef(e,n,a,o,h,d){return Yi=d,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Xp:Pf,zs=!1,d=a(o,h),zs=!1,Na&&(d=mp(n,a,o,h)),dp(e),d}function dp(e){F.H=el;var n=Wt!==null&&Wt.next!==null;if(Yi=0,Re=Wt=Dt=null,Fu=!1,Jo=0,Da=null,n)throw Error(s(300));e===null||Ie||(e=e.dependencies,e!==null&&Lu(e)&&(Ie=!0))}function mp(e,n,a,o){Dt=e;var h=0;do{if(Na&&(Da=null),Jo=0,Na=!1,25<=h)throw Error(s(301));if(h+=1,Re=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=$p,d=n(a,o)}while(Na);return d}function RA(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Wo(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Dt.flags|=1024),n}function Tf(){var e=Yu!==0;return Yu=0,e}function Af(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Sf(e){if(Fu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Fu=!1}Yi=0,Re=Wt=Dt=null,Na=!1,Jo=Yu=0,Da=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Dt.memoizedState=Re=e:Re=Re.next=e,Re}function _e(){if(Wt===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=Re===null?Dt.memoizedState:Re.next;if(n!==null)Re=n,Wt=e;else{if(e===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Re===null?Dt.memoizedState=Re=e:Re=Re.next=e}return Re}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var n=Jo;return Jo+=1,Da===null&&(Da=[]),e=rp(Da,e,n),n=Dt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Xp:Pf),e}function Ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===mt)return Fe(e)}throw Error(s(438,String(e)))}function bf(e){var n=null,a=Dt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Qu(),Dt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=x;return n.index++,a}function Qi(e,n){return typeof n=="function"?n(e):n}function Xu(e){var n=_e();return wf(n,Wt,e)}function wf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}n.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var E=y=null,C=null,z=n,Y=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Lt&$)===$:(Yi&$)===$){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===ba&&(Y=!0);else if((Yi&j)===j){z=z.next,j===ba&&(Y=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=$,y=d):C=C.next=$,Dt.lanes|=j,Ur|=j;$=z.action,zs&&a(d,$),d=z.hasEagerState?z.eagerState:a(d,$)}else j={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,y=d):C=C.next=j,Dt.lanes|=$,Ur|=$;z=z.next}while(z!==null&&z!==n);if(C===null?y=d:C.next=E,!_n(d,e.memoizedState)&&(Ie=!0,Y&&(a=wa,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=C,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Rf(e){var n=_e(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);_n(d,n.memoizedState)||(Ie=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function gp(e,n,a){var o=Dt,h=_e(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!_n((Wt||h).memoizedState,a);if(y&&(h.memoizedState=a,Ie=!0),h=h.queue,Nf(_p.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},yp.bind(null,o,h,a,n),null),ne===null)throw Error(s(349));d||(Yi&127)!==0||pp(o,n,a)}return a}function pp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Dt.updateQueue,n===null?(n=Qu(),Dt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function yp(e,n,a,o){n.value=a,n.getSnapshot=o,vp(n)&&Ep(e)}function _p(e,n,a){return a(function(){vp(n)&&Ep(e)})}function vp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!_n(e,a)}catch{return!0}}function Ep(e){var n=Ds(e,2);n!==null&&fn(n,e,2)}function If(e){var n=sn();if(typeof e=="function"){var a=e;if(e=a(),zs){In(!0);try{a()}finally{In(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},n}function Tp(e,n,a,o){return e.baseState=a,wf(e,Wt,typeof o=="function"?o:Qi)}function IA(e,n,a,o,h){if(Ju(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};F.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,Ap(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Ap(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var d=F.T,y={};F.T=y;try{var E=a(h,o),C=F.S;C!==null&&C(y,E),Sp(e,n,E)}catch(z){Cf(e,n,z)}finally{d!==null&&y.types!==null&&(d.types=y.types),F.T=d}}else try{d=a(h,o),Sp(e,n,d)}catch(z){Cf(e,n,z)}}function Sp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){bp(e,n,o)},function(o){return Cf(e,n,o)}):bp(e,n,a)}function bp(e,n,a){n.status="fulfilled",n.value=a,wp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Ap(e,a)))}function Cf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,wp(n),n=n.next;while(n!==o)}e.action=null}function wp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Rp(e,n){return n}function Ip(e,n){if(Bt){var a=ne.formState;if(a!==null){t:{var o=Dt;if(Bt){if(se){e:{for(var h=se,d=Ln;h.nodeType!==8;){if(!d){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){se=kn(h.nextSibling),o=h.data==="F!";break t}}Cr(o)}o=!1}o&&(n=a[0])}}return a=sn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:n},a.queue=o,a=Yp.bind(null,Dt,o),o.dispatch=a,o=If(!1),d=Vf.bind(null,Dt,!1,o.queue),o=sn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=IA.bind(null,Dt,h,d,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Cp(e){var n=_e();return Np(n,Wt,e)}function Np(e,n,a){if(n=wf(e,n,Rp)[0],e=Xu(Qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Wo(n)}catch(y){throw y===Ra?zu:y}else o=n;n=_e();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(Dt.flags|=2048,Oa(9,{destroy:void 0},CA.bind(null,h,a),null)),[o,d,e]}function CA(e,n){e.action=n}function Dp(e){var n=_e(),a=Wt;if(a!==null)return Np(n,a,e);_e(),n=n.memoizedState,a=_e();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Oa(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=Qu(),Dt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Op(){return _e().memoizedState}function $u(e,n,a,o){var h=sn();Dt.flags|=e,h.memoizedState=Oa(1|n,{destroy:void 0},a,o===void 0?null:o)}function Zu(e,n,a,o){var h=_e();o=o===void 0?null:o;var d=h.memoizedState.inst;Wt!==null&&o!==null&&vf(o,Wt.memoizedState.deps)?h.memoizedState=Oa(n,d,a,o):(Dt.flags|=e,h.memoizedState=Oa(1|n,d,a,o))}function xp(e,n){$u(8390656,8,e,n)}function Nf(e,n){Zu(2048,8,e,n)}function NA(e){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=Qu(),Dt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Mp(e){var n=_e().memoizedState;return NA({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Vp(e,n){return Zu(4,2,e,n)}function Pp(e,n){return Zu(4,4,e,n)}function Lp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Up(e,n,a){a=a!=null?a.concat([e]):null,Zu(4,4,Lp.bind(null,n,e),a)}function Df(){}function kp(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&vf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function zp(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&vf(n,o[1]))return o[0];if(o=e(),zs){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[o,n],o}function Of(e,n,a){return a===void 0||(Yi&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=jy(),Dt.lanes|=e,Ur|=e,a)}function jp(e,n,a,o){return _n(a,n)?a:Ca.current!==null?(e=Of(e,a,o),_n(e,n)||(Ie=!0),e):(Yi&42)===0||(Yi&1073741824)!==0&&(Lt&261930)===0?(Ie=!0,e.memoizedState=a):(e=jy(),Dt.lanes|=e,Ur|=e,n)}function Bp(e,n,a,o,h){var d=st.p;st.p=d!==0&&8>d?d:8;var y=F.T,E={};F.T=E,Vf(e,!1,n,a);try{var C=h(),z=F.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=bA(C,o);tl(e,n,Y,bn(e))}else tl(e,n,o,bn(e))}catch($){tl(e,n,{then:function(){},status:"rejected",reason:$},bn())}finally{st.p=d,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function DA(){}function xf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=qp(e).queue;Bp(e,h,n,pt,a===null?DA:function(){return Hp(e),a(o)})}function qp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:pt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Hp(e){var n=qp(e);n.next===null&&(n=e.alternate.memoizedState),tl(e,n.next.queue,{},bn())}function Mf(){return Fe(yl)}function Gp(){return _e().memoizedState}function Fp(){return _e().memoizedState}function OA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();e=Or(a);var o=xr(n,e,a);o!==null&&(fn(o,n,a),Xo(o,n,a)),n={cache:lf()},e.payload=n;return}n=n.return}}function xA(e,n,a){var o=bn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(e)?Qp(n,a):(a=$h(e,n,a,o),a!==null&&(fn(a,e,o),Kp(a,n,o)))}function Yp(e,n,a){var o=bn();tl(e,n,a,o)}function tl(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))Qp(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,E=d(y,a);if(h.hasEagerState=!0,h.eagerState=E,_n(E,y))return xu(e,n,h,0),ne===null&&Ou(),!1}catch{}finally{}if(a=$h(e,n,h,o),a!==null)return fn(a,e,o),Kp(a,n,o),!0}return!1}function Vf(e,n,a,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(e)){if(n)throw Error(s(479))}else n=$h(e,a,o,2),n!==null&&fn(n,e,2)}function Ju(e){var n=e.alternate;return e===Dt||n!==null&&n===Dt}function Qp(e,n){Na=Fu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Kp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ao(e,a)}}var el={readContext:Fe,use:Ku,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};el.useEffectEvent=fe;var Xp={readContext:Fe,use:Ku,useCallback:function(e,n){return sn().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:xp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,$u(4194308,4,Lp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return $u(4194308,4,e,n)},useInsertionEffect:function(e,n){$u(4,2,e,n)},useMemo:function(e,n){var a=sn();n=n===void 0?null:n;var o=e();if(zs){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=sn();if(a!==void 0){var h=a(n);if(zs){In(!0);try{a(n)}finally{In(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=xA.bind(null,Dt,e),[o.memoizedState,e]},useRef:function(e){var n=sn();return e={current:e},n.memoizedState=e},useState:function(e){e=If(e);var n=e.queue,a=Yp.bind(null,Dt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(e,n){var a=sn();return Of(a,e,n)},useTransition:function(){var e=If(!1);return e=Bp.bind(null,Dt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Dt,h=sn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ne===null)throw Error(s(349));(Lt&127)!==0||pp(o,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,xp(_p.bind(null,o,d,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},yp.bind(null,o,d,a,n),null),a},useId:function(){var e=sn(),n=ne.identifierPrefix;if(Bt){var a=bi,o=Si;a=(o&~(1<<32-ge(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Yu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=wA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Mf,useFormState:Ip,useActionState:Ip,useOptimistic:function(e){var n=sn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Vf.bind(null,Dt,!0,a),a.dispatch=n,[e,n]},useMemoCache:bf,useCacheRefresh:function(){return sn().memoizedState=OA.bind(null,Dt)},useEffectEvent:function(e){var n=sn(),a={impl:e};return n.memoizedState=a,function(){if((Yt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Pf={readContext:Fe,use:Ku,useCallback:kp,useContext:Fe,useEffect:Nf,useImperativeHandle:Up,useInsertionEffect:Vp,useLayoutEffect:Pp,useMemo:zp,useReducer:Xu,useRef:Op,useState:function(){return Xu(Qi)},useDebugValue:Df,useDeferredValue:function(e,n){var a=_e();return jp(a,Wt.memoizedState,e,n)},useTransition:function(){var e=Xu(Qi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:gp,useId:Gp,useHostTransitionStatus:Mf,useFormState:Cp,useActionState:Cp,useOptimistic:function(e,n){var a=_e();return Tp(a,Wt,e,n)},useMemoCache:bf,useCacheRefresh:Fp};Pf.useEffectEvent=Mp;var $p={readContext:Fe,use:Ku,useCallback:kp,useContext:Fe,useEffect:Nf,useImperativeHandle:Up,useInsertionEffect:Vp,useLayoutEffect:Pp,useMemo:zp,useReducer:Rf,useRef:Op,useState:function(){return Rf(Qi)},useDebugValue:Df,useDeferredValue:function(e,n){var a=_e();return Wt===null?Of(a,e,n):jp(a,Wt.memoizedState,e,n)},useTransition:function(){var e=Rf(Qi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:gp,useId:Gp,useHostTransitionStatus:Mf,useFormState:Dp,useActionState:Dp,useOptimistic:function(e,n){var a=_e();return Wt!==null?Tp(a,Wt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Fp};$p.useEffectEvent=Mp;function Lf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=bn(),h=Or(o);h.payload=n,a!=null&&(h.callback=a),n=xr(e,h,o),n!==null&&(fn(n,e,o),Xo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=bn(),h=Or(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=xr(e,h,o),n!==null&&(fn(n,e,o),Xo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=bn(),o=Or(a);o.tag=2,n!=null&&(o.callback=n),n=xr(e,o,a),n!==null&&(fn(n,e,a),Xo(n,e,a))}};function Zp(e,n,a,o,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,y):n.prototype&&n.prototype.isPureReactComponent?!Bo(a,o)||!Bo(h,d):!0}function Jp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Uf.enqueueReplaceState(n,n.state,null)}function js(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Wp(e){Du(e)}function ty(e){console.error(e)}function ey(e){Du(e)}function Wu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ny(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(e,n,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(e,n)},a}function iy(e){return e=Or(e),e.tag=3,e}function ry(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){ny(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){ny(n,a,o),typeof h!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function MA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Sa(n,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?hc():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ju?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ud(e,o,h)),!1;case 22:return a.flags|=65536,o===ju?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ud(e,o,h)),!1}throw Error(s(435,a.tag))}return ud(e,o,h),hc(),!1}if(Bt)return n=En.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==nf&&(e=Error(s(422),{cause:o}),Go(Mn(e,a)))):(o!==nf&&(n=Error(s(423),{cause:o}),Go(Mn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Mn(o,a),h=kf(e.stateNode,o,h),mf(e,h),de!==4&&(de=2)),!1;var d=Error(s(520),{cause:o});if(d=Mn(d,a),ul===null?ul=[d]:ul.push(d),de!==4&&(de=2),n===null)return!0;o=Mn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=kf(a.stateNode,o,e),mf(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(kr===null||!kr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=iy(h),ry(h,e,a,o),mf(a,h),!1}a=a.return}while(a!==null);return!1}var zf=Error(s(461)),Ie=!1;function Ye(e,n,a,o){n.child=e===null?lp(n,null,a,o):ks(n,e.child,a,o)}function sy(e,n,a,o,h){a=a.render;var d=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Vs(n),o=Ef(e,n,a,y,d,h),E=Tf(),e!==null&&!Ie?(Af(e,n,h),Ki(e,n,h)):(Bt&&E&&tf(n),n.flags|=1,Ye(e,n,o,h),n.child)}function ay(e,n,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!Zh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,oy(e,n,d,o,h)):(e=Vu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Qf(e,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(y,o)&&e.ref===n.ref)return Ki(e,n,h)}return n.flags|=1,e=qi(d,o),e.ref=n.ref,e.return=n,n.child=e}function oy(e,n,a,o,h){if(e!==null){var d=e.memoizedProps;if(Bo(d,o)&&e.ref===n.ref)if(Ie=!1,n.pendingProps=o=d,Qf(e,h))(e.flags&131072)!==0&&(Ie=!0);else return n.lanes=e.lanes,Ki(e,n,h)}return jf(e,n,a,o,h)}function ly(e,n,a,o){var h=o.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,n.child=null;return uy(e,n,d,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(n,d!==null?d.cachePool:null),d!==null?hp(n,d):pf(),fp(n);else return o=n.lanes=536870912,uy(e,n,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(ku(n,d.cachePool),hp(n,d),Vr(),n.memoizedState=null):(e!==null&&ku(n,null),pf(),Vr());return Ye(e,n,h,a),n.child}function nl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function uy(e,n,a,o,h){var d=cf();return d=d===null?null:{parent:we._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},e!==null&&ku(n,null),pf(),fp(n),e!==null&&Sa(e,n,o,!0),n.childLanes=h,null}function tc(e,n){return n=nc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function cy(e,n,a){return ks(n,e.child,null,a),e=tc(n,n.pendingProps),e.flags|=2,Tn(n),n.memoizedState=null,e}function VA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(o.mode==="hidden")return e=tc(n,o),n.lanes=536870912,nl(null,e);if(_f(n),(e=se)?(e=A_(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Qg(e),a.return=n,n.child=a,Ge=n,se=null)):e=null,e===null)throw Cr(n);return n.lanes=536870912,null}return tc(n,o)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(_f(n),h)if(n.flags&256)n.flags&=-257,n=cy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ie||Sa(e,n,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(o=ne,o!==null&&(y=So(o,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Ds(e,y),fn(o,e,y),zf;hc(),n=cy(e,n,a)}else e=d.treeContext,se=kn(y.nextSibling),Ge=n,Bt=!0,Ir=null,Ln=!1,e!==null&&$g(n,e),n=tc(n,o),n.flags|=4096;return n}return e=qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ec(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function jf(e,n,a,o,h){return Vs(n),a=Ef(e,n,a,o,void 0,h),o=Tf(),e!==null&&!Ie?(Af(e,n,h),Ki(e,n,h)):(Bt&&o&&tf(n),n.flags|=1,Ye(e,n,a,h),n.child)}function hy(e,n,a,o,h,d){return Vs(n),n.updateQueue=null,a=mp(n,o,a,h),dp(e),o=Tf(),e!==null&&!Ie?(Af(e,n,d),Ki(e,n,d)):(Bt&&o&&tf(n),n.flags|=1,Ye(e,n,a,d),n.child)}function fy(e,n,a,o,h){if(Vs(n),n.stateNode===null){var d=va,y=a.contextType;typeof y=="object"&&y!==null&&(d=Fe(y)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Uf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},ff(n),y=a.contextType,d.context=typeof y=="object"&&y!==null?Fe(y):va,d.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Lf(n,a,y,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Uf.enqueueReplaceState(d,d.state,null),Zo(n,o,d,h),$o(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var E=n.memoizedProps,C=js(a,E);d.props=C;var z=d.context,Y=a.contextType;y=va,typeof Y=="object"&&Y!==null&&(y=Fe(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==y)&&Jp(n,d,o,y),Dr=!1;var j=n.memoizedState;d.state=j,Zo(n,o,d,h),$o(),z=n.memoizedState,E||j!==z||Dr?(typeof $=="function"&&(Lf(n,a,$,o),z=n.memoizedState),(C=Dr||Zp(n,a,C,o,j,z,y))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),d.props=o,d.state=z,d.context=y,o=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,df(e,n),y=n.memoizedProps,Y=js(a,y),d.props=Y,$=n.pendingProps,j=d.context,z=a.contextType,C=va,typeof z=="object"&&z!==null&&(C=Fe(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==$||j!==C)&&Jp(n,d,o,C),Dr=!1,j=n.memoizedState,d.state=j,Zo(n,o,d,h),$o();var H=n.memoizedState;y!==$||j!==H||Dr||e!==null&&e.dependencies!==null&&Lu(e.dependencies)?(typeof E=="function"&&(Lf(n,a,E,o),H=n.memoizedState),(Y=Dr||Zp(n,a,Y,o,j,H,C)||e!==null&&e.dependencies!==null&&Lu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,H,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),d.props=o,d.state=H,d.context=C,o=Y):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,ec(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=ks(n,e.child,null,h),n.child=ks(n,null,a,h)):Ye(e,n,a,h),n.memoizedState=d.state,e=n.child):e=Ki(e,n,h),e}function dy(e,n,a,o){return xs(),n.flags|=256,Ye(e,n,a,o),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(e){return{baseLanes:e,cachePool:np()}}function Hf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Sn),e}function my(e,n,a){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?Mr(n):Vr(),(e=se)?(e=A_(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rr!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Qg(e),a.return=n,n.child=a,Ge=n,se=null)):e=null,e===null)throw Cr(n);return wd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Vr(),h=n.mode,E=nc({mode:"hidden",children:E},h),o=Os(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(e,y,a),n.memoizedState=Bf,nl(null,o)):(Mr(n),Gf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(d)n.flags&256?(Mr(n),n.flags&=-257,n=Ff(e,n,a)):n.memoizedState!==null?(Vr(),n.child=e.child,n.flags|=128,n=null):(Vr(),E=o.fallback,h=n.mode,o=nc({mode:"visible",children:o.children},h),E=Os(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,ks(n,e.child,null,a),o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(e,y,a),n.memoizedState=Bf,n=nl(null,o));else if(Mr(n),wd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(s(419)),o.stack="",o.digest=y,Go({value:o,source:null,stack:null}),n=Ff(e,n,a)}else if(Ie||Sa(e,n,a,!1),y=(a&e.childLanes)!==0,Ie||y){if(y=ne,y!==null&&(o=So(y,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Ds(e,o),fn(y,e,o),zf;bd(E)||hc(),n=Ff(e,n,a)}else bd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,se=kn(E.nextSibling),Ge=n,Bt=!0,Ir=null,Ln=!1,e!==null&&$g(n,e),n=Gf(n,o.children),n.flags|=4096);return n}return h?(Vr(),E=o.fallback,h=n.mode,C=e.child,z=C.sibling,o=qi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=qi(z,E):(E=Os(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,nl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=qf(a):(h=E.cachePool,h!==null?(C=we._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=np(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Hf(e,y,a),n.memoizedState=Bf,nl(e.child,o)):(Mr(n),a=e.child,e=a.sibling,a=qi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function Gf(e,n){return n=nc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function nc(e,n){return e=vn(22,e,null,n),e.lanes=0,e}function Ff(e,n,a){return ks(n,e.child,null,a),e=Gf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),af(e.return,n,a)}function Yf(e,n,a,o,h,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function py(e,n,a){var o=n.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var y=ye.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,it(ye,y),Ye(e,n,o,a),o=Bt?Ho:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gy(e,a,n);else if(e.tag===19)gy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Gu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yf(n,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Gu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Yf(n,!0,a,null,d,o);break;case"together":Yf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ki(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ur|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Sa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=qi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=qi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Lu(e)))}function PA(e,n,a){switch(n.tag){case 3:gt(n,n.stateNode.containerInfo),Nr(n,we,e.memoizedState.cache),xs();break;case 27:case 5:Le(n);break;case 4:gt(n,n.stateNode.containerInfo);break;case 10:Nr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_f(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Mr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?my(e,n,a):(Mr(n),e=Ki(e,n,a),e!==null?e.sibling:null);Mr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Sa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return py(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(ye,ye.current),o)break;return null;case 22:return n.lanes=0,ly(e,n,a,n.pendingProps);case 24:Nr(n,we,e.memoizedState.cache)}return Ki(e,n,a)}function yy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Qf(e,a)&&(n.flags&128)===0)return Ie=!1,PA(e,n,a);Ie=(e.flags&131072)!==0}else Ie=!1,Bt&&(n.flags&1048576)!==0&&Xg(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ls(n.elementType),n.type=e,typeof e=="function")Zh(e)?(o=js(e,o),n.tag=1,n=fy(null,n,e,o,a)):(n.tag=0,n=jf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Tt){n.tag=11,n=sy(null,n,e,o,a);break t}else if(h===w){n.tag=14,n=ay(null,n,e,o,a);break t}}throw n=Qt(e)||e,Error(s(306,n,""))}}return n;case 0:return jf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=js(o,n.pendingProps),fy(e,n,o,h,a);case 3:t:{if(gt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var d=n.memoizedState;h=d.element,df(e,n),Zo(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Nr(n,we,o),o!==d.cache&&of(n,[we],a,!0),$o(),o=y.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=dy(e,n,o,a);break t}else if(o!==h){h=Mn(Error(s(424)),n),Go(h),n=dy(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(se=kn(e.firstChild),Ge=n,Bt=!0,Ir=null,Ln=!0,a=lp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xs(),o===h){n=Ki(e,n,a);break t}Ye(e,n,o,a)}n=n.child}return n;case 26:return ec(e,n),e===null?(a=C_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,e=n.pendingProps,o=_c(yt.current).createElement(a),o[Ae]=n,o[Ue]=e,Qe(o,a,e),Se(o),n.stateNode=o):n.memoizedState=C_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Le(n),e===null&&Bt&&(o=n.stateNode=w_(n.type,n.pendingProps,yt.current),Ge=n,Ln=!0,h=se,qr(n.type)?(Rd=h,se=kn(o.firstChild)):se=h),Ye(e,n,n.pendingProps.children,a),ec(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=o=se)&&(o=hS(o,n.type,n.pendingProps,Ln),o!==null?(n.stateNode=o,Ge=n,se=kn(o.firstChild),Ln=!1,h=!0):h=!1),h||Cr(n)),Le(n),h=n.type,d=n.pendingProps,y=e!==null?e.memoizedProps:null,o=d.children,Td(h,d)?o=null:y!==null&&Td(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(e,n,RA,null,null,a),yl._currentValue=h),ec(e,n),Ye(e,n,o,a),n.child;case 6:return e===null&&Bt&&((e=a=se)&&(a=fS(a,n.pendingProps,Ln),a!==null?(n.stateNode=a,Ge=n,se=null,e=!0):e=!1),e||Cr(n)),null;case 13:return my(e,n,a);case 4:return gt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ks(n,null,o,a):Ye(e,n,o,a),n.child;case 11:return sy(e,n,n.type,n.pendingProps,a);case 7:return Ye(e,n,n.pendingProps,a),n.child;case 8:return Ye(e,n,n.pendingProps.children,a),n.child;case 12:return Ye(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Nr(n,n.type,o.value),Ye(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Vs(n),h=Fe(h),o=o(h),n.flags|=1,Ye(e,n,o,a),n.child;case 14:return ay(e,n,n.type,n.pendingProps,a);case 15:return oy(e,n,n.type,n.pendingProps,a);case 19:return py(e,n,a);case 31:return VA(e,n,a);case 22:return ly(e,n,a,n.pendingProps);case 24:return Vs(n),o=Fe(we),e===null?(h=cf(),h===null&&(h=ne,d=lf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:o,cache:h},ff(n),Nr(n,we,h)):((e.lanes&a)!==0&&(df(e,n),Zo(n,null,null,a),$o()),h=e.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Nr(n,we,o)):(o=d.cache,Nr(n,we,o),o!==h.cache&&of(n,[we],a,!0))),Ye(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Xi(e){e.flags|=4}function Kf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Gy())e.flags|=8192;else throw Us=ju,hf}else e.flags&=-16777217}function _y(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!M_(n))if(Gy())e.flags|=8192;else throw Us=ju,hf}function ic(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?uu():536870912,e.lanes|=n,Pa|=n)}function il(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function LA(e,n,a){var o=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fi(we),xt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Aa(n)?Xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),ae(n),null;case 26:var h=n.type,d=n.memoizedState;return e===null?(Xi(n),d!==null?(ae(n),_y(n,d)):(ae(n),Kf(n,h,null,o,a))):d?d!==e.memoizedState?(Xi(n),ae(n),_y(n,d)):(ae(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Xi(n),ae(n),Kf(n,h,e,o,a)),null;case 27:if(Rn(n),a=yt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ae(n),null}e=at.current,Aa(n)?Zg(n):(e=w_(h,o,a),n.stateNode=e,Xi(n))}return ae(n),null;case 5:if(Rn(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ae(n),null}if(d=at.current,Aa(n))Zg(n);else{var y=_c(yt.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}d[Ae]=n,d[Ue]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=d;t:switch(Qe(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Xi(n)}}return ae(n),Kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=yt.current,Aa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Ge,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||m_(e.nodeValue,a)),e||Cr(n,!0)}else e=_c(e).createTextNode(o),e[Ae]=n,n.stateNode=e}return ae(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Aa(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ae]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),e=!1}else a=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Tn(n),n):(Tn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ae(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ae]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Tn(n),n):(Tn(n),null)}return Tn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),ic(n,n.updateQueue),ae(n),null);case 4:return xt(),e===null&&pd(n.stateNode.containerInfo),ae(n),null;case 10:return Fi(n.type),ae(n),null;case 19:if(G(ye),o=n.memoizedState,o===null)return ae(n),null;if(h=(n.flags&128)!==0,d=o.rendering,d===null)if(h)il(o,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Gu(e),d!==null){for(n.flags|=128,il(o,!1),e=d.updateQueue,n.updateQueue=e,ic(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Yg(a,e),a=a.sibling;return it(ye,ye.current&1|2),Bt&&Hi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&nn()>lc&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304)}else{if(!h)if(e=Gu(d),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ic(n,e),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Bt)return ae(n),null}else 2*nn()-o.renderingStartTime>lc&&a!==536870912&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(e=o.last,e!==null?e.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nn(),e.sibling=null,a=ye.current,it(ye,h?a&1|2:a&1),Bt&&Hi(n,o.treeForkCount),e):(ae(n),null);case 22:case 23:return Tn(n),yf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),a=n.updateQueue,a!==null&&ic(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&G(Ps),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Fi(we),ae(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function UA(e,n){switch(ef(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fi(we),xt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Rn(n),null;case 31:if(n.memoizedState!==null){if(Tn(n),n.alternate===null)throw Error(s(340));xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Tn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));xs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return G(ye),null;case 4:return xt(),null;case 10:return Fi(n.type),null;case 22:case 23:return Tn(n),yf(),e!==null&&G(Ps),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fi(we),null;case 25:return null;default:return null}}function vy(e,n){switch(ef(n),n.tag){case 3:Fi(we),xt();break;case 26:case 27:case 5:Rn(n);break;case 4:xt();break;case 31:n.memoizedState!==null&&Tn(n);break;case 13:Tn(n);break;case 19:G(ye);break;case 10:Fi(n.type);break;case 22:case 23:Tn(n),yf(),e!==null&&G(Ps);break;case 24:Fi(we)}}function rl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,y=a.inst;o=d(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Zt(n,n.return,E)}}function Pr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var C=a,z=E;try{z()}catch(Y){Zt(h,C,Y)}}}o=o.next}while(o!==d)}}catch(Y){Zt(n,n.return,Y)}}function Ey(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{cp(n,a)}catch(o){Zt(e,e.return,o)}}}function Ty(e,n,a){a.props=js(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Zt(e,n,o)}}function sl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Zt(e,n,h)}}function wi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Zt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,n,h)}else a.current=null}function Ay(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function Xf(e,n,a){try{var o=e.stateNode;sS(o,e.type,a,n),o[Ue]=n}catch(h){Zt(e,e.return,h)}}function Sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qr(e.type)||e.tag===4}function $f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Kn));else if(o!==4&&(o===27&&qr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Zf(e,n,a),e=e.sibling;e!==null;)Zf(e,n,a),e=e.sibling}function rc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&qr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(rc(e,n,a),e=e.sibling;e!==null;)rc(e,n,a),e=e.sibling}function by(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Qe(n,o,a),n[Ae]=e,n[Ue]=a}catch(d){Zt(e,e.return,d)}}var $i=!1,Ce=!1,Jf=!1,wy=typeof WeakSet=="function"?WeakSet:Set,ze=null;function kA(e,n){if(e=e.containerInfo,vd=wc,e=Ug(e),Gh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var y=0,E=-1,C=-1,z=0,Y=0,$=e,j=null;e:for(;;){for(var H;$!==a||h!==0&&$.nodeType!==3||(E=y+h),$!==d||o!==0&&$.nodeType!==3||(C=y+o),$.nodeType===3&&(y+=$.nodeValue.length),(H=$.firstChild)!==null;)j=$,$=H;for(;;){if($===e)break e;if(j===a&&++z===h&&(E=y),j===d&&++Y===o&&(C=y),(H=$.nextSibling)!==null)break;$=j,j=$.parentNode}$=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:e,selectionRange:a},wc=!1,ze=n;ze!==null;)if(n=ze,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ze=e;else for(;ze!==null;){switch(n=ze,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ht=js(a.type,h);e=o.getSnapshotBeforeUpdate(ht,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(At){Zt(a,a.return,At)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Sd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,ze=e;break}ze=n.return}}function Ry(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(e,a),o&4&&rl(5,a);break;case 1:if(Ji(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){Zt(a,a.return,y)}else{var h=js(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Zt(a,a.return,y)}}o&64&&Ey(a),o&512&&sl(a,a.return);break;case 3:if(Ji(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{cp(e,n)}catch(y){Zt(a,a.return,y)}}break;case 27:n===null&&o&4&&by(a);case 26:case 5:Ji(e,a),n===null&&o&4&&Ay(a),o&512&&sl(a,a.return);break;case 12:Ji(e,a);break;case 31:Ji(e,a),o&4&&Ny(e,a);break;case 13:Ji(e,a),o&4&&Dy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=QA.bind(null,a),dS(e,a))));break;case 22:if(o=a.memoizedState!==null||$i,!o){n=n!==null&&n.memoizedState!==null||Ce,h=$i;var d=Ce;$i=o,(Ce=n)&&!d?Wi(e,a,(a.subtreeFlags&8772)!==0):Ji(e,a),$i=h,Ce=d}break;case 30:break;default:Ji(e,a)}}function Iy(e){var n=e.alternate;n!==null&&(e.alternate=null,Iy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&sa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,ln=!1;function Zi(e,n,a){for(a=a.child;a!==null;)Cy(e,n,a),a=a.sibling}function Cy(e,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:Ce||wi(a,n),Zi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||wi(a,n);var o=ue,h=ln;qr(a.type)&&(ue=a.stateNode,ln=!1),Zi(e,n,a),ml(a.stateNode),ue=o,ln=h;break;case 5:Ce||wi(a,n);case 6:if(o=ue,h=ln,ue=null,Zi(e,n,a),ue=o,ln=h,ue!==null)if(ln)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(d){Zt(a,n,d)}else try{ue.removeChild(a.stateNode)}catch(d){Zt(a,n,d)}break;case 18:ue!==null&&(ln?(e=ue,E_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ha(e)):E_(ue,a.stateNode));break;case 4:o=ue,h=ln,ue=a.stateNode.containerInfo,ln=!0,Zi(e,n,a),ue=o,ln=h;break;case 0:case 11:case 14:case 15:Pr(2,a,n),Ce||Pr(4,a,n),Zi(e,n,a);break;case 1:Ce||(wi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ty(a,n,o)),Zi(e,n,a);break;case 21:Zi(e,n,a);break;case 22:Ce=(o=Ce)||a.memoizedState!==null,Zi(e,n,a),Ce=o;break;default:Zi(e,n,a)}}function Ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(a){Zt(n,n.return,a)}}}function Dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(a){Zt(n,n.return,a)}}function zA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new wy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new wy),n;default:throw Error(s(435,e.tag))}}function sc(e,n){var a=zA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=KA.bind(null,e,o);o.then(h,h)}})}function un(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(qr(E.type)){ue=E.stateNode,ln=!1;break t}break;case 5:ue=E.stateNode,ln=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(ue===null)throw Error(s(160));Cy(d,y,h),ue=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Oy(n,e),n=n.sibling}var ti=null;function Oy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),o&4&&(Pr(3,e,e.return),rl(3,e),Pr(5,e,e.return));break;case 1:un(n,e),cn(e),o&512&&(Ce||a===null||wi(a,a.return)),o&64&&$i&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ti;if(un(n,e),cn(e),o&512&&(Ce||a===null||wi(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Qe(d,o,a),d[Ae]=e,Se(d),o=d;break t;case"link":var y=O_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(d=y[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}d=h.createElement(o),Qe(d,o,a),h.head.appendChild(d);break;case"meta":if(y=O_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(d=y[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}d=h.createElement(o),Qe(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Ae]=e,Se(d),o=d}e.stateNode=o}else x_(h,e.type,e.stateNode);else e.stateNode=D_(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?x_(h,e.type,e.stateNode):D_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xf(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(n,e),cn(e),o&512&&(Ce||a===null||wi(a,a.return)),a!==null&&o&4&&Xf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(n,e),cn(e),o&512&&(Ce||a===null||wi(a,a.return)),e.flags&32){h=e.stateNode;try{on(h,"")}catch(ht){Zt(e,e.return,ht)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Xf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Jf=!0);break;case 6:if(un(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ht){Zt(e,e.return,ht)}}break;case 3:if(Tc=null,h=ti,ti=vc(n.containerInfo),un(n,e),ti=h,cn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(ht){Zt(e,e.return,ht)}Jf&&(Jf=!1,xy(e));break;case 4:o=ti,ti=vc(e.stateNode.containerInfo),un(n,e),cn(e),ti=o;break;case 12:un(n,e),cn(e);break;case 31:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,sc(e,o)));break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oc=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,sc(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=$i,Y=Ce;if($i=z||h,Ce=Y||C,un(n,e),Ce=Y,$i=z,cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||$i||Ce||Bs(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(d=C.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,j=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ht){Zt(C,C.return,ht)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ht){Zt(C,C.return,ht)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?T_(H,!0):T_(C.stateNode,!1)}catch(ht){Zt(C,C.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,sc(e,a))));break;case 19:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,sc(e,o)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Sy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=$f(e);rc(e,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(on(y,""),a.flags&=-33);var E=$f(e);rc(e,E,y);break;case 3:case 4:var C=a.stateNode.containerInfo,z=$f(e);Zf(e,z,C);break;default:throw Error(s(161))}}catch(Y){Zt(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function xy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;xy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ry(e,n.alternate,n),n=n.sibling}function Bs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Pr(4,n,n.return),Bs(n);break;case 1:wi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ty(n,n.return,a),Bs(n);break;case 27:ml(n.stateNode);case 26:case 5:wi(n,n.return),Bs(n);break;case 22:n.memoizedState===null&&Bs(n);break;case 30:Bs(n);break;default:Bs(n)}e=e.sibling}}function Wi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),rl(4,d);break;case 1:if(Wi(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Zt(o,o.return,z)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)up(C[h],E)}catch(z){Zt(o,o.return,z)}}a&&y&64&&Ey(d),sl(d,d.return);break;case 27:by(d);case 26:case 5:Wi(h,d,a),a&&o===null&&y&4&&Ay(d),sl(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&y&4&&Ny(h,d);break;case 13:Wi(h,d,a),a&&y&4&&Dy(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),sl(d,d.return);break;case 30:break;default:Wi(h,d,a)}n=n.sibling}}function Wf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Fo(a))}function td(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fo(e))}function ei(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)My(e,n,a,o),n=n.sibling}function My(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ei(e,n,a,o),h&2048&&rl(9,n);break;case 1:ei(e,n,a,o);break;case 3:ei(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fo(e)));break;case 12:if(h&2048){ei(e,n,a,o),e=n.stateNode;try{var d=n.memoizedProps,y=d.id,E=d.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Zt(n,n.return,C)}}else ei(e,n,a,o);break;case 31:ei(e,n,a,o);break;case 13:ei(e,n,a,o);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?ei(e,n,a,o):al(e,n):d._visibility&2?ei(e,n,a,o):(d._visibility|=2,xa(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(y,n);break;case 24:ei(e,n,a,o),h&2048&&td(n.alternate,n);break;default:ei(e,n,a,o)}}function xa(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,y=n,E=a,C=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:xa(d,y,E,C,h),rl(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?xa(d,y,E,C,h):al(d,y):(Y._visibility|=2,xa(d,y,E,C,h)),h&&z&2048&&Wf(y.alternate,y);break;case 24:xa(d,y,E,C,h),h&&z&2048&&td(y.alternate,y);break;default:xa(d,y,E,C,h)}n=n.sibling}}function al(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:al(a,o),h&2048&&Wf(o.alternate,o);break;case 24:al(a,o),h&2048&&td(o.alternate,o);break;default:al(a,o)}n=n.sibling}}var ol=8192;function Ma(e,n,a){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)Vy(e,n,a),e=e.sibling}function Vy(e,n,a){switch(e.tag){case 26:Ma(e,n,a),e.flags&ol&&e.memoizedState!==null&&wS(a,ti,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,n,a);break;case 3:case 4:var o=ti;ti=vc(e.stateNode.containerInfo),Ma(e,n,a),ti=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,Ma(e,n,a),ol=o):Ma(e,n,a));break;default:Ma(e,n,a)}}function Py(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ll(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];ze=o,Uy(o,e)}Py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ly(e),e=e.sibling}function Ly(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&Pr(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ac(e)):ll(e);break;default:ll(e)}}function ac(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];ze=o,Uy(o,e)}Py(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Pr(8,n,n.return),ac(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ac(n));break;default:ac(n)}e=e.sibling}}function Uy(e,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:Pr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ze=o;else t:for(a=e;ze!==null;){o=ze;var h=o.sibling,d=o.return;if(Iy(o),o===a){ze=null;break t}if(h!==null){h.return=d,ze=h;break t}ze=d}}}var jA={getCacheForType:function(e){var n=Fe(we),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Fe(we).controller.signal}},BA=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ne=null,Mt=null,Lt=0,$t=0,An=null,Lr=!1,Va=!1,ed=!1,tr=0,de=0,Ur=0,qs=0,nd=0,Sn=0,Pa=0,ul=null,hn=null,id=!1,oc=0,ky=0,lc=1/0,uc=null,kr=null,Me=0,zr=null,La=null,er=0,rd=0,sd=null,zy=null,cl=0,ad=null;function bn(){return(Yt&2)!==0&&Lt!==0?Lt&-Lt:F.T!==null?fd():cu()}function jy(){if(Sn===0)if((Lt&536870912)===0||Bt){var e=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),Sn=e}else Sn=536870912;return e=En.current,e!==null&&(e.flags|=32),Sn}function fn(e,n,a){(e===ne&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),jr(e,Lt,Sn,!1)),ps(e,a),((Yt&2)===0||e!==ne)&&(e===ne&&((Yt&2)===0&&(qs|=a),de===4&&jr(e,Lt,Sn,!1)),Ri(e))}function By(e,n,a){if((Yt&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Fn(e,n),h=o?GA(e,n):ld(e,n,!0),d=o;do{if(h===0){Va&&!o&&jr(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!qA(a)){h=ld(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=ul;var C=E.current.memoizedState.isDehydrated;if(C&&(Ua(E,y).flags|=256),y=ld(E,y,!1),y!==2){if(ed&&!C){E.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break t}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){Ua(e,0),jr(e,n,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:jr(o,n,Sn,!Lr);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=oc+300-nn(),10<h)){if(jr(o,n,Sn,!Lr),li(o,0,!0)!==0)break t;er=n,o.timeoutHandle=__(qy.bind(null,o,a,hn,uc,id,n,Sn,qs,Pa,Lr,d,"Throttled",-0,0),h);break t}qy(o,a,hn,uc,id,n,Sn,qs,Pa,Lr,d,null,-0,0)}}break}while(!0);Ri(e)}function qy(e,n,a,o,h,d,y,E,C,z,Y,$,j,H){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Vy(n,d,$);var ht=(d&62914560)===d?oc-nn():(d&4194048)===d?ky-nn():0;if(ht=RS($,ht),ht!==null){er=d,e.cancelPendingCommit=ht($y.bind(null,e,n,d,a,o,h,y,E,C,Y,$,null,j,H)),jr(e,d,y,!z);return}}$y(e,n,d,a,o,h,y,E,C)}function qA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function jr(e,n,a,o){n&=~nd,n&=~qs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var d=31-ge(h),y=1<<d;o[d]=-1,h&=~y}a!==0&&ys(e,a,n)}function cc(){return(Yt&6)===0?(hl(0),!1):!0}function od(){if(Mt!==null){if($t===0)var e=Mt.return;else e=Mt,Gi=Ms=null,Sf(e),Ia=null,Qo=0,e=Mt;for(;e!==null;)vy(e.alternate,e),e=e.return;Mt=null}}function Ua(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,lS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),er=0,od(),ne=e,Mt=a=qi(e.current,null),Lt=n,$t=0,An=null,Lr=!1,Va=Fn(e,n),ed=!1,Pa=Sn=nd=qs=Ur=de=0,hn=ul=null,id=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ge(o),d=1<<h;n|=e[h],o&=~d}return tr=n,Ou(),a}function Hy(e,n){Dt=null,F.H=el,n===Ra||n===zu?(n=sp(),$t=3):n===hf?(n=sp(),$t=4):$t=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Mt===null&&(de=1,Wu(e,Mn(n,e.current)))}function Gy(){var e=En.current;return e===null?!0:(Lt&4194048)===Lt?Un===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===Un:!1}function Fy(){var e=F.H;return F.H=el,e===null?el:e}function Yy(){var e=F.A;return F.A=jA,e}function hc(){de=4,Lr||(Lt&4194048)!==Lt&&En.current!==null||(Va=!0),(Ur&134217727)===0&&(qs&134217727)===0||ne===null||jr(ne,Lt,Sn,!1)}function ld(e,n,a){var o=Yt;Yt|=2;var h=Fy(),d=Yy();(ne!==e||Lt!==n)&&(uc=null,Ua(e,n)),n=!1;var y=de;t:do try{if($t!==0&&Mt!==null){var E=Mt,C=An;switch($t){case 8:od(),y=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(n=!0);var z=$t;if($t=0,An=null,ka(e,E,C,z),a&&Va){y=0;break t}break;default:z=$t,$t=0,An=null,ka(e,E,C,z)}}HA(),y=de;break}catch(Y){Hy(e,Y)}while(!0);return n&&e.shellSuspendCounter++,Gi=Ms=null,Yt=o,F.H=h,F.A=d,Mt===null&&(ne=null,Lt=0,Ou()),y}function HA(){for(;Mt!==null;)Qy(Mt)}function GA(e,n){var a=Yt;Yt|=2;var o=Fy(),h=Yy();ne!==e||Lt!==n?(uc=null,lc=nn()+500,Ua(e,n)):Va=Fn(e,n);t:do try{if($t!==0&&Mt!==null){n=Mt;var d=An;e:switch($t){case 1:$t=0,An=null,ka(e,n,d,1);break;case 2:case 9:if(ip(d)){$t=0,An=null,Ky(n);break}n=function(){$t!==2&&$t!==9||ne!==e||($t=7),Ri(e)},d.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:ip(d)?($t=0,An=null,Ky(n)):($t=0,An=null,ka(e,n,d,7));break;case 5:var y=null;switch(Mt.tag){case 26:y=Mt.memoizedState;case 5:case 27:var E=Mt;if(y?M_(y):E.stateNode.complete){$t=0,An=null;var C=E.sibling;if(C!==null)Mt=C;else{var z=E.return;z!==null?(Mt=z,fc(z)):Mt=null}break e}}$t=0,An=null,ka(e,n,d,5);break;case 6:$t=0,An=null,ka(e,n,d,6);break;case 8:od(),de=6;break t;default:throw Error(s(462))}}FA();break}catch(Y){Hy(e,Y)}while(!0);return Gi=Ms=null,F.H=o,F.A=h,Yt=a,Mt!==null?0:(ne=null,Lt=0,Ou(),de)}function FA(){for(;Mt!==null&&!Uh();)Qy(Mt)}function Qy(e){var n=yy(e.alternate,e,tr);e.memoizedProps=e.pendingProps,n===null?fc(e):Mt=n}function Ky(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=hy(a,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=hy(a,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Sf(n);default:vy(a,n),n=Mt=Yg(n,tr),n=yy(a,n,tr)}e.memoizedProps=e.pendingProps,n===null?fc(e):Mt=n}function ka(e,n,a,o){Gi=Ms=null,Sf(n),Ia=null,Qo=0;var h=n.return;try{if(MA(e,h,n,a,Lt)){de=1,Wu(e,Mn(a,e.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;de=1,Wu(e,Mn(a,e.current)),Mt=null;return}n.flags&32768?(Bt||o===1?e=!0:Va||(Lt&536870912)!==0?e=!1:(Lr=e=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xy(n,e)):fc(n)}function fc(e){var n=e;do{if((n.flags&32768)!==0){Xy(n,Lr);return}e=n.return;var a=LA(n.alternate,n,tr);if(a!==null){Mt=a;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);de===0&&(de=5)}function Xy(e,n){do{var a=UA(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);de=6,Mt=null}function $y(e,n,a,o,h,d,y,E,C){e.cancelPendingCommit=null;do dc();while(Me!==0);if((Yt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Xh,jh(e,a,d,y,E,C),e===ne&&(Mt=ne=null,Lt=0),La=n,zr=e,er=a,rd=d,sd=h,zy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,XA(pr,function(){return e_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=st.p,st.p=2,y=Yt,Yt|=4;try{kA(e,n,a)}finally{Yt=y,st.p=h,F.T=o}}Me=1,Zy(),Jy(),Wy()}}function Zy(){if(Me===1){Me=0;var e=zr,n=La,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=st.p;st.p=2;var h=Yt;Yt|=4;try{Oy(n,e);var d=Ed,y=Ug(e.containerInfo),E=d.focusedElem,C=d.selectionRange;if(y!==E&&E&&E.ownerDocument&&Lg(E.ownerDocument.documentElement,E)){if(C!==null&&Gh(E)){var z=C.start,Y=C.end;if(Y===void 0&&(Y=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Y,E.value.length);else{var $=E.ownerDocument||document,j=$&&$.defaultView||window;if(j.getSelection){var H=j.getSelection(),ht=E.textContent.length,At=Math.min(C.start,ht),ee=C.end===void 0?At:Math.min(C.end,ht);!H.extend&&At>ee&&(y=ee,ee=At,At=y);var P=Pg(E,At),M=Pg(E,ee);if(P&&M&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var k=$.createRange();k.setStart(P.node,P.offset),H.removeAllRanges(),At>ee?(H.addRange(k),H.extend(M.node,M.offset)):(k.setEnd(M.node,M.offset),H.addRange(k))}}}}for($=[],H=E;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Q=$[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wc=!!vd,Ed=vd=null}finally{Yt=h,st.p=o,F.T=a}}e.current=n,Me=2}}function Jy(){if(Me===2){Me=0;var e=zr,n=La,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=st.p;st.p=2;var h=Yt;Yt|=4;try{Ry(e,n.alternate,n)}finally{Yt=h,st.p=o,F.T=a}}Me=3}}function Wy(){if(Me===4||Me===3){Me=0,iu();var e=zr,n=La,a=er,o=zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,La=zr=null,t_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(kr=null),ki(a),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Gn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=st.p,st.p=2,F.T=null;try{for(var d=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];d(E.value,{componentStack:E.stack})}}finally{F.T=n,st.p=h}}(er&3)!==0&&dc(),Ri(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ad?cl++:(cl=0,ad=e):cl=0,hl(0)}}function t_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Fo(n)))}function dc(){return Zy(),Jy(),Wy(),e_()}function e_(){if(Me!==5)return!1;var e=zr,n=rd;rd=0;var a=ki(er),o=F.T,h=st.p;try{st.p=32>a?32:a,F.T=null,a=sd,sd=null;var d=zr,y=er;if(Me=0,La=zr=null,er=0,(Yt&6)!==0)throw Error(s(331));var E=Yt;if(Yt|=4,Ly(d.current),My(d,d.current,y,a),Yt=E,hl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{st.p=h,F.T=o,t_(e,n)}}function n_(e,n,a){n=Mn(a,n),n=kf(e.stateNode,n,2),e=xr(e,n,2),e!==null&&(ps(e,2),Ri(e))}function Zt(e,n,a){if(e.tag===3)n_(e,e,a);else for(;n!==null;){if(n.tag===3){n_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(kr===null||!kr.has(o))){e=Mn(a,e),a=iy(2),o=xr(n,a,2),o!==null&&(ry(a,o,n,e),ps(o,2),Ri(o));break}}n=n.return}}function ud(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new BA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ed=!0,h.add(a),e=YA.bind(null,e,n,a),n.then(e,e))}function YA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(Lt&a)===a&&(de===4||de===3&&(Lt&62914560)===Lt&&300>nn()-oc?(Yt&2)===0&&Ua(e,0):nd|=a,Pa===Lt&&(Pa=0)),Ri(e)}function i_(e,n){n===0&&(n=uu()),e=Ds(e,n),e!==null&&(ps(e,n),Ri(e))}function QA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),i_(e,a)}function KA(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),i_(e,a)}function XA(e,n){return xe(e,n)}var mc=null,za=null,cd=!1,gc=!1,hd=!1,Br=0;function Ri(e){e!==za&&e.next===null&&(za===null?mc=za=e:za=za.next=e),gc=!0,cd||(cd=!0,ZA())}function hl(e,n){if(!hd&&gc){hd=!0;do for(var a=!1,o=mc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var y=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-ge(42|e)+1)-1,d&=h&~(y&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,o_(o,d))}else d=Lt,d=li(o,o===ne?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Fn(o,d)||(a=!0,o_(o,d));o=o.next}while(a);hd=!1}}function $A(){r_()}function r_(){gc=cd=!1;var e=0;Br!==0&&oS()&&(e=Br);for(var n=nn(),a=null,o=mc;o!==null;){var h=o.next,d=s_(o,n);d===0?(o.next=null,a===null?mc=h:a.next=h,h===null&&(za=a)):(a=o,(e!==0||(d&3)!==0)&&(gc=!0)),o=h}Me!==0&&Me!==5||hl(e),Br!==0&&(Br=0)}function s_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-ge(d),E=1<<y,C=h[y];C===-1?((E&a)===0||(E&o)!==0)&&(h[y]=zh(E,n)):C<=n&&(e.expiredLanes|=E),d&=~E}if(n=ne,a=Lt,a=li(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&gr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Fn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&gr(o),ki(a)){case 2:case 8:a=To;break;case 32:a=pr;break;case 268435456:a=ru;break;default:a=pr}return o=a_.bind(null,e),a=xe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&gr(o),e.callbackPriority=2,e.callbackNode=null,2}function a_(e,n){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(dc()&&e.callbackNode!==a)return null;var o=Lt;return o=li(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(By(e,o,n),s_(e,nn()),e.callbackNode!=null&&e.callbackNode===a?a_.bind(null,e):null)}function o_(e,n){if(dc())return null;By(e,n,!0)}function ZA(){uS(function(){(Yt&6)!==0?xe(Eo,$A):r_()})}function fd(){if(Br===0){var e=ba;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Br=e}return Br}function l_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function u_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function JA(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var d=l_((h[Ue]||null).action),y=o.submitter;y&&(n=(n=y[Ue]||null)?l_(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var E=new vi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Br!==0){var C=y?u_(h,y):new FormData(h);xf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=y?u_(h,y):new FormData(h),xf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var dd=0;dd<Kh.length;dd++){var md=Kh[dd],WA=md.toLowerCase(),tS=md[0].toUpperCase()+md.slice(1);Wn(WA,"on"+tS)}Wn(jg,"onAnimationEnd"),Wn(Bg,"onAnimationIteration"),Wn(qg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(pA,"onTransitionRun"),Wn(yA,"onTransitionStart"),Wn(_A,"onTransitionCancel"),Wn(Hg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function c_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(Y){Du(Y)}h.currentTarget=null,d=C}else for(y=0;y<o.length;y++){if(E=o[y],C=E.instance,z=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(Y){Du(Y)}h.currentTarget=null,d=C}}}}function Vt(e,n){var a=n[ra];a===void 0&&(a=n[ra]=new Set);var o=e+"__bubble";a.has(o)||(h_(n,e,2,!1),a.add(o))}function gd(e,n,a){var o=0;n&&(o|=4),h_(a,e,o,n)}var pc="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[pc]){e[pc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(eS.has(a)||gd(a,!1,e),gd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[pc]||(n[pc]=!0,gd("selectionchange",!1,n))}}function h_(e,n,a,o){switch(j_(n)){case 2:var h=NS;break;case 8:h=DS;break;default:h=Od}a=h.bind(null,n,a,e),h=void 0,!As||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function yd(e,n,a,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=fi(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){o=d=y;continue t}E=E.parentNode}}o=o.return}Ar(function(){var z=d,Y=Nn(a),$=[];t:{var j=Gg.get(e);if(j!==void 0){var H=vi,ht=e;switch(e){case"keypress":if(bs(a)===0)break t;case"keydown":case"keyup":H=Iu;break;case"focusin":ht="focus",H=Rs;break;case"focusout":ht="blur",H=Rs;break;case"beforeblur":case"afterblur":H=Rs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case jg:case Bg:case qg:H=Eu;break;case Hg:H=A;break;case"scroll":case"scrollend":H=Lo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Bi;break;case"toggle":case"beforetoggle":H=Nt}var At=(n&4)!==0,ee=!At&&(e==="scroll"||e==="scrollend"),P=At?j!==null?j+"Capture":null:j;At=[];for(var M=z,k;M!==null;){var Q=M;if(k=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||k===null||P===null||(Q=Xn(M,P),Q!=null&&At.push(dl(M,Q,k))),ee)break;M=M.return}0<At.length&&(j=new H(j,ht,null,a,Y),$.push({event:j,listeners:At}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&a!==Mo&&(ht=a.relatedTarget||a.fromElement)&&(fi(ht)||ht[ci]))break t;if((H||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ht=a.relatedTarget||a.toElement,H=z,ht=ht?fi(ht):null,ht!==null&&(ee=u(ht),At=ht.tag,ht!==ee||At!==5&&At!==27&&At!==6)&&(ht=null)):(H=null,ht=z),H!==ht)){if(At=Uo,Q="onMouseLeave",P="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(At=Bi,Q="onPointerLeave",P="onPointerEnter",M="pointer"),ee=H==null?j:pn(H),k=ht==null?j:pn(ht),j=new At(Q,M+"leave",H,a,Y),j.target=ee,j.relatedTarget=k,Q=null,fi(Y)===z&&(At=new At(P,M+"enter",ht,a,Y),At.target=k,At.relatedTarget=ee,Q=At),ee=Q,H&&ht)e:{for(At=nS,P=H,M=ht,k=0,Q=P;Q;Q=At(Q))k++;Q=0;for(var vt=M;vt;vt=At(vt))Q++;for(;0<k-Q;)P=At(P),k--;for(;0<Q-k;)M=At(M),Q--;for(;k--;){if(P===M||M!==null&&P===M.alternate){At=P;break e}P=At(P),M=At(M)}At=null}else At=null;H!==null&&f_($,j,H,At,!1),ht!==null&&ee!==null&&f_($,ee,ht,At,!0)}}t:{if(j=z?pn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Ht=Ng;else if(Ig(j))if(Dg)Ht=dA;else{Ht=hA;var ft=cA}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&la(z.elementType)&&(Ht=Ng):Ht=fA;if(Ht&&(Ht=Ht(e,z))){Cg($,Ht,a,Y);break t}ft&&ft(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Do(j,"number",j.value)}switch(ft=z?pn(z):window,e){case"focusin":(Ig(ft)||ft.contentEditable==="true")&&(pa=ft,Fh=z,qo=null);break;case"focusout":qo=Fh=pa=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,kg($,a,Y);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":kg($,a,Y)}var Ot;if(Ft)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ga?Is(e,a)&&(Ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ut="onCompositionStart");Ut&&(Ai&&a.locale!=="ko"&&(ga||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ga&&(Ot=Po()):(_i=Y,Vo="value"in _i?_i.value:_i.textContent,ga=!0)),ft=yc(z,Ut),0<ft.length&&(Ut=new Ti(Ut,e,null,a,Y),$.push({event:Ut,listeners:ft}),Ot?Ut.data=Ot:(Ot=ma(a),Ot!==null&&(Ut.data=Ot)))),(Ot=On?aA(e,a):oA(e,a))&&(Ut=yc(z,"onBeforeInput"),0<Ut.length&&(ft=new Ti("onBeforeInput","beforeinput",null,a,Y),$.push({event:ft,listeners:Ut}),ft.data=Ot)),JA($,e,z,a,Y)}c_($,n)})}function dl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function yc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xn(e,a),h!=null&&o.unshift(dl(e,h,d)),h=Xn(e,n),h!=null&&o.push(dl(e,h,d))),e.tag===3)return o;e=e.return}return[]}function nS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function f_(e,n,a,o,h){for(var d=n._reactName,y=[];a!==null&&a!==o;){var E=a,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=Xn(a,d),z!=null&&y.unshift(dl(a,z,C))):h||(z=Xn(a,d),z!=null&&y.push(dl(a,z,C)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var iS=/\r\n?/g,rS=/\u0000|\uFFFD/g;function d_(e){return(typeof e=="string"?e:""+e).replace(iS,`
`).replace(rS,"")}function m_(e,n){return n=d_(n),d_(e)===n}function te(e,n,a,o,h,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||on(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&on(e,""+o);break;case"className":yn(e,"class",o);break;case"tabIndex":yn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,o);break;case"style":xo(e,o,d);break;case"data":if(n!=="object"){yn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ua(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,aa(e,a,o))}}function _d(e,n,a,o,h,d){switch(a){case"style":xo(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?on(e,o):(typeof o=="number"||typeof o=="bigint")&&on(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=e[Ue]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):aa(e,a,o)}}}function Qe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(e,n,d,y,a,null)}}h&&te(e,n,"srcSet",a.srcSet,a,null),o&&te(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=d=y=h=null,C=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":y=Y;break;case"checked":C=Y;break;case"defaultChecked":z=Y;break;case"value":d=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:te(e,n,o,Y,a,null)}}mu(e,d,E,C,z,y,h,!1);return;case"select":Vt("invalid",e),o=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:te(e,n,h,E,a,null)}n=d,a=y,e.multiple=!!o,n!=null?_r(e,!!o,n,!1):a!=null&&_r(e,!!o,a,!0);return;case"textarea":Vt("invalid",e),d=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:te(e,n,y,E,a,null)}vr(e,o,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:te(e,n,C,o,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<fl.length;o++)Vt(fl[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:te(e,n,z,o,a,null)}return;default:if(la(n)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&_d(e,n,Y,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&te(e,n,E,o,a,null))}function sS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,E=null,C=null,z=null,Y=null;for(H in a){var $=a[H];if(a.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(H)||te(e,n,H,null,o,$)}}for(var j in o){var H=o[j];if($=a[j],o.hasOwnProperty(j)&&(H!=null||$!=null))switch(j){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Y=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==$&&te(e,n,j,H,o,$)}}oa(e,y,E,C,z,Y,d,h);return;case"select":H=y=E=j=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(d)||te(e,n,d,null,o,C)}for(h in o)if(d=o[h],C=a[h],o.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":j=d;break;case"defaultValue":E=d;break;case"multiple":y=d;default:d!==C&&te(e,n,h,d,o,C)}n=E,a=y,o=H,j!=null?_r(e,!!a,j,!1):!!o!=!!a&&(n!=null?_r(e,!!a,n,!0):_r(e,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:te(e,n,E,null,o,h)}for(y in o)if(h=o[y],d=a[y],o.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&te(e,n,y,h,o,d)}gu(e,j,H);return;case"option":for(var ht in a)if(j=a[ht],a.hasOwnProperty(ht)&&j!=null&&!o.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:te(e,n,ht,null,o,j)}for(C in o)if(j=o[C],H=a[C],o.hasOwnProperty(C)&&j!==H&&(j!=null||H!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:te(e,n,C,j,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in a)j=a[At],a.hasOwnProperty(At)&&j!=null&&!o.hasOwnProperty(At)&&te(e,n,At,null,o,j);for(z in o)if(j=o[z],H=a[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:te(e,n,z,j,o,H)}return;default:if(la(n)){for(var ee in a)j=a[ee],a.hasOwnProperty(ee)&&j!==void 0&&!o.hasOwnProperty(ee)&&_d(e,n,ee,void 0,o,j);for(Y in o)j=o[Y],H=a[Y],!o.hasOwnProperty(Y)||j===H||j===void 0&&H===void 0||_d(e,n,Y,j,o,H);return}}for(var P in a)j=a[P],a.hasOwnProperty(P)&&j!=null&&!o.hasOwnProperty(P)&&te(e,n,P,null,o,j);for($ in o)j=o[$],H=a[$],!o.hasOwnProperty($)||j===H||j==null&&H==null||te(e,n,$,j,o,H)}function g_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,y=h.initiatorType,E=h.duration;if(d&&E&&g_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],z=C.startTime;if(z>E)break;var Y=C.transferSize,$=C.initiatorType;Y&&g_($)&&(C=C.responseEnd,y+=Y*(C<E?1:(E-z)/(C-z)))}if(--o,n+=8*(d+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vd=null,Ed=null;function _c(e){return e.nodeType===9?e:e.ownerDocument}function p_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Td(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function oS(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,lS=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,uS=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(e){return v_.resolve(null).then(e).catch(cS)}:__;function cS(e){setTimeout(function(){throw e})}function qr(e){return e==="head"}function E_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ha(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ml(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ml(a);for(var d=a.firstChild;d;){var y=d.nextSibling,E=d.nodeName;d[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&ml(e.ownerDocument.body);a=h}while(a);Ha(n)}function T_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sd(a),sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function hS(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function fS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function A_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function bd(e){return e.data==="$?"||e.data==="$~"}function wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function dS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Rd=null;function S_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return kn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function b_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function w_(e,n,a){switch(n=_c(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ml(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);sa(e)}var zn=new Map,R_=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var nr=st.d;st.d={f:mS,r:gS,D:pS,C:yS,L:_S,m:vS,X:TS,S:ES,M:AS};function mS(){var e=nr.f(),n=cc();return e||n}function gS(e){var n=Cn(e);n!==null&&n.tag===5&&n.type==="form"?Hp(n):nr.r(e)}var ja=typeof document>"u"?null:document;function I_(e,n,a){var o=ja;if(o&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),R_.has(h)||(R_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Qe(n,"link",e),Se(n),o.head.appendChild(n)))}}function pS(e){nr.D(e),I_("dns-prefetch",e,null)}function yS(e,n){nr.C(e,n),I_("preconnect",e,n)}function _S(e,n,a){nr.L(e,n,a);var o=ja;if(o&&e&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(e)+'"]';var d=h;switch(n){case"style":d=Ba(e);break;case"script":d=qa(e)}zn.has(d)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),zn.set(d,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(gl(d))||n==="script"&&o.querySelector(pl(d))||(n=o.createElement("link"),Qe(n,"link",e),Se(n),o.head.appendChild(n)))}}function vS(e,n){nr.m(e,n);var a=ja;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=qa(e)}if(!zn.has(d)&&(e=S({rel:"modulepreload",href:e},n),zn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(d)))return}o=a.createElement("link"),Qe(o,"link",e),Se(o),a.head.appendChild(o)}}}function ES(e,n,a){nr.S(e,n,a);var o=ja;if(o&&e){var h=di(o).hoistableStyles,d=Ba(e);n=n||"default";var y=h.get(d);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(gl(d)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=zn.get(d))&&Id(e,a);var C=y=o.createElement("link");Se(C),Qe(C,"link",e),C._p=new Promise(function(z,Y){C.onload=z,C.onerror=Y}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ec(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(d,y)}}}function TS(e,n){nr.X(e,n);var a=ja;if(a&&e){var o=di(a).hoistableScripts,h=qa(e),d=o.get(h);d||(d=a.querySelector(pl(h)),d||(e=S({src:e,async:!0},n),(n=zn.get(h))&&Cd(e,n),d=a.createElement("script"),Se(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function AS(e,n){nr.M(e,n);var a=ja;if(a&&e){var o=di(a).hoistableScripts,h=qa(e),d=o.get(h);d||(d=a.querySelector(pl(h)),d||(e=S({src:e,async:!0,type:"module"},n),(n=zn.get(h))&&Cd(e,n),d=a.createElement("script"),Se(d),Qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function C_(e,n,a,o){var h=(h=yt.current)?vc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ba(a.href),a=di(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ba(a.href);var d=di(h).hoistableStyles,y=d.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=h.querySelector(gl(e)))&&!d._p&&(y.instance=d,y.state.loading=5),zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(e,a),d||SS(h,e,a,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(a),a=di(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ba(e){return'href="'+an(e)+'"'}function gl(e){return'link[rel="stylesheet"]['+e+"]"}function N_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function SS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Qe(n,"link",a),Se(n),e.head.appendChild(n))}function qa(e){return'[src="'+an(e)+'"]'}function pl(e){return"script[async]"+e}function D_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return n.instance=o,Se(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Se(o),Qe(o,"style",h),Ec(o,a.precedence,e),n.instance=o;case"stylesheet":h=Ba(a.href);var d=e.querySelector(gl(h));if(d)return n.state.loading|=4,n.instance=d,Se(d),d;o=N_(a),(h=zn.get(h))&&Id(o,h),d=(e.ownerDocument||e).createElement("link"),Se(d);var y=d;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Qe(d,"link",o),n.state.loading|=4,Ec(d,a.precedence,e),n.instance=d;case"script":return d=qa(a.src),(h=e.querySelector(pl(d)))?(n.instance=h,Se(h),h):(o=a,(h=zn.get(d))&&(o=S({},a),Cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ec(o,a.precedence,e));return n.instance}function Ec(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Tc=null;function O_(e,n,a){if(Tc===null){var o=new Map,h=Tc=new Map;h.set(a,o)}else h=Tc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[hi]||d[Ae]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(d):o.set(y,[d])}}return o}function x_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function bS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function M_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function wS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ba(o.href),d=n.querySelector(gl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ac.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=d,Se(d);return}d=n.ownerDocument||n,o=N_(o),(h=zn.get(h))&&Id(o,h),d=d.createElement("link"),Se(d);var y=d;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Qe(d,"link",o),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ac.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Nd=0;function RS(e,n){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&Nd===0&&(Nd=62500*aS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Nd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sc=null;function bc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sc=new Map,n.forEach(IS,e),Sc=null,Ac.call(e))}function IS(e,n){if(!(n.state.loading&4)){var a=Sc.get(e);if(a)var o=a.get(null);else{a=new Map,Sc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||o,d===o&&a.set(null,h),a.set(y,h),this.count++,o=Ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var yl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function CS(e,n,a,o,h,d,y,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function V_(e,n,a,o,h,d,y,E,C,z,Y,$){return e=new CS(e,n,a,y,C,z,Y,$,E),n=1,d===!0&&(n|=24),d=vn(3,null,null,n),e.current=d,d.stateNode=e,n=lf(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},ff(d),e}function P_(e){return e?(e=va,e):va}function L_(e,n,a,o,h,d){h=P_(h),o.context===null?o.context=h:o.pendingContext=h,o=Or(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=xr(e,o,n),a!==null&&(fn(a,e,n),Xo(a,e,n))}function U_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Dd(e,n){U_(e,n),(e=e.alternate)&&U_(e,n)}function k_(e){if(e.tag===13||e.tag===31){var n=Ds(e,67108864);n!==null&&fn(n,e,67108864),Dd(e,67108864)}}function z_(e){if(e.tag===13||e.tag===31){var n=bn();n=_s(n);var a=Ds(e,n);a!==null&&fn(a,e,n),Dd(e,n)}}var wc=!0;function NS(e,n,a,o){var h=F.T;F.T=null;var d=st.p;try{st.p=2,Od(e,n,a,o)}finally{st.p=d,F.T=h}}function DS(e,n,a,o){var h=F.T;F.T=null;var d=st.p;try{st.p=8,Od(e,n,a,o)}finally{st.p=d,F.T=h}}function Od(e,n,a,o){if(wc){var h=xd(o);if(h===null)yd(e,n,o,Rc,a),B_(e,o);else if(xS(h,e,n,a,o))o.stopPropagation();else if(B_(e,o),n&4&&-1<OS.indexOf(e)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=oi(d.pendingLanes);if(y!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-ge(y);E.entanglements[1]|=C,y&=~C}Ri(d),(Yt&6)===0&&(lc=nn()+500,hl(0))}}break;case 31:case 13:E=Ds(d,2),E!==null&&fn(E,d,2),cc(),Dd(d,2)}if(d=xd(o),d===null&&yd(e,n,o,Rc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else yd(e,n,o,null,a)}}function xd(e){return e=Nn(e),Md(e)}var Rc=null;function Md(e){if(Rc=null,e=fi(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=f(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Rc=e,null}function j_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ms()){case Eo:return 2;case To:return 8;case pr:case kh:return 32;case ru:return 268435456;default:return 32}default:return 32}}var Vd=!1,Hr=null,Gr=null,Fr=null,_l=new Map,vl=new Map,Yr=[],OS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(e,n){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":_l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(n.pointerId)}}function El(e,n,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&k_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function xS(e,n,a,o,h){switch(n){case"focusin":return Hr=El(Hr,e,n,a,o,h),!0;case"dragenter":return Gr=El(Gr,e,n,a,o,h),!0;case"mouseover":return Fr=El(Fr,e,n,a,o,h),!0;case"pointerover":var d=h.pointerId;return _l.set(d,El(_l.get(d)||null,e,n,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,vl.set(d,El(vl.get(d)||null,e,n,a,o,h)),!0}return!1}function q_(e){var n=fi(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){e.blockedOn=n,Yn(e.priority,function(){z_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,Yn(e.priority,function(){z_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=xd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Mo=o,a.target.dispatchEvent(o),Mo=null}else return n=Cn(a),n!==null&&k_(n),e.blockedOn=a,!1;n.shift()}return!0}function H_(e,n,a){Ic(e)&&a.delete(n)}function MS(){Vd=!1,Hr!==null&&Ic(Hr)&&(Hr=null),Gr!==null&&Ic(Gr)&&(Gr=null),Fr!==null&&Ic(Fr)&&(Fr=null),_l.forEach(H_),vl.forEach(H_)}function Cc(e,n){e.blockedOn===n&&(e.blockedOn=null,Vd||(Vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,MS)))}var Nc=null;function G_(e){Nc!==e&&(Nc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nc===e&&(Nc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Md(o||a)===null)continue;break}var d=Cn(a);d!==null&&(e.splice(n,3),n-=3,xf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ha(e){function n(C){return Cc(C,e)}Hr!==null&&Cc(Hr,e),Gr!==null&&Cc(Gr,e),Fr!==null&&Cc(Fr,e),_l.forEach(n),vl.forEach(n);for(var a=0;a<Yr.length;a++){var o=Yr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&Yr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],y=h[Ue]||null;if(typeof d=="function")y||G_(a);else if(y){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Ue]||null)E=y.formAction;else if(Md(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),G_(a)}}}function F_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Pd(e){this._internalRoot=e}Dc.prototype.render=Pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=bn();L_(a,o,e,n,null,null)},Dc.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;L_(e.current,2,null,e,null,null),cc(),n[ci]=null}};function Dc(e){this._internalRoot=e}Dc.prototype.unstable_scheduleHydration=function(e){if(e){var n=cu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Yr.length&&n!==0&&n<Yr[a].priority;a++);Yr.splice(a,0,e),a===0&&q_(e)}};var Y_=t.version;if(Y_!=="19.2.3")throw Error(s(527,Y_,"19.2.3"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var VS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{Gn=Oc.inject(VS),qe=Oc}catch{}}return Al.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=Wp,d=ty,y=ey;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=V_(e,1,!1,null,null,a,o,null,h,d,y,F_),e[ci]=n.current,pd(e),new Pd(n)},Al.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=Wp,y=ty,E=ey,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=V_(e,1,!0,n,a??null,o,h,C,d,y,E,F_),n.context=P_(null),a=n.current,o=bn(),o=_s(o),h=Or(o),h.callback=null,xr(a,h,o),a=o,n.current.lanes=a,ps(n,a),Ri(n),e[ci]=n.current,pd(e),new Dc(n)},Al.version="19.2.3",Al}var nv;function FS(){if(nv)return kd.exports;nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kd.exports=GS(),kd.exports}var YS=FS();const QS=V0(YS);var jn=(r=>(r.BLUE="BLUE",r.ORANGE="ORANGE",r))(jn||{}),je=(r=>(r.START="START",r.PLAYING="PLAYING",r.GAMEOVER="GAMEOVER",r.SHOP="SHOP",r))(je||{}),Ii=(r=>(r.MAGNET="MAGNET",r.SLOW_MO="SLOW_MO",r.GHOST="GHOST",r))(Ii||{});const KS={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},Ga={[jn.BLUE]:"#00f2ff",[jn.ORANGE]:"#ff8c00",PLAYER:"#ffffff",GRID:"#1a1a1a",BG:"#050505",STAR:"#ffd700",POWERUP:"#ff00ff"},tm=[{id:"classic",name:"Classic Neon",price:0,playerColor:"#ffffff",glowColor:"#ffffff",description:"The original digital frontier."},{id:"cyber",name:"Cyber Rogue",price:50,playerColor:"#ff0055",glowColor:"#ff0055",description:"Aggressive pink aesthetics."},{id:"emerald",name:"Emerald Flux",price:150,playerColor:"#00ff88",glowColor:"#00ff88",description:"Stable green matrix flow."},{id:"void",name:"Void Walker",price:300,playerColor:"#8a2be2",glowColor:"#8a2be2",description:"The deepest purple of the digital void."},{id:"gold",name:"Pure Gold",price:500,playerColor:"#ffd700",glowColor:"#ffd700",description:"Reserved for the elite sync-runners."}],ie={INITIAL_SPEED:7,MAX_SPEED:20,PLAYER_X_PERCENT:.15,PLAYER_SIZE:40,OBSTACLE_WIDTH:50,OBSTACLE_HEIGHT:80,MIN_OBSTACLE_GAP:400,MAX_OBSTACLE_GAP:700,GROUND_Y_PERCENT:.65,GRAVITY:.8,JUMP_FORCE:-16,POWERUP_DURATION:8e3,STAR_SPAWN_CHANCE:.6,POWERUP_SPAWN_CHANCE:.08},XS=({status:r,currentPhase:t,theme:i,jumpTrigger:s,onGameOver:l,onScoreUpdate:u,onJump:f,onTogglePhase:g})=>{const p=dt.useRef(null),_=dt.useRef(void 0),T=dt.useRef(0),S=dt.useRef(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),N=dt.useRef(0),q=dt.useRef(1),W=dt.useRef(0),et=dt.useRef(ie.INITIAL_SPEED),J=dt.useRef([]),lt=dt.useRef([]),ut=dt.useRef(0),mt=dt.useRef(0),Tt=dt.useRef(0),Pt=dt.useRef(0),tt=dt.useRef([]),w=dt.useRef(0),b=dt.useRef(null),R=dt.useRef(0),x=dt.useRef(t),D=dt.useRef(0),V=dt.useRef(0),I=dt.useRef(0),Qt=dt.useRef(!0),he=dt.useCallback(()=>{N.current=0,q.current=1,W.current=0,et.current=ie.INITIAL_SPEED,J.current=[],lt.current=[],mt.current=0,ut.current=window.innerWidth,Tt.current=0,tt.current=[],w.current=0,b.current=null,R.current=0,V.current=0,I.current=0,Qt.current=!0,T.current=0,D.current=0},[]);dt.useEffect(()=>{if(r===je.PLAYING&&x.current!==t){w.current=15,Tt.current=1,D.current=1;const K=window.innerWidth*ie.PLAYER_X_PERCENT,Rt=V.current||window.innerHeight*ie.GROUND_Y_PERCENT-ie.PLAYER_SIZE;for(let O=0;O<20;O++)tt.current.push({x:K+20,y:Rt+20,vx:(Math.random()-.5)*15,vy:(Math.random()-.5)*15,life:1,color:Ga[t]})}x.current=t},[t,r]),dt.useEffect(()=>{if(r===je.PLAYING&&T.current<2){I.current=ie.JUMP_FORCE,T.current+=1,Qt.current=!1;const K=window.innerWidth*ie.PLAYER_X_PERCENT,Rt=V.current;for(let O=0;O<10;O++)tt.current.push({x:K+20,y:Rt+40,vx:(Math.random()-.5)*5,vy:(Math.random()-.5)*2,life:.8,color:i.playerColor})}},[s,r,i.playerColor]),dt.useEffect(()=>{r===je.PLAYING&&he()},[r,he]);const F=(K,Rt)=>{if(r!==je.PLAYING)return;Pt.current++;const O=K*ie.PLAYER_X_PERCENT,G=ie.PLAYER_SIZE,it=Rt*ie.GROUND_Y_PERCENT;if(Qt.current)V.current=it-G,T.current=0;else{I.current+=ie.GRAVITY,V.current+=I.current;const nt=it-G;V.current>=nt&&(V.current=nt,I.current=0,Qt.current=!0,T.current=0)}const at=V.current;b.current&&(R.current-=16,R.current<=0&&(b.current=null,u(N.current,q.current,null)));const _t=ie.INITIAL_SPEED+N.current*.02,yt=b.current===Ii.SLOW_MO?.5:1;if(et.current=Math.min(ie.MAX_SPEED,_t*yt),mt.current+=et.current,K-ut.current>0){const nt=ie.MIN_OBSTACLE_GAP,gt=ie.MAX_OBSTACLE_GAP,xt=nt+Math.random()*(gt-nt),Le=K+xt,Rn={id:Math.random().toString(),x:Le,y:it-ie.OBSTACLE_HEIGHT,width:ie.OBSTACLE_WIDTH,height:ie.OBSTACLE_HEIGHT,phase:Math.random()>.5?jn.BLUE:jn.ORANGE,passed:!1};J.current.push(Rn),ut.current=Le,Math.random()<ie.STAR_SPAWN_CHANCE&&lt.current.push({id:Math.random().toString(),x:Le+xt/2,y:it-60-Math.random()*200,type:Math.random()<ie.POWERUP_SPAWN_CHANCE?"POWERUP":"STAR",subType:[Ii.MAGNET,Ii.SLOW_MO,Ii.GHOST][Math.floor(Math.random()*3)],collected:!1})}tt.current=tt.current.filter(nt=>(nt.x+=nt.vx,nt.y+=nt.vy,nt.life-=.02,nt.life>0)),lt.current=lt.current.filter(nt=>{if(nt.x-=et.current,b.current===Ii.MAGNET){const xt=O+G/2-nt.x,Le=at+G/2-nt.y;Math.sqrt(xt*xt+Le*Le)<400&&(nt.x+=xt*.12,nt.y+=Le*.12)}return O<nt.x+20&&O+G>nt.x-20&&at<nt.y+20&&at+G>nt.y-20&&!nt.collected?(nt.collected=!0,nt.type==="STAR"?W.current+=1:(b.current=nt.subType||Ii.MAGNET,R.current=ie.POWERUP_DURATION,u(N.current,q.current,b.current),w.current=10),!1):nt.x>-50}),J.current=J.current.filter(nt=>{if(nt.x-=et.current,O<nt.x+nt.width&&O+G>nt.x&&at<nt.y+nt.height&&at+G>nt.y){if(nt.phase===t&&b.current!==Ii.GHOST)return l(N.current,W.current),!1;Tt.current=Math.min(1,Tt.current+.1)}return!nt.passed&&nt.x+nt.width<O&&(nt.passed=!0,q.current=Math.min(10,q.current+1/10),N.current+=Math.floor(1*q.current),u(N.current,Math.floor(q.current),b.current)),nt.x+nt.width>-50}),Tt.current>0&&(Tt.current-=.05),w.current>0&&(w.current-=.5),D.current>0&&(D.current-=.04),ut.current-=et.current},st=(K,Rt,O)=>{K.save(),w.current>0&&K.translate((Math.random()-.5)*w.current,(Math.random()-.5)*w.current),K.clearRect(0,0,Rt,O);const G=O*ie.GROUND_Y_PERCENT;D.current>0&&(K.fillStyle=Ga[t],K.globalAlpha=D.current*.15,K.fillRect(0,0,Rt,O),K.globalAlpha=1);const it=N.current*.5%360;K.strokeStyle=`hsla(${it}, 50%, 20%, 0.5)`,K.lineWidth=1;const at=mt.current%50;for(let gt=-at;gt<Rt;gt+=50)K.beginPath(),K.moveTo(gt,G),K.lineTo(gt,O),K.stroke();for(let gt=G;gt<O;gt+=(gt-G)*.4+10)K.beginPath(),K.moveTo(0,gt),K.lineTo(Rt,gt),K.stroke();tt.current.forEach(gt=>{K.globalAlpha=gt.life,K.fillStyle=gt.color,K.fillRect(gt.x,gt.y,4,4)}),K.globalAlpha=1,lt.current.forEach(gt=>{if(K.fillStyle=gt.type==="STAR"?Ga.STAR:Ga.POWERUP,K.shadowBlur=10,K.shadowColor=K.fillStyle,K.beginPath(),gt.type==="STAR"){const xt=gt.x,Le=gt.y,Rn=10,Ui=5;for(let gn=0;gn<5;gn++)K.lineTo(Math.cos((18+gn*72)/180*Math.PI)*Rn+xt,-Math.sin((18+gn*72)/180*Math.PI)*Rn+Le),K.lineTo(Math.cos((54+gn*72)/180*Math.PI)*Ui+xt,-Math.sin((54+gn*72)/180*Math.PI)*Ui+Le)}else K.fillRect(gt.x-10,gt.y-10,20,20);K.fill(),K.shadowBlur=0}),J.current.forEach(gt=>{const xt=gt.phase===t&&b.current!==Ii.GHOST;K.fillStyle=Ga[gt.phase],K.globalAlpha=xt?1:.2,xt&&(K.shadowBlur=15,K.shadowColor=Ga[gt.phase]),K.fillRect(gt.x,gt.y,gt.width,gt.height),K.strokeStyle="#fff",K.lineWidth=1,K.strokeRect(gt.x+5,gt.y+5,gt.width-10,gt.height-10),K.globalAlpha=1,K.shadowBlur=0});const _t=Rt*ie.PLAYER_X_PERCENT,yt=ie.PLAYER_SIZE,nt=V.current;Tt.current>0&&(K.fillStyle="#ff0000",K.fillRect(_t-15*Tt.current,nt,yt,yt),K.fillStyle="#00ffff",K.fillRect(_t+15*Tt.current,nt,yt,yt)),K.fillStyle=i.playerColor,K.shadowBlur=20+D.current*40,K.shadowColor=i.glowColor,b.current===Ii.GHOST&&(K.globalAlpha=.5),K.save(),Qt.current||(K.translate(_t+yt/2,nt+yt/2),K.rotate(I.current*.02),K.translate(-(_t+yt/2),-(nt+yt/2))),K.fillRect(_t,nt,yt,yt),K.fillStyle="#fff",K.fillRect(_t+10,nt+10,yt-20,yt-20),K.restore(),K.globalAlpha=1,K.shadowBlur=0,K.restore()},pt=dt.useCallback(()=>{const K=p.current;if(!K)return;const Rt=K.getContext("2d");Rt&&(F(K.width,K.height),st(Rt,K.width,K.height),_.current=requestAnimationFrame(pt))},[r,t,i,s]);return dt.useEffect(()=>{const K=()=>{p.current&&(p.current.width=window.innerWidth,p.current.height=window.innerHeight)};return window.addEventListener("resize",K),K(),_.current=requestAnimationFrame(pt),()=>{_.current&&cancelAnimationFrame(_.current),window.removeEventListener("resize",K)}},[pt]),L.jsxs(L.Fragment,{children:[L.jsx("canvas",{ref:p,className:"absolute top-0 left-0 w-full h-full"}),r===je.PLAYING&&S.current&&L.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[L.jsx("button",{onTouchStart:K=>{K.preventDefault(),f()},className:"absolute bottom-8 left-8 w-24 h-24 bg-white/10 border-4 border-white/20 rounded-full flex items-center justify-center pointer-events-auto active:scale-90 active:bg-white/30 transition-all",children:L.jsx("div",{className:"w-0 h-0 border-l-[12px] border-l-transparent border-r-[12px] border-r-transparent border-b-[20px] border-b-white -mt-1"})}),L.jsx("button",{onTouchStart:K=>{K.preventDefault(),g()},className:"absolute bottom-8 right-8 w-24 h-24 bg-[#00f2ff]/10 border-4 border-[#00f2ff]/30 rounded-full flex items-center justify-center pointer-events-auto active:scale-90 active:bg-[#00f2ff]/40 transition-all",children:L.jsxs("div",{className:"flex gap-1",children:[L.jsx("div",{className:"w-3 h-8 bg-[#00f2ff]"}),L.jsx("div",{className:"w-3 h-8 bg-[#ff8c00]"})]})})]})]})},$S=({score:r,highScore:t,phase:i,stars:s,combo:l,activePowerUp:u})=>L.jsxs("div",{className:"absolute top-0 left-0 w-full p-4 md:p-8 flex justify-between items-start pointer-events-none z-30 select-none",children:[L.jsxs("div",{className:"flex flex-col gap-2",children:[L.jsx("div",{className:"text-4xl md:text-6xl font-orbitron font-black text-white leading-none",children:r.toString().padStart(4,"0")}),L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsxs("div",{className:"px-3 py-1 bg-[#ffd700] text-black font-black font-orbitron text-sm rounded",children:["STARS: ",s]}),l>1&&L.jsxs("div",{className:"px-3 py-1 bg-white text-black font-black font-orbitron text-sm rounded animate-pulse",children:["X",l," COMBO"]})]})]}),L.jsxs("div",{className:"flex flex-col items-end gap-3",children:[L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsx("div",{className:`px-4 py-2 border-2 transition-all duration-300 font-orbitron text-xs font-bold ${i===jn.BLUE?"bg-[#00f2ff] text-black border-[#00f2ff]":"opacity-20 text-[#00f2ff] border-[#00f2ff]"}`,children:"BLUE"}),L.jsx("div",{className:`px-4 py-2 border-2 transition-all duration-300 font-orbitron text-xs font-bold ${i===jn.ORANGE?"bg-[#ff8c00] text-black border-[#ff8c00]":"opacity-20 text-[#ff8c00] border-[#ff8c00]"}`,children:"ORANGE"})]}),u&&L.jsxs("div",{className:"px-4 py-2 bg-[#ff00ff] text-white font-orbitron font-bold text-xs rounded animate-bounce",children:["SYSTEM BOOST: ",u]})]})]}),ZS=({highScore:r,stars:t,username:i,onStart:s,onOpenShop:l,onOpenLeaderboard:u,onOpenMissions:f})=>L.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-50 bg-black/70 backdrop-blur-md p-6",children:[L.jsxs("div",{className:"flex absolute top-4 right-4 items-center gap-2",children:[L.jsx("span",{className:"text-xs font-mono text-gray-400",children:"OPERATOR:"}),L.jsx("span",{className:"text-sm font-orbitron font-bold text-[#00f2ff]",children:i||"GUEST"})]}),L.jsxs("div",{className:"relative mb-8 md:mb-10 text-center group",children:[L.jsxs("h1",{className:"text-6xl md:text-9xl font-orbitron font-black italic tracking-tighter text-white select-none transition-transform group-hover:scale-105 duration-700 leading-none",children:["PHASE ",L.jsx("br",{className:"md:hidden"}),L.jsx("span",{className:"text-[#00f2ff] drop-shadow-[0_0_20px_#00f2ff]",children:"SHIFT"})]}),L.jsx("div",{className:"absolute -bottom-6 right-0 md:right-4 text-[#ff8c00] font-orbitron text-[10px] md:text-lg font-bold tracking-[0.5em] animate-pulse",children:"CORE_ENGINE: ACTIVE"})]}),L.jsxs("div",{className:"flex flex-col items-center gap-3 w-full max-w-sm",children:[L.jsx("button",{onClick:g=>{g.stopPropagation(),s()},className:"w-full px-8 py-5 bg-white text-black font-orbitron font-black text-2xl hover:bg-[#00f2ff] transition-all duration-300 transform hover:scale-105 border-b-8 border-gray-500 uppercase",children:"Begin Sync"}),L.jsxs("div",{className:"flex gap-2 w-full",children:[L.jsx("button",{onClick:g=>{g.stopPropagation(),f()},className:"flex-1 px-4 py-3 border border-[#00ff88] text-[#00ff88] bg-black/50 hover:bg-[#00ff88] hover:text-black font-orbitron font-bold text-sm transition-all duration-300 uppercase tracking-widest",children:"Missions"}),L.jsx("button",{onClick:g=>{g.stopPropagation(),u()},className:"flex-1 px-4 py-3 border border-[#ff8c00] text-[#ff8c00] bg-black/50 hover:bg-[#ff8c00] hover:text-black font-orbitron font-bold text-sm transition-all duration-300 uppercase tracking-widest",children:"Rankings"})]}),L.jsxs("button",{onClick:g=>{g.stopPropagation(),l()},className:"relative z-50 w-full px-8 py-4 border-2 border-[#ffd700] text-[#ffd700] bg-black/50 hover:bg-[#ffd700] hover:text-black font-orbitron font-bold text-lg transition-all duration-300 uppercase tracking-widest",children:["Shop: ",isNaN(t)?0:t,""]}),L.jsxs("div",{className:"flex flex-col items-center text-center gap-4 px-2",children:[L.jsxs("p",{className:"text-gray-400 text-[10px] md:text-sm uppercase tracking-widest font-medium",children:["Matter is variable. ",L.jsx("br",{}),"Avoid solid collision."]}),r>0&&L.jsxs("div",{className:"text-white font-orbitron tracking-[0.3em] text-[10px] md:text-sm",children:["SECTOR MAX: ",L.jsx("span",{className:"text-[#00f2ff]",children:r})]})]})]}),L.jsxs("div",{className:"absolute bottom-10 flex flex-col md:flex-row gap-4 md:gap-12 text-gray-600 font-mono text-[9px] md:text-xs uppercase tracking-[0.3em] items-center",children:[L.jsx("span",{children:"[Space] / [Tap] Toggle Phase"}),L.jsx("span",{children:"[W] Key to Jump"}),L.jsx("span",{className:"opacity-50 hidden md:inline",children:"Difficulty: Dynamic"})]})]}),JS=({score:r,highScore:t,starsGained:i,onRestart:s})=>{const l=r>=t&&r>0,u=`I scored ${r} points in Phase Shift! Can you beat my high score of ${t}? #PhaseShift #WebGame`,f=window.location.href;return L.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-50 bg-black/95 animate-in fade-in zoom-in duration-300 p-6",children:[L.jsx("div",{className:"text-red-500 font-orbitron text-[10px] md:text-sm font-bold tracking-[0.8em] mb-4 animate-pulse uppercase text-center",children:"Critical: System De-Sync Occurred"}),L.jsx("h2",{className:"text-5xl md:text-8xl font-orbitron font-black text-white mb-6 md:mb-12 tracking-tighter italic",children:"FRACTURED"}),L.jsxs("div",{className:"grid grid-cols-3 gap-4 md:gap-8 mb-8 md:mb-16 text-center w-full max-w-2xl",children:[L.jsxs("div",{className:"flex flex-col border-l border-gray-800 pl-4",children:[L.jsx("span",{className:"text-gray-500 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Yield"}),L.jsx("span",{className:"text-3xl md:text-5xl font-orbitron text-white leading-none",children:r})]}),L.jsxs("div",{className:"flex flex-col border-l border-gray-800 pl-4",children:[L.jsx("span",{className:"text-gray-500 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Stars"}),L.jsxs("span",{className:"text-3xl md:text-5xl font-orbitron text-[#ffd700] leading-none",children:["+",i]})]}),L.jsxs("div",{className:"flex flex-col border-l border-gray-800 pl-4",children:[L.jsx("span",{className:"text-gray-500 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Best"}),L.jsx("span",{className:`text-3xl md:text-5xl font-orbitron leading-none ${l?"text-[#00f2ff] drop-shadow-[0_0_10px_#00f2ff]":"text-gray-400"}`,children:t})]})]}),L.jsxs("div",{className:"flex flex-col items-center gap-6 w-full max-w-xs",children:[L.jsx("button",{onClick:g=>{g.stopPropagation(),s()},className:"w-full px-8 md:px-12 py-4 border-2 border-[#ff8c00] text-[#ff8c00] font-orbitron font-black text-lg md:text-xl hover:bg-[#ff8c00] hover:text-black transition-all duration-300 transform hover:scale-105 active:scale-95 uppercase tracking-widest",children:"Re-Initialize"}),L.jsxs("div",{className:"flex gap-4 w-full justify-center",children:[L.jsx("a",{href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(u)}&url=${encodeURIComponent(f)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-3 text-center border border-white/20 text-white font-mono text-xs hover:bg-white hover:text-black transition-colors uppercase tracking-widest",children:"[X Share]"}),L.jsx("a",{href:`https://wa.me/?text=${encodeURIComponent(u+" "+f)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-3 text-center border border-white/20 text-white font-mono text-xs hover:bg-[#25D366] hover:text-black transition-colors uppercase tracking-widest",children:"[WA Share]"})]}),L.jsx("div",{className:"text-gray-600 text-[9px] md:text-[10px] font-mono uppercase tracking-[0.5em] cursor-pointer hover:text-white transition-colors duration-300 py-2",onClick:g=>{g.stopPropagation(),window.location.reload()},children:"Terminate Process"})]}),l&&L.jsx("div",{className:"absolute top-1/4 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none",children:L.jsx("div",{className:"text-[#00f2ff] font-orbitron font-black text-4xl md:text-7xl opacity-10 rotate-12 select-none uppercase tracking-tighter",children:"New Record"})})]})},WS=({stars:r,ownedThemes:t,activeThemeId:i,onClose:s,onPurchase:l,onSelect:u})=>L.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-50 bg-black/95 p-6 overflow-y-auto",children:L.jsxs("div",{className:"w-full max-w-4xl",children:[L.jsxs("div",{className:"flex justify-between items-center mb-12",children:[L.jsx("h2",{className:"text-4xl md:text-6xl font-orbitron font-black text-white italic",children:"DIMENSION SHOP"}),L.jsxs("div",{className:"px-6 py-3 bg-[#ffd700] text-black font-black font-orbitron text-xl",children:["STARS: ",r]})]}),L.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:tm.map(f=>{const g=t.includes(f.id),p=i===f.id,_=r>=f.price;return L.jsxs("div",{className:`p-6 border-2 transition-all ${p?"border-[#00f2ff] bg-white/5":"border-gray-800"}`,children:[L.jsx("div",{className:"w-full h-24 mb-4 flex items-center justify-center border border-gray-700 bg-black",style:{boxShadow:`inset 0 0 20px ${f.glowColor}22`},children:L.jsx("div",{className:"w-12 h-12",style:{backgroundColor:f.playerColor,boxShadow:`0 0 20px ${f.glowColor}`}})}),L.jsx("h3",{className:"text-xl font-orbitron font-bold text-white mb-2",children:f.name}),L.jsx("p",{className:"text-gray-500 text-xs mb-4 h-8",children:f.description}),p?L.jsx("div",{className:"w-full py-2 bg-[#00f2ff] text-black text-center font-bold font-orbitron text-sm",children:"ACTIVE"}):g?L.jsx("button",{onClick:()=>u(f.id),className:"w-full py-2 border border-white text-white hover:bg-white hover:text-black transition-colors font-bold font-orbitron text-sm",children:"SELECT"}):L.jsxs("button",{disabled:!_,onClick:()=>l(f),className:`w-full py-2 font-bold font-orbitron text-sm ${_?"bg-white text-black hover:bg-[#ffd700]":"bg-gray-800 text-gray-500"}`,children:["BUY: ",f.price,""]})]},f.id)})}),L.jsx("button",{onClick:s,className:"mt-12 px-12 py-4 border-2 border-white text-white font-orbitron font-black hover:bg-white hover:text-black transition-all",children:"BACK TO CORE"})]})}),tb=()=>{};var iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},eb=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[i++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[i++],f=r[i++],g=r[i++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[i++],f=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},L0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,T=u>>2,S=(u&3)<<4|g>>4;let N=(g&15)<<2|_>>6,q=_&63;p||(q=64,f||(N=64)),s.push(i[T],i[S],i[N],i[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(P0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):eb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,u==null||g==null||_==null||S==null)throw new nb;const N=u<<2|g>>4;if(s.push(N),_!==64){const q=g<<4&240|_>>2;if(s.push(q),S!==64){const W=_<<6&192|S;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class nb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ib=function(r){const t=P0(r);return L0.encodeByteArray(t,!0)},Xc=function(r){return ib(r).replace(/\./g,"")},U0=function(r){try{return L0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=()=>rb().__FIREBASE_DEFAULTS__,ab=()=>{if(typeof process>"u"||typeof iv>"u")return;const r=iv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ob=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&U0(r[1]);return t&&JSON.parse(t)},ph=()=>{try{return tb()||sb()||ab()||ob()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},k0=r=>{var t,i;return(i=(t=ph())==null?void 0:t.emulatorHosts)==null?void 0:i[r]},lb=r=>{const t=k0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},z0=()=>{var r;return(r=ph())==null?void 0:r.config},j0=r=>{var t;return(t=ph())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(f)),""].join(".")}const Nl={};function hb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Nl))Nl[t]?r.emulator.push(t):r.prod.push(t);return r}function fb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let rv=!1;function q0(r,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Nl[r]===t||Nl[r]||rv)return;Nl[r]=t;function i(N){return`__firebase__banner__${N}`}const s="__firebase__banner",u=hb().prod.length>0;function f(){const N=document.getElementById(s);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{rv=!0,f()},N}function T(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function S(){const N=fb(s),q=i("text"),W=document.getElementById(q)||document.createElement("span"),et=i("learnmore"),J=document.getElementById(et)||document.createElement("a"),lt=i("preprendIcon"),ut=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const mt=N.element;g(mt),T(J,et);const Tt=_();p(ut,lt),mt.append(ut,W,J,Tt),document.body.appendChild(mt)}u?(W.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function db(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function mb(){var t;const r=(t=ph())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _b(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function vb(){return!mb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Eb(){try{return typeof indexedDB=="object"}catch{return!1}}function Tb(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var u;t(((u=l.error)==null?void 0:u.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="FirebaseError";class fr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=Ab,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?Sb(u,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new fr(l,g,s)}}function Sb(r,t){return r.replace(bb,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const bb=/\{\$([^}]+)}/g;function wb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Qs(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const u=r[l],f=t[l];if(sv(u)&&sv(f)){if(!Qs(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function sv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Sl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function bl(r){const t=r.indexOf("?");if(!t)return"";const i=r.indexOf("#",t);return r.substring(t,i>0?i:void 0)}function Rb(r,t){const i=new Ib(r,t);return i.subscribe.bind(i)}class Ib{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");Cb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function qd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(r){return r&&r._delegate?r._delegate:r}class Ks{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new ub;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ob(t))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=Hs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hs){return this.instances.has(t)}getOptions(t=Hs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Db(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Hs){return this.component?this.component.multipleInstances?t:Hs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Db(r){return r===Hs?void 0:r}function Ob(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Nb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const Mb={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Vb=kt.INFO,Pb={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},Lb=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=Pb[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nm{constructor(t){this.name=t,this._logLevel=Vb,this._logHandler=Lb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Mb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const Ub=(r,t)=>t.some(i=>r instanceof i);let av,ov;function kb(){return av||(av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zb(){return ov||(ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H0=new WeakMap,em=new WeakMap,G0=new WeakMap,Hd=new WeakMap,Dm=new WeakMap;function jb(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{i(Wr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&H0.set(i,r)}).catch(()=>{}),Dm.set(t,r),t}function Bb(r){if(em.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});em.set(r,t)}let nm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return em.get(r);if(t==="objectStoreNames")return r.objectStoreNames||G0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Wr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function qb(r){nm=r(nm)}function Hb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Gd(this),t,...i);return G0.set(s,t.sort?t.sort():[t]),Wr(s)}:zb().includes(r)?function(...t){return r.apply(Gd(this),t),Wr(H0.get(this))}:function(...t){return Wr(r.apply(Gd(this),t))}}function Gb(r){return typeof r=="function"?Hb(r):(r instanceof IDBTransaction&&Bb(r),Ub(r,kb())?new Proxy(r,nm):r)}function Wr(r){if(r instanceof IDBRequest)return jb(r);if(Hd.has(r))return Hd.get(r);const t=Gb(r);return t!==r&&(Hd.set(r,t),Dm.set(t,r)),t}const Gd=r=>Dm.get(r);function Fb(r,t,{blocked:i,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,t),g=Wr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Wr(f.result),p.oldVersion,p.newVersion,Wr(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const Yb=["get","getKey","getAll","getAllKeys","count"],Qb=["put","add","delete","clear"],Fd=new Map;function lv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Fd.get(t))return Fd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=Qb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||Yb.includes(i)))return;const u=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&p.done]))[0]};return Fd.set(t,u),u}qb(r=>({...r,get:(t,i,s)=>lv(t,i)||r.get(t,i,s),has:(t,i)=>!!lv(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Xb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Xb(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const im="@firebase/app",uv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Nm("@firebase/app"),$b="@firebase/app-compat",Zb="@firebase/analytics-compat",Jb="@firebase/analytics",Wb="@firebase/app-check-compat",t1="@firebase/app-check",e1="@firebase/auth",n1="@firebase/auth-compat",i1="@firebase/database",r1="@firebase/data-connect",s1="@firebase/database-compat",a1="@firebase/functions",o1="@firebase/functions-compat",l1="@firebase/installations",u1="@firebase/installations-compat",c1="@firebase/messaging",h1="@firebase/messaging-compat",f1="@firebase/performance",d1="@firebase/performance-compat",m1="@firebase/remote-config",g1="@firebase/remote-config-compat",p1="@firebase/storage",y1="@firebase/storage-compat",_1="@firebase/firestore",v1="@firebase/ai",E1="@firebase/firestore-compat",T1="firebase",A1="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="[DEFAULT]",S1={[im]:"fire-core",[$b]:"fire-core-compat",[Jb]:"fire-analytics",[Zb]:"fire-analytics-compat",[t1]:"fire-app-check",[Wb]:"fire-app-check-compat",[e1]:"fire-auth",[n1]:"fire-auth-compat",[i1]:"fire-rtdb",[r1]:"fire-data-connect",[s1]:"fire-rtdb-compat",[a1]:"fire-fn",[o1]:"fire-fn-compat",[l1]:"fire-iid",[u1]:"fire-iid-compat",[c1]:"fire-fcm",[h1]:"fire-fcm-compat",[f1]:"fire-perf",[d1]:"fire-perf-compat",[m1]:"fire-rc",[g1]:"fire-rc-compat",[p1]:"fire-gcs",[y1]:"fire-gcs-compat",[_1]:"fire-fst",[E1]:"fire-fst-compat",[v1]:"fire-vertex","fire-js":"fire-js",[T1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,b1=new Map,sm=new Map;function cv(r,t){try{r.container.addComponent(t)}catch(i){lr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function to(r){const t=r.name;if(sm.has(t))return lr.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,r);for(const i of $c.values())cv(i,r);for(const i of b1.values())cv(i,r);return!0}function Om(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new Fl("app","Firebase",w1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=A1;function F0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:rm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw ts.create("bad-app-name",{appName:String(l)});if(i||(i=z0()),!i)throw ts.create("no-options");const u=$c.get(l);if(u){if(Qs(i,u.options)&&Qs(s,u.config))return u;throw ts.create("duplicate-app",{appName:l})}const f=new xb(l);for(const p of sm.values())f.addComponent(p);const g=new R1(i,s,f);return $c.set(l,g),g}function Y0(r=rm){const t=$c.get(r);if(!t&&r===rm&&z0())return F0();if(!t)throw ts.create("no-app",{appName:r});return t}function es(r,t,i){let s=S1[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${t}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),lr.warn(f.join(" "));return}to(new Ks(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firebase-heartbeat-database",C1=1,Ll="firebase-heartbeat-store";let Yd=null;function Q0(){return Yd||(Yd=Fb(I1,C1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ll)}catch(i){console.warn(i)}}}}).catch(r=>{throw ts.create("idb-open",{originalErrorMessage:r.message})})),Yd}async function N1(r){try{const i=(await Q0()).transaction(Ll),s=await i.objectStore(Ll).get(K0(r));return await i.done,s}catch(t){if(t instanceof fr)lr.warn(t.message);else{const i=ts.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});lr.warn(i.message)}}}async function hv(r,t){try{const s=(await Q0()).transaction(Ll,"readwrite");await s.objectStore(Ll).put(t,K0(r)),await s.done}catch(i){if(i instanceof fr)lr.warn(i.message);else{const s=ts.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});lr.warn(s.message)}}}function K0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=1024,O1=30;class x1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new V1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=fv();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>O1){const f=P1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){lr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=fv(),{heartbeatsToSend:s,unsentEntries:l}=M1(this._heartbeatsCache.heartbeats),u=Xc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return lr.warn(i),""}}}function fv(){return new Date().toISOString().substring(0,10)}function M1(r,t=D1){const i=[];let s=r.slice();for(const l of r){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),dv(i)>t){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),dv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class V1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Eb()?Tb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await N1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return hv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return hv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function dv(r){return Xc(JSON.stringify({version:2,heartbeats:r})).length}function P1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(r){to(new Ks("platform-logger",t=>new Kb(t),"PRIVATE")),to(new Ks("heartbeat",t=>new x1(t),"PRIVATE")),es(im,uv,r),es(im,uv,"esm2020"),es("fire-js","")}L1("");var U1="firebase",k1="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(U1,k1,"app");function X0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z1=X0,$0=new Fl("auth","Firebase",X0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Nm("@firebase/auth");function j1(r,...t){Zc.logLevel<=kt.WARN&&Zc.warn(`Auth (${uo}): ${r}`,...t)}function kc(r,...t){Zc.logLevel<=kt.ERROR&&Zc.error(`Auth (${uo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(r,...t){throw xm(r,...t)}function Ni(r,...t){return xm(r,...t)}function Z0(r,t,i){const s={...z1(),[t]:i};return new Fl("auth","Firebase",s).create(t,{appName:r.name})}function ar(r){return Z0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xm(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return $0.create(r,...t)}function St(r,t,...i){if(!r)throw xm(t,...i)}function rr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw kc(t),new Error(t)}function ur(r,t){r||rr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function B1(){return mv()==="http:"||mv()==="https:"}function mv(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B1()||pb()||"connection"in navigator)?navigator.onLine:!0}function H1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,ur(i>t,"Short delay should be less than long delay!"),this.isMobile=db()||yb()}get(){return q1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(r,t){ur(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y1=new Ql(3e4,6e4);function cs(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function dr(r,t,i,s,l={}){return W0(r,l,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const g=Yl({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:p,...u};return gb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&lo(r.emulatorConfig.host)&&(_.credentials="include"),J0.fetch()(await tE(r,r.config.apiHost,i,g),_)})}async function W0(r,t,i){r._canInitEmulator=!1;const s={...G1,...t};try{const l=new K1(r),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw xc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw xc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw xc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Z0(r,T,_);ii(r,T)}}catch(l){if(l instanceof fr)throw l;ii(r,"network-request-failed",{message:String(l)})}}async function Kl(r,t,i,s,l={}){const u=await dr(r,t,i,s,l);return"mfaPendingCredential"in u&&ii(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function tE(r,t,i,s){const l=`${t}${i}?${s}`,u=r,f=u.config.emulator?Mm(r.config,l):`${r.config.apiScheme}://${l}`;return F1.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Q1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ni(this.auth,"network-request-failed")),Y1.get())})}}function xc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ni(r,t,s);return l.customData._tokenResponse=i,l}function gv(r){return r!==void 0&&r.enterprise!==void 0}class X1{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Q1(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $1(r,t){return dr(r,"GET","/v2/recaptchaConfig",cs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(r,t){return dr(r,"POST","/v1/accounts:delete",t)}async function Jc(r,t){return dr(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function J1(r,t=!1){const i=Pe(r),s=await i.getIdToken(t),l=Vm(s);St(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:Dl(Qd(l.auth_time)),issuedAtTime:Dl(Qd(l.iat)),expirationTime:Dl(Qd(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Qd(r){return Number(r)*1e3}function Vm(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const l=U0(i);return l?JSON.parse(l):(kc("Failed to decode base64 JWT payload"),null)}catch(l){return kc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function pv(r){const t=Vm(r);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof fr&&W1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function W1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(r){var S;const t=r.auth,i=await r.getIdToken(),s=await eo(r,Jc(t,{idToken:i}));St(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=(S=l.providerUserInfo)!=null&&S.length?eE(l.providerUserInfo):[],f=nw(r.providerData,u),g=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),_=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,T)}async function ew(r){const t=Pe(r);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nw(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function eE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(r,t){const i=await W0(r,{},async()=>{const s=Yl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=await tE(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&lo(r.emulatorConfig.host)&&(p.credentials="include"),J0.fetch()(f,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function rw(r,t){return dr(r,"POST","/v2/accounts:revokeToken",cs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):pv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){St(t.length!==0,"internal-error");const i=pv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:u}=await iw(t,i);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:u}=i,f=new $a;return s&&(St(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(St(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),u&&(St(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(r,t){St(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new tw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await eo(this,this.stsTokenManager.getToken(this.auth,t));return St(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return J1(this,t)}reload(){return ew(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(ar(this.auth));const t=await this.getIdToken();return await eo(this,Z1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,f=i.photoURL??void 0,g=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:N,isAnonymous:q,providerData:W,stsTokenManager:et}=i;St(S&&et,t,"internal-error");const J=$a.fromJSON(this.name,et);St(typeof S=="string",t,"internal-error"),Kr(s,t.name),Kr(l,t.name),St(typeof N=="boolean",t,"internal-error"),St(typeof q=="boolean",t,"internal-error"),Kr(u,t.name),Kr(f,t.name),Kr(g,t.name),Kr(p,t.name),Kr(_,t.name),Kr(T,t.name);const lt=new ni({uid:S,auth:t,email:l,emailVerified:N,displayName:s,isAnonymous:q,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:J,createdAt:_,lastLoginAt:T});return W&&Array.isArray(W)&&(lt.providerData=W.map(ut=>({...ut}))),p&&(lt._redirectEventId=p),lt}static async _fromIdTokenResponse(t,i,s=!1){const l=new $a;l.updateFromServerResponse(i);const u=new ni({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Wc(u),u}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];St(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?eE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new $a;g.updateFromIdToken(s);const p=new ni({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;function sr(r){ur(r instanceof Function,"Expected a class definition");let t=yv.get(r);return t?(ur(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,yv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}nE.type="NONE";const _v=nE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(r,t,i){return`firebase:${r}:${t}:${i}`}class Za{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,u),this.fullPersistenceKey=zc("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Jc(this.auth,{idToken:t}).catch(()=>{});return i?ni._fromGetAccountInfoResponse(this.auth,i,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Za(sr(_v),t,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||sr(_v);const f=zc(s,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const T=await _._get(f);if(T){let S;if(typeof T=="string"){const N=await Jc(t,{idToken:T}).catch(()=>{});if(!N)break;S=await ni._fromGetAccountInfoResponse(t,N,T)}else S=ni._fromJSON(t,T);_!==u&&(g=S),u=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Za(u,t,s):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new Za(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lE(t))return"Blackberry";if(uE(t))return"Webos";if(rE(t))return"Safari";if((t.includes("chrome/")||sE(t))&&!t.includes("edge/"))return"Chrome";if(oE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function iE(r=en()){return/firefox\//i.test(r)}function rE(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sE(r=en()){return/crios\//i.test(r)}function aE(r=en()){return/iemobile/i.test(r)}function oE(r=en()){return/android/i.test(r)}function lE(r=en()){return/blackberry/i.test(r)}function uE(r=en()){return/webos/i.test(r)}function Pm(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sw(r=en()){var t;return Pm(r)&&!!((t=window.navigator)!=null&&t.standalone)}function aw(){return _b()&&document.documentMode===10}function cE(r=en()){return Pm(r)||oE(r)||uE(r)||lE(r)||/windows phone/i.test(r)||aE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(r,t=[]){let i;switch(r){case"Browser":i=vv(en());break;case"Worker":i=`${vv(en())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=u=>new Promise((f,g)=>{try{const p=t(u);f(p)}catch(p){g(p)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(r,t={}){return dr(r,"GET","/v2/passwordPolicy",cs(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=6;class cw{constructor(t){var s;const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??uw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new ow(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=sr(i)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Jc(this,{idToken:t}),s=await ni._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(Bn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&(p!=null&&p.user)&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=H1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bn(this.app))return Promise.reject(ar(this));const i=t?Pe(t):null;return i&&St(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bn(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lw(this),i=new cw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await rw(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&sr(t)||this._popupRedirectResolver;St(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[sr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,s,l);return()=>{f=!0,p()}}else{const p=t.addObserver(i);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var i;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return t!=null&&t.error&&j1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ta(r){return Pe(r)}class Ev{constructor(t){this.auth=t,this.observer=null,this.addObserver=Rb(i=>this.observer=i)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fw(r){yh=r}function fE(r){return yh.loadJS(r)}function dw(){return yh.recaptchaEnterpriseScript}function mw(){return yh.gapiScript}function gw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class pw{constructor(){this.enterprise=new yw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class yw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const _w="recaptcha-enterprise",dE="NO_RECAPTCHA";class vw{constructor(t){this.type=_w,this.auth=ta(t)}async verify(t="verify",i=!1){async function s(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{$1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new X1(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(p=>{g(p)})})}function l(u,f,g){const p=window.grecaptcha;gv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(_=>{f(_)}).catch(()=>{f(dE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pw().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(g=>{if(!i&&gv(window.grecaptcha))l(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=dw();p.length!==0&&(p+=g),fE(p).then(()=>{l(g,u,f)}).catch(_=>{f(_)})}}).catch(g=>{f(g)})})}}async function Tv(r,t,i,s=!1,l=!1){const u=new vw(r);let f;if(l)f=dE;else try{f=await u.verify(i)}catch{f=await u.verify(i,!0)}const g={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function lm(r,t,i,s,l){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Tv(r,t,i,i==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Tv(r,t,i,i==="getOobCode");return s(r,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r,t){const i=Om(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Qs(u,t??{}))return l;ii(l,"already-initialized")}return i.initialize({options:t})}function Tw(r,t){const i=(t==null?void 0:t.persistence)||[],s=(Array.isArray(i)?i:[i]).map(sr);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function Aw(r,t,i){const s=ta(r);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,u=mE(t),{host:f,port:g}=Sw(t),p=g===null?"":`:${g}`,_={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(Qs(_,s.config.emulator)&&Qs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,lo(f)?(B0(`${u}//${f}${p}`),q0("Auth",!0)):bw()}function mE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Sw(r){const t=mE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Av(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Av(f)}}}function Av(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function bw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return rr("not implemented")}_getIdTokenResponse(t){return rr("not implemented")}_linkToIdToken(t,i){return rr("not implemented")}_getReauthenticationResolver(t){return rr("not implemented")}}async function ww(r,t){return dr(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(r,t){return Kl(r,"POST","/v1/accounts:signInWithPassword",cs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iw(r,t){return Kl(r,"POST","/v1/accounts:signInWithEmailLink",cs(r,t))}async function Cw(r,t){return Kl(r,"POST","/v1/accounts:signInWithEmailLink",cs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Lm{constructor(t,i,s,l=null){super("password",s),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Ul(t,i,"password")}static _fromEmailAndCode(t,i,s=null){return new Ul(t,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(t,i,"signInWithPassword",Rw);case"emailLink":return Iw(t,{email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(t,s,"signUpPassword",ww);case"emailLink":return Cw(t,{idToken:i,email:this._email,oobCode:this._password});default:ii(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(r,t){return Kl(r,"POST","/v1/accounts:signInWithIdp",cs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="http://localhost";class Xs extends Lm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Xs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ii("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...u}=i;if(!s||!l)return null;const f=new Xs(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const i=this.buildRequest();return Ja(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ja(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ja(t,i)}buildRequest(){const t={requestUri:Nw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Yl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ow(r){const t=Sl(bl(r)).link,i=t?Sl(bl(t)).deep_link_id:null,s=Sl(bl(r)).deep_link_id;return(s?Sl(bl(s)).link:null)||s||i||t||r}class Um{constructor(t){const i=Sl(bl(t)),s=i.apiKey??null,l=i.oobCode??null,u=Dw(i.mode??null);St(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=Ow(t);try{return new Um(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(t,i){return Ul._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const s=Um.parseLink(i);return St(s,"argument-error"),Ul._fromEmailAndCode(t,s.code,s.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends gE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Xl{constructor(){super("facebook.com")}static credential(t){return Xs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xr.credential(t.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xs._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return ir.credential(i,s)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Xl{constructor(){super("github.com")}static credential(t){return Xs._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $r.credential(t.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Xl{constructor(){super("twitter.com")}static credential(t,i){return Xs._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Zr.credentialFromTaggedObject(t)}static credentialFromError(t){return Zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Zr.credential(i,s)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(r,t){return Kl(r,"POST","/v1/accounts:signUp",cs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const u=await ni._fromIdTokenResponse(t,s,l),f=Sv(s);return new $s({user:u,providerId:f,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=Sv(s);return new $s({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function Sv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends fr{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new th(t,i,s,l)}}function pE(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,u,t,s):u})}async function Mw(r,t,i=!1){const s=await eo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return $s._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(r,t,i=!1){const{auth:s}=r;if(Bn(s.app))return Promise.reject(ar(s));const l="reauthenticate";try{const u=await eo(r,pE(s,l,t,r),i);St(u.idToken,s,"internal-error");const f=Vm(u.idToken);St(f,s,"internal-error");const{sub:g}=f;return St(r.uid===g,s,"user-mismatch"),$s._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ii(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yE(r,t,i=!1){if(Bn(r.app))return Promise.reject(ar(r));const s="signIn",l=await pE(r,s,t),u=await $s._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(u.user),u}async function Pw(r,t){return yE(ta(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _E(r){const t=ta(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Lw(r,t,i){if(Bn(r.app))return Promise.reject(ar(r));const s=ta(r),f=await lm(s,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xw).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&_E(r),p}),g=await $s._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function Uw(r,t,i){return Bn(r.app)?Promise.reject(ar(r)):Pw(Pe(r),co.credential(t,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&_E(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(r,t){return dr(r,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(r,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const s=Pe(r),u={idToken:await s.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},f=await eo(s,kw(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const g=s.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=s.displayName,g.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function jw(r,t,i,s){return Pe(r).onIdTokenChanged(t,i,s)}function Bw(r,t,i){return Pe(r).beforeAuthStateChanged(t,i)}function qw(r,t,i,s){return Pe(r).onAuthStateChanged(t,i,s)}const eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=1e3,Gw=10;class EE extends vE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!i&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);aw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Gw):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},Hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}EE.type="LOCAL";const Fw=EE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE extends vE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}TE.type="SESSION";const AE=TE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new _h(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:u}=i.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async _=>_(i.origin,u)),p=await Yw(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const _=km("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(S){const N=S;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(N.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function Kw(r){Di().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function Xw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $w(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function Zw(){return SE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="firebaseLocalStorageDb",Jw=1,nh="firebaseLocalStorage",wE="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(r,t){return r.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function Ww(){const r=indexedDB.deleteDatabase(bE);return new $l(r).toPromise()}function um(){const r=indexedDB.open(bE,Jw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(nh,{keyPath:wE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(nh)?t(s):(s.close(),await Ww(),t(await um()))})})}async function bv(r,t,i){const s=vh(r,!0).put({[wE]:t,value:i});return new $l(s).toPromise()}async function tR(r,t){const i=vh(r,!1).get(t),s=await new $l(i).toPromise();return s===void 0?null:s.value}function wv(r,t){const i=vh(r,!0).delete(t);return new $l(i).toPromise()}const eR=800,nR=3;class RE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>nR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(Zw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var i,s;if(this.activeServiceWorker=await Xw(),!this.activeServiceWorker)return;this.sender=new Qw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(i=t[0])!=null&&i.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$w()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await um();return await bv(t,eh,"1"),await wv(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>bv(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>tR(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>wv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=vh(l,!1).getAll();return new $l(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RE.type="LOCAL";const iR=RE;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(r,t){return t?sr(t):(St(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends Lm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function sR(r){return yE(r.auth,new zm(r),r.bypassAuthState)}function aR(r){const{auth:t,user:i}=r;return St(i,t,"internal-error"),Vw(i,new zm(r),r.bypassAuthState)}async function oR(r){const{auth:t,user:i}=r;return St(i,t,"internal-error"),Mw(i,new zm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,i,s,l,u=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:u,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:i,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sR;case"linkViaPopup":case"linkViaRedirect":return oR;case"reauthViaPopup":case"reauthViaRedirect":return aR;default:ii(this.auth,"internal-error")}}resolve(t){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new Ql(2e3,1e4);class Xa extends IE{constructor(t,i,s,l,u){super(t,i,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const t=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,s;if((s=(i=this.authWindow)==null?void 0:i.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lR.get())};t()}}Xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="pendingRedirect",jc=new Map;class cR extends IE{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=jc.get(this.auth._key());if(!t){try{const s=await hR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}jc.set(this.auth._key(),t)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hR(r,t){const i=mR(t),s=dR(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function fR(r,t){jc.set(r._key(),t)}function dR(r){return sr(r._redirectPersistence)}function mR(r){return zc(uR,r.config.apiKey,r.name)}async function gR(r,t,i=!1){if(Bn(r.app))return Promise.reject(ar(r));const s=ta(r),l=rR(s,t),f=await new cR(s,l,i).execute();return f&&!i&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=600*1e3;class yR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_R(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var s;if(t.error&&!CE(t)){const l=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";i.onError(Ni(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rv(t))}saveEventToCache(t){this.cachedEventUids.add(Rv(t)),this.lastProcessedEventTime=Date.now()}}function Rv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function CE({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function _R(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(r,t={}){return dr(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TR=/^https?/;async function AR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await vR(r);for(const i of t)try{if(SR(i))return}catch{}ii(r,"unauthorized-domain")}function SR(r){const t=am(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===s}if(!TR.test(i))return!1;if(ER.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=new Ql(3e4,6e4);function Iv(){const r=Di().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function wR(r){return new Promise((t,i)=>{var l,u,f;function s(){Iv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Iv(),i(Ni(r,"network-request-failed"))},timeout:bR.get()})}if((u=(l=Di().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=Di().gapi)!=null&&f.load)s();else{const g=gw("iframefcb");return Di()[g]=()=>{gapi.load?s():i(Ni(r,"network-request-failed"))},fE(`${mw()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw Bc=null,t})}let Bc=null;function RR(r){return Bc=Bc||wR(r),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new Ql(5e3,15e3),CR="__/auth/iframe",NR="emulator/auth/iframe",DR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xR(r){const t=r.config;St(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Mm(t,NR):`https://${r.config.authDomain}/${CR}`,s={apiKey:t.apiKey,appName:r.name,v:uo},l=OR.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${i}?${Yl(s).slice(1)}`}async function MR(r){const t=await RR(r),i=Di().gapi;return St(i,r,"internal-error"),t.open({where:document.body,url:xR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DR,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ni(r,"network-request-failed"),g=Di().setTimeout(()=>{u(f)},IR.get());function p(){Di().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PR=500,LR=600,UR="_blank",kR="http://localhost";class Cv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zR(r,t,i,s=PR,l=LR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...VR,width:s.toString(),height:l.toString(),top:u,left:f},_=en().toLowerCase();i&&(g=sE(_)?UR:i),iE(_)&&(t=t||kR,p.scrollbars="yes");const T=Object.entries(p).reduce((N,[q,W])=>`${N}${q}=${W},`,"");if(sw(_)&&g!=="_self")return jR(t||"",g),new Cv(null);const S=window.open(t||"",g,T);St(S,r,"popup-blocked");try{S.focus()}catch{}return new Cv(S)}function jR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="__/auth/handler",qR="emulator/auth/handler",HR=encodeURIComponent("fac");async function Nv(r,t,i,s,l,u){St(r.config.authDomain,r,"auth-domain-config-required"),St(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:uo,eventId:l};if(t instanceof gE){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",wb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(t instanceof Xl){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),_=p?`#${HR}=${encodeURIComponent(p)}`:"";return`${GR(r)}?${Yl(g).slice(1)}${_}`}function GR({config:r}){return r.emulator?Mm(r,qR):`https://${r.authDomain}/${BR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="webStorageSupport";class FR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AE,this._completeRedirectFn=gR,this._overrideRedirectResult=fR}async _openPopup(t,i,s,l){var f;ur((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await Nv(t,i,s,am(),l);return zR(t,u,km())}async _openRedirect(t,i,s,l){await this._originValidation(t);const u=await Nv(t,i,s,am(),l);return Kw(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await MR(t),s=new yR(t);return i.register("authEvent",l=>(St(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Kd,{type:Kd},l=>{var f;const u=(f=l==null?void 0:l[0])==null?void 0:f[Kd];u!==void 0&&i(!!u),ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=AR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return cE()||rE()||Pm()}}const YR=FR;var Dv="@firebase/auth",Ov="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XR(r){to(new Ks("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;St(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hE(r)},_=new hw(s,l,u,p);return Tw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),to(new Ks("auth-internal",t=>{const i=ta(t.getProvider("auth").getImmediate());return(s=>new QR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(Dv,Ov,KR(r)),es(Dv,Ov,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=300,ZR=j0("authIdTokenMaxAge")||$R;let xv=null;const JR=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>ZR)return;const l=i==null?void 0:i.token;xv!==l&&(xv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function WR(r=Y0()){const t=Om(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Ew(r,{popupRedirectResolver:YR,persistence:[iR,Fw,AE]}),s=j0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=JR(u.toString());Bw(i,f,()=>f(i.currentUser)),jw(i,g=>f(g))}}const l=k0("auth");return l&&Aw(i,`http://${l}`),i}function tI(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}fw({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const u=Ni("internal-error");u.customData=l,i(u)},s.type="text/javascript",s.charset="UTF-8",tI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XR("Browser");var Mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,NE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(w,b){function R(){}R.prototype=b.prototype,w.F=b.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(x,D,V){for(var I=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)I[Qt-2]=arguments[Qt];return b.prototype[D].apply(x,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(w,b,R){R||(R=0);const x=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)x[D]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(D=0;D<16;++D)x[D]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=w.g[0],R=w.g[1],D=w.g[2];let V=w.g[3],I;I=b+(V^R&(D^V))+x[0]+3614090360&4294967295,b=R+(I<<7&4294967295|I>>>25),I=V+(D^b&(R^D))+x[1]+3905402710&4294967295,V=b+(I<<12&4294967295|I>>>20),I=D+(R^V&(b^R))+x[2]+606105819&4294967295,D=V+(I<<17&4294967295|I>>>15),I=R+(b^D&(V^b))+x[3]+3250441966&4294967295,R=D+(I<<22&4294967295|I>>>10),I=b+(V^R&(D^V))+x[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=V+(D^b&(R^D))+x[5]+1200080426&4294967295,V=b+(I<<12&4294967295|I>>>20),I=D+(R^V&(b^R))+x[6]+2821735955&4294967295,D=V+(I<<17&4294967295|I>>>15),I=R+(b^D&(V^b))+x[7]+4249261313&4294967295,R=D+(I<<22&4294967295|I>>>10),I=b+(V^R&(D^V))+x[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=V+(D^b&(R^D))+x[9]+2336552879&4294967295,V=b+(I<<12&4294967295|I>>>20),I=D+(R^V&(b^R))+x[10]+4294925233&4294967295,D=V+(I<<17&4294967295|I>>>15),I=R+(b^D&(V^b))+x[11]+2304563134&4294967295,R=D+(I<<22&4294967295|I>>>10),I=b+(V^R&(D^V))+x[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=V+(D^b&(R^D))+x[13]+4254626195&4294967295,V=b+(I<<12&4294967295|I>>>20),I=D+(R^V&(b^R))+x[14]+2792965006&4294967295,D=V+(I<<17&4294967295|I>>>15),I=R+(b^D&(V^b))+x[15]+1236535329&4294967295,R=D+(I<<22&4294967295|I>>>10),I=b+(D^V&(R^D))+x[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^D&(b^R))+x[6]+3225465664&4294967295,V=b+(I<<9&4294967295|I>>>23),I=D+(b^R&(V^b))+x[11]+643717713&4294967295,D=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(D^V))+x[0]+3921069994&4294967295,R=D+(I<<20&4294967295|I>>>12),I=b+(D^V&(R^D))+x[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^D&(b^R))+x[10]+38016083&4294967295,V=b+(I<<9&4294967295|I>>>23),I=D+(b^R&(V^b))+x[15]+3634488961&4294967295,D=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(D^V))+x[4]+3889429448&4294967295,R=D+(I<<20&4294967295|I>>>12),I=b+(D^V&(R^D))+x[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^D&(b^R))+x[14]+3275163606&4294967295,V=b+(I<<9&4294967295|I>>>23),I=D+(b^R&(V^b))+x[3]+4107603335&4294967295,D=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(D^V))+x[8]+1163531501&4294967295,R=D+(I<<20&4294967295|I>>>12),I=b+(D^V&(R^D))+x[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=V+(R^D&(b^R))+x[2]+4243563512&4294967295,V=b+(I<<9&4294967295|I>>>23),I=D+(b^R&(V^b))+x[7]+1735328473&4294967295,D=V+(I<<14&4294967295|I>>>18),I=R+(V^b&(D^V))+x[12]+2368359562&4294967295,R=D+(I<<20&4294967295|I>>>12),I=b+(R^D^V)+x[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^D)+x[8]+2272392833&4294967295,V=b+(I<<11&4294967295|I>>>21),I=D+(V^b^R)+x[11]+1839030562&4294967295,D=V+(I<<16&4294967295|I>>>16),I=R+(D^V^b)+x[14]+4259657740&4294967295,R=D+(I<<23&4294967295|I>>>9),I=b+(R^D^V)+x[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^D)+x[4]+1272893353&4294967295,V=b+(I<<11&4294967295|I>>>21),I=D+(V^b^R)+x[7]+4139469664&4294967295,D=V+(I<<16&4294967295|I>>>16),I=R+(D^V^b)+x[10]+3200236656&4294967295,R=D+(I<<23&4294967295|I>>>9),I=b+(R^D^V)+x[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^D)+x[0]+3936430074&4294967295,V=b+(I<<11&4294967295|I>>>21),I=D+(V^b^R)+x[3]+3572445317&4294967295,D=V+(I<<16&4294967295|I>>>16),I=R+(D^V^b)+x[6]+76029189&4294967295,R=D+(I<<23&4294967295|I>>>9),I=b+(R^D^V)+x[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=V+(b^R^D)+x[12]+3873151461&4294967295,V=b+(I<<11&4294967295|I>>>21),I=D+(V^b^R)+x[15]+530742520&4294967295,D=V+(I<<16&4294967295|I>>>16),I=R+(D^V^b)+x[2]+3299628645&4294967295,R=D+(I<<23&4294967295|I>>>9),I=b+(D^(R|~V))+x[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~D))+x[7]+1126891415&4294967295,V=b+(I<<10&4294967295|I>>>22),I=D+(b^(V|~R))+x[14]+2878612391&4294967295,D=V+(I<<15&4294967295|I>>>17),I=R+(V^(D|~b))+x[5]+4237533241&4294967295,R=D+(I<<21&4294967295|I>>>11),I=b+(D^(R|~V))+x[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~D))+x[3]+2399980690&4294967295,V=b+(I<<10&4294967295|I>>>22),I=D+(b^(V|~R))+x[10]+4293915773&4294967295,D=V+(I<<15&4294967295|I>>>17),I=R+(V^(D|~b))+x[1]+2240044497&4294967295,R=D+(I<<21&4294967295|I>>>11),I=b+(D^(R|~V))+x[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~D))+x[15]+4264355552&4294967295,V=b+(I<<10&4294967295|I>>>22),I=D+(b^(V|~R))+x[6]+2734768916&4294967295,D=V+(I<<15&4294967295|I>>>17),I=R+(V^(D|~b))+x[13]+1309151649&4294967295,R=D+(I<<21&4294967295|I>>>11),I=b+(D^(R|~V))+x[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=V+(R^(b|~D))+x[11]+3174756917&4294967295,V=b+(I<<10&4294967295|I>>>22),I=D+(b^(V|~R))+x[2]+718787259&4294967295,D=V+(I<<15&4294967295|I>>>17),I=R+(V^(D|~b))+x[9]+3951481745&4294967295,w.g[0]=w.g[0]+b&4294967295,w.g[1]=w.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+V&4294967295}s.prototype.v=function(w,b){b===void 0&&(b=w.length);const R=b-this.blockSize,x=this.C;let D=this.h,V=0;for(;V<b;){if(D==0)for(;V<=R;)l(this,w,V),V+=this.blockSize;if(typeof w=="string"){for(;V<b;)if(x[D++]=w.charCodeAt(V++),D==this.blockSize){l(this,x),D=0;break}}else for(;V<b;)if(x[D++]=w[V++],D==this.blockSize){l(this,x),D=0;break}}this.h=D,this.o+=b},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var b=1;b<w.length-8;++b)w[b]=0;b=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=b&255,b/=256;for(this.v(w),w=Array(16),b=0,R=0;R<4;++R)for(let x=0;x<32;x+=8)w[b++]=this.g[R]>>>x&255;return w};function u(w,b){var R=g;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=b(w)}function f(w,b){this.h=b;const R=[];let x=!0;for(let D=w.length-1;D>=0;D--){const V=w[D]|0;x&&V==b||(R[D]=V,x=!1)}this.g=R}var g={};function p(w){return-128<=w&&w<128?u(w,function(b){return new f([b|0],b<0?-1:0)}):new f([w|0],w<0?-1:0)}function _(w){if(isNaN(w)||!isFinite(w))return S;if(w<0)return J(_(-w));const b=[];let R=1;for(let x=0;w>=R;x++)b[x]=w/R|0,R*=4294967296;return new f(b,0)}function T(w,b){if(w.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(w.charAt(0)=="-")return J(T(w.substring(1),b));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(b,8));let x=S;for(let V=0;V<w.length;V+=8){var D=Math.min(8,w.length-V);const I=parseInt(w.substring(V,V+D),b);D<8?(D=_(Math.pow(b,D)),x=x.j(D).add(_(I))):(x=x.j(R),x=x.add(_(I)))}return x}var S=p(0),N=p(1),q=p(16777216);r=f.prototype,r.m=function(){if(et(this))return-J(this).m();let w=0,b=1;for(let R=0;R<this.g.length;R++){const x=this.i(R);w+=(x>=0?x:4294967296+x)*b,b*=4294967296}return w},r.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(W(this))return"0";if(et(this))return"-"+J(this).toString(w);const b=_(Math.pow(w,6));var R=this;let x="";for(;;){const D=Tt(R,b).g;R=lt(R,D.j(b));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=D,W(R))return V+x;for(;V.length<6;)V="0"+V;x=V+x}},r.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function W(w){if(w.h!=0)return!1;for(let b=0;b<w.g.length;b++)if(w.g[b]!=0)return!1;return!0}function et(w){return w.h==-1}r.l=function(w){return w=lt(this,w),et(w)?-1:W(w)?0:1};function J(w){const b=w.g.length,R=[];for(let x=0;x<b;x++)R[x]=~w.g[x];return new f(R,~w.h).add(N)}r.abs=function(){return et(this)?J(this):this},r.add=function(w){const b=Math.max(this.g.length,w.g.length),R=[];let x=0;for(let D=0;D<=b;D++){let V=x+(this.i(D)&65535)+(w.i(D)&65535),I=(V>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);x=I>>>16,V&=65535,I&=65535,R[D]=I<<16|V}return new f(R,R[R.length-1]&-2147483648?-1:0)};function lt(w,b){return w.add(J(b))}r.j=function(w){if(W(this)||W(w))return S;if(et(this))return et(w)?J(this).j(J(w)):J(J(this).j(w));if(et(w))return J(this.j(J(w)));if(this.l(q)<0&&w.l(q)<0)return _(this.m()*w.m());const b=this.g.length+w.g.length,R=[];for(var x=0;x<2*b;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(let D=0;D<w.g.length;D++){const V=this.i(x)>>>16,I=this.i(x)&65535,Qt=w.i(D)>>>16,he=w.i(D)&65535;R[2*x+2*D]+=I*he,ut(R,2*x+2*D),R[2*x+2*D+1]+=V*he,ut(R,2*x+2*D+1),R[2*x+2*D+1]+=I*Qt,ut(R,2*x+2*D+1),R[2*x+2*D+2]+=V*Qt,ut(R,2*x+2*D+2)}for(w=0;w<b;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=b;w<2*b;w++)R[w]=0;return new f(R,0)};function ut(w,b){for(;(w[b]&65535)!=w[b];)w[b+1]+=w[b]>>>16,w[b]&=65535,b++}function mt(w,b){this.g=w,this.h=b}function Tt(w,b){if(W(b))throw Error("division by zero");if(W(w))return new mt(S,S);if(et(w))return b=Tt(J(w),b),new mt(J(b.g),J(b.h));if(et(b))return b=Tt(w,J(b)),new mt(J(b.g),b.h);if(w.g.length>30){if(et(w)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var R=N,x=b;x.l(w)<=0;)R=Pt(R),x=Pt(x);var D=tt(R,1),V=tt(x,1);for(x=tt(x,2),R=tt(R,2);!W(x);){var I=V.add(x);I.l(w)<=0&&(D=D.add(R),V=I),x=tt(x,1),R=tt(R,1)}return b=lt(w,D.j(b)),new mt(D,b)}for(D=S;w.l(b)>=0;){for(R=Math.max(1,Math.floor(w.m()/b.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),V=_(R),I=V.j(b);et(I)||I.l(w)>0;)R-=x,V=_(R),I=V.j(b);W(V)&&(V=N),D=D.add(V),w=lt(w,I)}return new mt(D,w)}r.B=function(w){return Tt(this,w).h},r.and=function(w){const b=Math.max(this.g.length,w.g.length),R=[];for(let x=0;x<b;x++)R[x]=this.i(x)&w.i(x);return new f(R,this.h&w.h)},r.or=function(w){const b=Math.max(this.g.length,w.g.length),R=[];for(let x=0;x<b;x++)R[x]=this.i(x)|w.i(x);return new f(R,this.h|w.h)},r.xor=function(w){const b=Math.max(this.g.length,w.g.length),R=[];for(let x=0;x<b;x++)R[x]=this.i(x)^w.i(x);return new f(R,this.h^w.h)};function Pt(w){const b=w.g.length+1,R=[];for(let x=0;x<b;x++)R[x]=w.i(x)<<1|w.i(x-1)>>>31;return new f(R,w.h)}function tt(w,b){const R=b>>5;b%=32;const x=w.g.length-R,D=[];for(let V=0;V<x;V++)D[V]=b>0?w.i(V+R)>>>b|w.i(V+R+1)<<32-b:w.i(V+R);return new f(D,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,NE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,ns=f}).apply(typeof Mv<"u"?Mv:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DE,wl,OE,qc,cm,xE,ME,VE;(function(){var r,t=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(c,m){if(m)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break t;v=v[U]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function p(c,m,v){return c.call.apply(c.bind,arguments)}function _(c,m,v){return _=p,_.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,U,B){for(var rt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)rt[Nt-2]=arguments[Nt];return m.prototype[U].apply(A,rt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function W(c,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const B=U.length||0;c.length=v+B;for(let rt=0;rt<B;rt++)c[v+rt]=U[rt]}else c.push(U)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(c){f.setTimeout(()=>{throw c},0)}function lt(){var c=w;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ut{constructor(){this.h=this.g=null}add(m,v){const A=mt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var mt=new et(()=>new Tt,c=>c.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Pt,tt=!1,w=new ut,b=()=>{const c=Promise.resolve(void 0);Pt=()=>{c.then(R)}};function R(){for(var c;c=lt();){try{c.h.call(c.g)}catch(v){J(v)}var m=mt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}tt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Qt(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(Qt,D),Qt.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Qt.Z.h.call(this)},Qt.prototype.h=function(){Qt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),F=0;function st(c,m,v,A,U){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++F,this.da=this.fa=!1}function pt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function K(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Rt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function O(c){const m={};for(const v in c)m[v]=c[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(c,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let B=0;B<G.length;B++)v=G[B],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function at(c){this.src=c,this.g={},this.h=0}at.prototype.add=function(c,m,v,A,U){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const rt=yt(c,m,A,U);return rt>-1?(m=c[rt],v||(m.fa=!1)):(m=new st(m,this.src,B,!!A,U),m.fa=v,c.push(m)),m};function _t(c,m){const v=m.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(A,U,1),B&&(pt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function yt(c,m,v,A){for(let U=0;U<c.length;++U){const B=c[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return U}return-1}var nt="closure_lm_"+(Math.random()*1e6|0),gt={};function xt(c,m,v,A,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)xt(c,m[B],v,A,U);return null}return v=vo(v),c&&c[he]?c.J(m,v,g(A)?!!A.capture:!1,U):Le(c,m,v,!1,A,U)}function Le(c,m,v,A,U,B){if(!m)throw Error("Invalid event type");const rt=g(U)?!!U.capture:!!U;let Nt=ds(c);if(Nt||(c[nt]=Nt=new at(c)),v=Nt.add(m,v,A,rt,B),v.proxy)return v;if(A=Rn(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)V||(U=rt),U===void 0&&(U=!1),c.addEventListener(m.toString(),A,U);else if(c.attachEvent)c.attachEvent(si(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Rn(){function c(v){return m.call(c.src,c.listener,v)}const m=yo;return c}function Ui(c,m,v,A,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ui(c,m[B],v,A,U);else A=g(A)?!!A.capture:!!A,v=vo(v),c&&c[he]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=yt(m,v,A,U),v>-1&&(pt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=ds(c))&&(m=c.g[m.toString()],c=-1,m&&(c=yt(m,v,A,U)),(v=c>-1?m[c]:null)&&gn(v))}function gn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[he])_t(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(si(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ds(m))?(_t(v,c),v.h==0&&(v.src=null,m[nt]=null)):pt(c)}}}function si(c){return c in gt?gt[c]:gt[c]="on"+c}function yo(c,m){if(c.da)c=!0;else{m=new Qt(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&gn(c),c=v.call(A,m)}return c}function ds(c){return c=c[nt],c instanceof at?c:null}var _o="__closure_events_fn_"+(Math.random()*1e9>>>0);function vo(c){return typeof c=="function"?c:(c[_o]||(c[_o]=function(m){return c.handleEvent(m)}),c[_o])}function Ee(){x.call(this),this.i=new at(this),this.M=this,this.G=null}S(Ee,x),Ee.prototype[he]=!0,Ee.prototype.removeEventListener=function(c,m,v,A){Ui(this,c,m,v,A)};function xe(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var U=m;m=new D(A,c),it(m,U)}U=!0;let B,rt;if(v)for(rt=v.length-1;rt>=0;rt--)B=m.g=v[rt],U=gr(B,A,!0,m)&&U;if(B=m.g=c,U=gr(B,A,!0,m)&&U,U=gr(B,A,!1,m)&&U,v)for(rt=0;rt<v.length;rt++)B=m.g=v[rt],U=gr(B,A,!1,m)&&U}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)pt(v[A]);delete c.g[m],c.h--}}this.G=null},Ee.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},Ee.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function gr(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const rt=m[B];if(rt&&!rt.da&&rt.capture==v){const Nt=rt.listener,pe=rt.ha||rt.src;rt.fa&&_t(c.i,rt),U=Nt.call(pe,A)!==!1&&U}}return U&&!A.defaultPrevented}function Uh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function iu(c){c.g=Uh(()=>{c.g=null,c.i&&(c.i=!1,iu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class nn extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){x.call(this),this.h=c,this.g={}}S(ms,x);var Eo=[];function To(c){K(c.g,function(m,v){this.g.hasOwnProperty(v)&&gn(m)},c),c.g={}}ms.prototype.N=function(){ms.Z.N.call(this),To(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=f.JSON.stringify,kh=f.JSON.parse,ru=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function su(){}function au(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){D.call(this,"d")}S(qe,D);function In(){D.call(this,"c")}S(In,D);var ge={},ou=null;function ia(){return ou=ou||new Ee}ge.Ia="serverreachability";function lu(c){D.call(this,ge.Ia,c)}S(lu,D);function ai(c){const m=ia();xe(m,new lu(m))}ge.STAT_EVENT="statevent";function gs(c,m){D.call(this,ge.STAT_EVENT,c),this.stat=m}S(gs,D);function Te(c){const m=ia();xe(m,new gs(m,c))}ge.Ja="timingevent";function oi(c,m){D.call(this,ge.Ja,c),this.size=m}S(oi,D);function li(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function zh(c,m,v,A,U,B){c.info(function(){if(c.g)if(B){var rt="",Nt=B.split("&");for(let Ft=0;Ft<Nt.length;Ft++){var pe=Nt[Ft].split("=");if(pe.length>1){const le=pe[0];pe=pe[1];const On=le.split("_");rt=On.length>=2&&On[1]=="type"?rt+(le+"="+pe+"&"):rt+(le+"=redacted&")}}}else rt=null;else rt=B;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+rt})}function uu(c,m,v,A,U,B,rt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+rt})}function ui(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(c,v)+(A?" "+A:"")})}function ps(c,m){c.info(function(){return"TIMEOUT: "+m})}Fn.prototype.info=function(){};function jh(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let rt=1;rt<A.length;rt++)A[rt]=""}}}}return pr(B)}catch{return m}}var ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function _s(){}S(_s,su),_s.prototype.g=function(){return new XMLHttpRequest},So=new _s;function ki(c){return encodeURIComponent(String(c))}function cu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Yn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new ms(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Ae={},Ue={};function ci(c,m,v){c.M=1,c.A=vs(be(m)),c.u=v,c.R=!0,ra(c,null)}function ra(c,m){c.F=Date.now(),hi(c),c.B=be(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),la(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Qn,c.g=wu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new nn(_(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Eo[0]=U.toString()),U=Eo);for(let B=0;B<U.length;B++){const rt=xt(v,U[B],A||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ai(),zh(c.i,c.v,c.B,c.l,c.S,c.u)}Yn.prototype.ba=function(c){c=c.target;const m=this.O;m&&$n(c)==3?m.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)t:{const Nt=$n(this.g),pe=this.g.ya(),Ft=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||Nt!=4||pe==7||(pe==8||Ft<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=Bh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var B=A;break e}}B=null}if(c=B)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,Te(12),pn(this),Cn(this);break t}}if(this.R){c=!0;let le;for(;!this.K&&this.C<v.length;)if(le=fu(this,v),le==Ue){Nt==4&&(this.m=4,Te(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ae){this.m=4,Te(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,le,null),di(this,le);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,Te(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(rt),rt.P=!0,Te(11))}}else ui(this.i,this.l,v,null),di(this,v);Nt==4&&pn(this),this.o&&!this.K&&(Nt==4?Tu(this.j,this):(this.o=!1,hi(this)))}else ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),pn(this),Cn(this)}}}catch{}finally{}};function Bh(c){if(!hu(c))return c.g.la();const m=He(c.g);if(m==="")return"";let v="";const A=m.length,U=$n(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let B=0;B<A;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(U&&B==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function hu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function fu(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?Ue:(v=Number(m.substring(v,A)),isNaN(v)?Ae:(A+=1,A+v>m.length?Ue:(m=m.slice(A,A+v),c.C=A+v,m)))}Yn.prototype.cancel=function(){this.K=!0,pn(this)};function hi(c){c.T=Date.now()+c.H,sa(c,c.H)}function sa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(_(c.aa,c),m)}function fi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Yn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ps(this.i,this.B),this.M!=2&&(ai(),Te(17)),pn(this),this.m=2,Cn(this)):sa(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Tu(c.j,c)}function pn(c){fi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,To(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function di(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||gi(v.h,c))){if(!c.L&&gi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)da(v),br(v);else break t;Rs(v),Te(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(_(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&da(v),!I(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ft=U[m];const le=Ft[0];if(!(le<=v.K))if(v.K=le,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const On=Ft[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const Ai=Ft[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Zn=Ft[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(A=1.5*Zn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Jn=c.g;if(Jn){const Is=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var B=A.h;B.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ro(B,B.h),B.h=null))}if(A.G){const ma=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(A.wa=ma,Xt(A.J,A.G,ma))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var rt=c;if(A.na=bu(A,A.L?A.ba:null,A.W),rt.L){Io(A.h,rt);var Nt=rt,pe=A.O;pe&&(Nt.H=pe),Nt.D&&(fi(Nt),hi(Nt)),A.g=rt}else vu(A);v.i.length>0&&Ei(v)}else Ft[0]!="stop"&&Ft[0]!="close"||Ti(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Ti(v,7):Lo(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}ai(4)}catch{}}var Se=class{constructor(c,m){this.g=c,this.map=m}};function bo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function gi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ro(c,m){c.g?c.g.add(m):c.h=m}function Io(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Co(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return q(c.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let U,B=null;A>=0?(U=c[v].substring(0,A),B=c[v].substring(A+1)):U=c[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof yn?(this.l=c.l,ke(this,c.j),this.o=c.o,this.g=c.g,yr(this,c.u),this.h=c.h,No(this,yu(c.i)),this.m=c.m):c&&(m=String(c).match(du))?(this.l=!1,ke(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),yr(this,m[4]),this.h=pi(m[5]||"",!0),No(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new vr(null,this.l))}yn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Es(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Es(m,oa,!0),"@"),c.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Es(v,v.charAt(0)=="/"?Do:mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Es(v,gu)),c.join("")},yn.prototype.resolve=function(c){const m=be(this);let v=!!c.j;v?ke(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)yr(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let rt=0;rt<U.length;){const Nt=U[rt++];Nt=="."?A&&rt==U.length&&B.push(""):Nt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&rt==U.length&&B.push("")):(B.push(Nt),A=!0)}A=B.join("/")}else A=U}return v?m.h=A:v=c.i.toString()!=="",v?No(m,yu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function be(c){return new yn(c)}function ke(c,m,v){c.j=v?pi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function yr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function No(c,m,v){m instanceof vr?(c.i=m,ua(c.i,c.l)):(v||(m=Es(m,_r)),c.i=new vr(m,c.l))}function Xt(c,m,v){c.i.set(m,v)}function vs(c){return Xt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var oa=/[#\/\?@]/g,mu=/[#\?:]/g,Do=/[#\?]/g,_r=/[#\?@]/g,gu=/#/g;function vr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&aa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=vr.prototype,r.add=function(c,m){on(this),this.i=null,c=Er(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function pu(c,m){on(c),m=Er(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Oo(c,m){return on(c),m=Er(c,m),c.g.has(m)}r.forEach=function(c,m){on(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(m,U,A,this)},this)},this)};function xo(c,m){on(c);let v=[];if(typeof m=="string")Oo(c,m)&&(v=v.concat(c.g.get(Er(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return on(this),this.i=null,c=Er(this,c),Oo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=xo(this,c),c.length>0?String(c[0]):m):m};function la(c,m,v){pu(c,m),v.length>0&&(c.i=null,c.g.set(Er(c,m),q(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const U=ki(v);v=xo(this,v);for(let B=0;B<v.length;B++){let rt=U;v[B]!==""&&(rt+="="+ki(v[B])),c.push(rt)}}return this.i=c.join("&")};function yu(c){const m=new vr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Er(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ua(c,m){m&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(pu(this,A),la(this,U,v))},c)),c.j=m}function Kn(c,m){const v=new Fn;if(f.Image){const A=new Image;A.onload=T(Nn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Nn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Nn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Nn,v,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Mo(c,m){const v=new Fn,A=new AbortController,U=setTimeout(()=>{A.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(B=>{clearTimeout(U),B.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Nn(v,"TestPingServer: error",!1,m)})}function Nn(c,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function Tr(){this.g=new ru}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(yi,su),yi.prototype.g=function(){return new Ts(this.i,this.h)};function Ts(c,m){Ee.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ts,Ee),r=Ts.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ar(this):Xn(this),this.readyState==3&&ca(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ar(this))},r.Na=function(c){this.g&&(this.response=c,Ar(this))},r.ga=function(){this.g&&Ar(this)};function Ar(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let m="";return K(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function As(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Dn(v),typeof c=="string"?v!=null&&ki(v):Xt(c,m,v))}function Jt(c){Ee.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Jt,Ee);var _i=/^https?$/i,Vo=["POST","PUT"];r=Jt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){Ss(this,B);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,rt]of v)this.g.setRequestHeader(B,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Ss(this,B)}};function Ss(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Po(c),zi(c)}function Po(c){c.A||(c.A=!0,xe(c,"complete"),xe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xe(this,"complete"),xe(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?bs(this):this.Xa())},r.Xa=function(){bs(this)};function bs(c){if(c.h&&typeof u<"u"){if(c.v&&$n(c)==4)setTimeout(c.Ca.bind(c),0);else if(xe(c,"readystatechange"),$n(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let rt=String(c.D).match(du)[1]||null;!rt&&f.self&&f.self.location&&(rt=f.self.location.protocol.slice(0,-1)),A=!_i.test(rt?rt.toLowerCase():"")}v=A}if(v)xe(c,"complete"),xe(c,"success");else{c.o=6;try{var U=$n(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Po(c)}}finally{zi(c)}}}}function zi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||xe(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),kh(m)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const m={};c=(c.g&&$n(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=cu(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Rt(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Sr(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(c&&c.concurrentRequestLimit),this.Ba=new Tr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Sr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,A){Te(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=bu(this,null,this.W),Ei(this)};function Lo(c){if(ha(c),c.I==3){var m=c.V++,v=be(c.J);if(Xt(v,"SID",c.M),Xt(v,"RID",m),Xt(v,"TYPE","terminate"),ws(c,v),m=new Yn(c,c.j,m),m.M=2,m.A=vs(be(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}Su(c)}function br(c){c.g&&(ko(c),c.g.cancel(),c.g=null)}function ha(c){br(c),c.v&&(f.clearTimeout(c.v),c.v=null),da(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ei(c){if(!wo(c.h)&&!c.m){c.m=!0;var m=c.Ea;Pt||b(),tt||(Pt(),tt=!0),w.add(m,c),c.D=0}}function fa(c,m){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(_(c.Ea,c,m),Au(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Yn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=_u(this,U,m),v=be(this.J),Xt(v,"RID",c),Xt(v,"CVER",22),this.G&&Xt(v,"X-HTTP-Session-Id",this.G),ws(this,v),B&&(this.R?m="headers="+ki(Dn(B))+"&"+m:this.u&&As(v,this.u,B)),Ro(this.h,U),this.Ra&&Xt(v,"TYPE","init"),this.S?(Xt(v,"$req",m),Xt(v,"SID","null"),U.U=!0,ci(U,v,null)):ci(U,v,m),this.I=2}}else this.I==3&&(c?Uo(this,c):this.i.length==0||wo(this.h)||Uo(this))};function Uo(c,m){var v;m?v=m.l:v=c.V++;const A=be(c.J);Xt(A,"SID",c.M),Xt(A,"RID",v),Xt(A,"AID",c.K),ws(c,A),c.u&&c.o&&As(A,c.u,c.o),v=new Yn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=_u(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ro(c.h,v),ci(v,A,m)}function ws(c,m){c.H&&K(c.H,function(v,A){Xt(m,A,v)}),c.l&&K({},function(v,A){Xt(m,A,v)})}function _u(c,m,v){v=Math.min(c.i.length,v);const A=c.l?_(c.l.Ka,c.l,c):null;t:{var U=c.i;let Nt=-1;for(;;){const pe=["count="+v];Nt==-1?v>0?(Nt=U[0].g,pe.push("ofs="+Nt)):Nt=0:pe.push("ofs="+Nt);let Ft=!0;for(let le=0;le<v;le++){var B=U[le].g;const On=U[le].map;if(B-=Nt,B<0)Nt=Math.max(0,U[le].g-100),Ft=!1;else try{B="req"+B+"_"||"";try{var rt=On instanceof Map?On:Object.entries(On);for(const[Ai,Zn]of rt){let Jn=Zn;g(Zn)&&(Jn=pr(Zn)),pe.push(B+Ai+"="+encodeURIComponent(Jn))}}catch(Ai){throw pe.push(B+"type="+encodeURIComponent("_badmap")),Ai}}catch{A&&A(On)}}if(Ft){rt=pe.join("&");break t}}rt=void 0}return c=c.i.splice(0,v),m.G=c,rt}function vu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Pt||b(),tt||(Pt(),tt=!0),w.add(m,c),c.A=0}}function Rs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(_(c.Da,c),Au(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(_(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),br(this),Eu(this))};function ko(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Eu(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=be(c.na);Xt(m,"RID","rpc"),Xt(m,"SID",c.M),Xt(m,"AID",c.K),Xt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xt(m,"TO",c.ia),Xt(m,"TYPE","xmlhttp"),ws(c,m),c.u&&c.o&&As(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=vs(be(m)),v.u=null,v.R=!0,ra(v,c)}r.Va=function(){this.C!=null&&(this.C=null,br(this),Rs(this),Te(19))};function da(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Tu(c,m){var v=null;if(c.g==m){da(c),ko(c),c.g=null;var A=2}else if(gi(c.h,m))v=m.G,Io(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=c.D;A=ia(),xe(A,new oi(A,v)),Ei(c)}else vu(c);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&fa(c,m)||A==2&&Rs(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),U){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Au(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ti(c,m){if(c.j.info("Error code "+m),m==2){var v=_(c.bb,c),A=c.Ua;const U=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ke(A,"https"),vs(A),U?Kn(A.toString(),v):Mo(A.toString(),v)}else Te(2);c.I=0,c.l&&c.l.pa(m),Su(c),ha(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function Su(c){if(c.I=0,c.ja=[],c.l){const m=Co(c.h);(m.length!=0||c.i.length!=0)&&(W(c.ja,m),W(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function bu(c,m,v){var A=v instanceof yn?be(v):new yn(v);if(A.g!="")m&&(A.g=m+"."+A.g),yr(A,A.u);else{var U=f.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new yn(null);A&&ke(B,A),m&&(B.g=m),U&&yr(B,U),v&&(B.h=v),A=B}return v=c.G,m=c.wa,v&&m&&Xt(A,v,m),Xt(A,"VER",c.ka),ws(c,A),A}function wu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Jt(new yi({ab:v})):new Jt(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function wr(){}wr.prototype.g=function(c,m){return new rn(c,m)};function rn(c,m){Ee.call(this),this.g=new Sr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Bi(this)}S(rn,Ee),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Lo(this.g)},rn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=pr(c),c=v);m.i.push(new Se(m.Ya++,c)),m.I==3&&Ei(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,rn.Z.N.call(this)};function Iu(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Iu,qe);function Cu(){In.call(this),this.status=1}S(Cu,In);function Bi(c){this.g=c}S(Bi,Ru),Bi.prototype.ra=function(){xe(this.g,"a")},Bi.prototype.qa=function(c){xe(this.g,new Iu(c))},Bi.prototype.pa=function(c){xe(this.g,new Cu)},Bi.prototype.oa=function(){xe(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,VE=function(){return new wr},ME=function(){return ia()},xE=ge,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,qc=ys,Ao.COMPLETE="complete",OE=Ao,au.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,wl=au,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,DE=Jt}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const Vv="@firebase/firestore",Pv="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new Nm("@firebase/firestore");function Fa(){return Zs.logLevel}function ct(r,...t){if(Zs.logLevel<=kt.DEBUG){const i=t.map(jm);Zs.debug(`Firestore (${ho}): ${r}`,...i)}}function cr(r,...t){if(Zs.logLevel<=kt.ERROR){const i=t.map(jm);Zs.error(`Firestore (${ho}): ${r}`,...i)}}function no(r,...t){if(Zs.logLevel<=kt.WARN){const i=t.map(jm);Zs.warn(`Firestore (${ho}): ${r}`,...i)}}function jm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,PE(r,s,i)}function PE(r,t,i){let s=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw cr(s),new Error(s)}function Kt(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||PE(t,l,s)}function Ct(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends fr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(We.UNAUTHENTICATED)))}shutdown(){}}class nI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class iI{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let u=new or;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new or,t.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new or)}}),0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new LE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class rI{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sI{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new rI(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aI{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Kt(this.o===void 0,3512);const s=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const l=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Lv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=oI(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<i&&(s+=t.charAt(l[u]%62))}return s}}function zt(r,t){return r<t?-1:r>t?1:0}function hm(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),u=t.charAt(s);if(l!==u)return Xd(l)===Xd(u)?zt(l,u):Xd(l)?1:-1}return zt(r.length,t.length)}const lI=55296,uI=57343;function Xd(r){const t=r.charCodeAt(0);return t>=lI&&t<=uI}function io(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="__name__";class Ci{constructor(t,i,s){i===void 0?i=0:i>t.length&&bt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&bt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const u=Ci.compareSegments(t.get(l),i.get(l));if(u!==0)return u}return zt(t.length,i.length)}static compareSegments(t,i){const s=Ci.isNumericId(t),l=Ci.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):hm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ns.fromString(t.substring(4,t.length-2))}}class re extends Ci{construct(t,i,s){return new re(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const cI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ci{construct(t,i,s){return new Xe(t,i,s)}static isValidIdentifier(t){return cI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uv}static keyField(){return new Xe([Uv])}static fromServerFormat(t){const i=[];let s="",l=0;const u=()=>{if(s.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(u(),l++)}if(u(),f)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(i)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(re.fromString(t))}static fromName(t){return new Et(re.fromString(t).popFirst(5))}static empty(){return new Et(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new re(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(r,t,i){if(!i)throw new ot(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function hI(r,t,i,s){if(t===!0&&s===!0)throw new ot(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function kv(r){if(!Et.isDocumentKey(r))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function zv(r){if(Et.isDocumentKey(r))throw new ot(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function kE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Eh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":bt(12329,{type:typeof r})}function Hn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Eh(r);throw new ot(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(r,t){const i={typeString:r};return t&&(i.value=t),i}function Zl(r,t){if(!kE(r))throw new ot(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${s}' field to equal '${u.value}'`;break}}if(i)throw new ot(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=-62135596800,Bv=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*Bv);return new oe(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<jv)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bv}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zl(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-jv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Oe("string",oe._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new oe(0,0))}static max(){return new wt(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function fI(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=wt.fromTimestamp(s===1e9?new oe(i+1,0):new oe(i,s));return new rs(l,Et.empty(),t)}function dI(r){return new rs(r.readTime,r.key,kl)}class rs{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new rs(wt.min(),Et.empty(),kl)}static max(){return new rs(wt.max(),Et.empty(),kl)}}function mI(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=Et.comparator(r.documentKey,t.documentKey),i!==0?i:zt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==gI)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,s)=>{i(t)}))}static reject(t){return new Z(((i,s)=>{s(t)}))}static waitFor(t){return new Z(((i,s)=>{let l=0,u=0,f=!1;t.forEach((g=>{++l,g.next((()=>{++u,f&&u===l&&i()}),(p=>s(p)))})),f=!0,u===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const s of t)i=i.next((l=>l?Z.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,u)=>{s.push(i.call(this,l,u))})),this.waitFor(s)}static mapArray(t,i){return new Z(((s,l)=>{const u=t.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const _=p;i(t[_]).next((T=>{f[_]=T,++g,g===u&&s(f)}),(T=>l(T)))}}))}static doWhile(t,i){return new Z(((s,l)=>{const u=()=>{t()===!0?i().next((()=>{u()}),l):s()};u()}))}}function yI(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Th.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=-1;function Ah(r){return r==null}function ih(r){return r===0&&1/r==-1/0}function _I(r){return typeof r=="number"&&Number.isInteger(r)&&!ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="";function vI(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=qv(t)),t=EI(r.get(i),t);return qv(t)}function EI(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":i+="";break;case zE:i+="";break;default:i+=u}}return i}function qv(r){return r+zE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function hs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function jE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,i){this.comparator=t,this.root=i||Ke.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vc(this.root,t,this.comparator,!0)}}class Vc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?s(t.key,i):1,i&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,i,s,l,u){this.key=t,this.value=i,this.color=s??Ke.RED,this.left=l??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,u){return new Ke(t??this.key,i??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,i,s),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ke.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,i,s,l,u){return this}insert(t,i,s){return new Ke(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Gv(this.data.getIterator())}getIteratorFrom(t){return new Gv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class Gv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new wn([])}unionWith(t){let i=new Ve(Xe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new BE("Invalid base64 string: "+u):u}})(t);return new $e(i)}static fromUint8Array(t){const i=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(t);return new $e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const TI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(Kt(!!r,39018),typeof r=="string"){let t=0;const i=TI.exec(r);if(Kt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(r.seconds),nanos:ve(r.nanos)}}function ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?$e.fromBase64String(r):$e.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="server_timestamp",HE="__type__",GE="__previous_value__",FE="__local_write_time__";function Hm(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[HE])==null?void 0:s.stringValue)===qE}function Sh(r){const t=r.mapValue.fields[GE];return Hm(t)?Sh(t):t}function zl(r){const t=ss(r.mapValue.fields[FE].timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,i,s,l,u,f,g,p,_,T){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const rh="(default)";class jl{constructor(t,i){this.projectId=t,this.database=i||rh}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(t){return t instanceof jl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="__type__",SI="__max__",Pc={mapValue:{}},QE="__vector__",sh="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hm(r)?4:wI(r)?9007199254740991:bI(r)?10:11:bt(28295,{value:r})}function Li(r,t){if(r===t)return!0;const i=os(r);if(i!==os(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return zl(r).isEqual(zl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=ss(l.timestampValue),g=ss(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return as(l.bytesValue).isEqual(as(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return ve(l.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(l.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ve(l.integerValue)===ve(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=ve(l.doubleValue),g=ve(u.doubleValue);return f===g?ih(f)===ih(g):isNaN(f)&&isNaN(g)}return!1})(r,t);case 9:return io(r.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},g=u.mapValue.fields||{};if(Hv(f)!==Hv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Li(f[p],g[p])))return!1;return!0})(r,t);default:return bt(52216,{left:r})}}function Bl(r,t){return(r.values||[]).find((i=>Li(i,t)))!==void 0}function ro(r,t){if(r===t)return 0;const i=os(r),s=os(t);if(i!==s)return zt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const g=ve(u.integerValue||u.doubleValue),p=ve(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,t);case 3:return Fv(r.timestampValue,t.timestampValue);case 4:return Fv(zl(r),zl(t));case 5:return hm(r.stringValue,t.stringValue);case 6:return(function(u,f){const g=as(u),p=as(f);return g.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=zt(g[_],p[_]);if(T!==0)return T}return zt(g.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const g=zt(ve(u.latitude),ve(f.latitude));return g!==0?g:zt(ve(u.longitude),ve(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Yv(r.arrayValue,t.arrayValue);case 10:return(function(u,f){var N,q,W,et;const g=u.fields||{},p=f.fields||{},_=(N=g[sh])==null?void 0:N.arrayValue,T=(q=p[sh])==null?void 0:q.arrayValue,S=zt(((W=_==null?void 0:_.values)==null?void 0:W.length)||0,((et=T==null?void 0:T.values)==null?void 0:et.length)||0);return S!==0?S:Yv(_,T)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Pc.mapValue&&f===Pc.mapValue)return 0;if(u===Pc.mapValue)return 1;if(f===Pc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const N=hm(p[S],T[S]);if(N!==0)return N;const q=ro(g[p[S]],_[T[S]]);if(q!==0)return q}return zt(p.length,T.length)})(r.mapValue,t.mapValue);default:throw bt(23264,{he:i})}}function Fv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return zt(r,t);const i=ss(r),s=ss(t),l=zt(i.seconds,s.seconds);return l!==0?l:zt(i.nanos,s.nanos)}function Yv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const u=ro(i[l],s[l]);if(u)return u}return zt(i.length,s.length)}function so(r){return fm(r)}function fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=ss(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return as(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Et.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const u of i.values||[])l?l=!1:s+=",",s+=fm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${fm(i.fields[f])}`;return l+"}"})(r.mapValue):bt(61005,{value:r})}function Hc(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sh(r);return t?16+Hc(t):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+Hc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return hs(s.fields,((u,f)=>{l+=u.length+Hc(f)})),l})(r.mapValue);default:throw bt(13486,{value:r})}}function Qv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function dm(r){return!!r&&"integerValue"in r}function Gm(r){return!!r&&"arrayValue"in r}function Kv(r){return!!r&&"nullValue"in r}function Xv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gc(r){return!!r&&"mapValue"in r}function bI(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[YE])==null?void 0:s.stringValue)===QE}function Ol(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return hs(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Ol(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ol(r.arrayValue.values[i]);return t}return{...r}}function wI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===SI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Gc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ol(i)}setAll(t){let i=Xe.emptyPath(),s={},l=[];t.forEach(((f,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,l),s={},l=[],i=g.popLast()}f?s[g.lastSegment()]=Ol(f):l.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,s,l)}delete(t){const i=this.field(t.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Gc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){hs(i,((l,u)=>t[l]=u));for(const l of s)delete t[l]}clone(){return new mn(Ol(this.value))}}function KE(r){const t=[];return hs(r.fields,((i,s)=>{const l=new Xe([i]);if(Gc(s)){const u=KE(s.mapValue).fields;if(u.length===0)t.push(l);else for(const f of u)t.push(l.child(f))}else t.push(l)})),new wn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,i,s,l,u,f,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(t){return new tn(t,0,wt.min(),wt.min(),wt.min(),mn.empty(),0)}static newFoundDocument(t,i,s,l){return new tn(t,1,i,wt.min(),s,l,0)}static newNoDocument(t,i){return new tn(t,2,i,wt.min(),wt.min(),mn.empty(),0)}static newUnknownDocument(t,i){return new tn(t,3,i,wt.min(),wt.min(),mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,i){this.position=t,this.inclusive=i}}function $v(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],f=r.position[l];if(u.field.isKeyField()?s=Et.comparator(Et.fromName(f.referenceValue),i.key):s=ro(f,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Zv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Li(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,i="asc"){this.field=t,this.dir=i}}function RI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{}class De extends XE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new CI(t,i,s):i==="array-contains"?new OI(t,s):i==="in"?new xI(t,s):i==="not-in"?new MI(t,s):i==="array-contains-any"?new VI(t,s):new De(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new NI(t,s):new DI(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ro(i,this.value)):i!==null&&os(this.value)===os(i)&&this.matchesComparison(ro(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends XE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ri(t,i)}matches(t){return $E(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $E(r){return r.op==="and"}function ZE(r){return II(r)&&$E(r)}function II(r){for(const t of r.filters)if(t instanceof ri)return!1;return!0}function mm(r){if(r instanceof De)return r.field.canonicalString()+r.op.toString()+so(r.value);if(ZE(r))return r.filters.map((t=>mm(t))).join(",");{const t=r.filters.map((i=>mm(i))).join(",");return`${r.op}(${t})`}}function JE(r,t){return r instanceof De?(function(s,l){return l instanceof De&&s.op===l.op&&s.field.isEqual(l.field)&&Li(s.value,l.value)})(r,t):r instanceof ri?(function(s,l){return l instanceof ri&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,g)=>u&&JE(f,l.filters[g])),!0):!1})(r,t):void bt(19439)}function WE(r){return r instanceof De?(function(i){return`${i.field.canonicalString()} ${i.op} ${so(i.value)}`})(r):r instanceof ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(WE).join(" ,")+"}"})(r):"Filter"}class CI extends De{constructor(t,i,s){super(t,i,s),this.key=Et.fromName(s.referenceValue)}matches(t){const i=Et.comparator(t.key,this.key);return this.matchesComparison(i)}}class NI extends De{constructor(t,i){super(t,"in",i),this.keys=tT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class DI extends De{constructor(t,i){super(t,"not-in",i),this.keys=tT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function tT(r,t){var i;return(((i=t.arrayValue)==null?void 0:i.values)||[]).map((s=>Et.fromName(s.referenceValue)))}class OI extends De{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Gm(i)&&Bl(i.arrayValue,this.value)}}class xI extends De{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Bl(this.value.arrayValue,i)}}class MI extends De{constructor(t,i){super(t,"not-in",i)}matches(t){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bl(this.value.arrayValue,i)}}class VI extends De{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Bl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t,i=null,s=[],l=[],u=null,f=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function Jv(r,t=null,i=[],s=[],l=null,u=null,f=null){return new PI(r,t,i,s,l,u,f)}function Fm(r){const t=Ct(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>mm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>so(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>so(s))).join(",")),t.Te=i}return t.Te}function Ym(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!RI(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!JE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Zv(r.startAt,t.startAt)&&Zv(r.endAt,t.endAt)}function gm(r){return Et.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,i=null,s=[],l=[],u=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LI(r,t,i,s,l,u,f,g){return new go(r,t,i,s,l,u,f,g)}function bh(r){return new go(r)}function Wv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function eT(r){return r.collectionGroup!==null}function xl(r){const t=Ct(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ve(Xe.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new ql(u,s))})),i.has(Xe.keyField().canonicalString())||t.Ie.push(new ql(Xe.keyField(),s))}return t.Ie}function Oi(r){const t=Ct(r);return t.Ee||(t.Ee=UI(t,xl(r))),t.Ee}function UI(r,t){if(r.limitType==="F")return Jv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new ql(l.field,u)}));const i=r.endAt?new ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ah(r.startAt.position,r.startAt.inclusive):null;return Jv(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function pm(r,t){const i=r.filters.concat([t]);return new go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function oh(r,t,i){return new go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function wh(r,t){return Ym(Oi(r),Oi(t))&&r.limitType===t.limitType}function nT(r){return`${Fm(Oi(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>WE(l))).join(", ")}]`),Ah(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>so(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>so(l))).join(",")),`Target(${s})`})(Oi(r))}; limitType=${r.limitType})`}function Rh(r,t){return t.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Et.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,l){for(const u of xl(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(f,g,p){const _=$v(f,g,p);return f.inclusive?_<=0:_<0})(s.startAt,xl(s),l)||s.endAt&&!(function(f,g,p){const _=$v(f,g,p);return f.inclusive?_>=0:_>0})(s.endAt,xl(s),l))})(r,t)}function kI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iT(r){return(t,i)=>{let s=!1;for(const l of xl(r)){const u=zI(l,t,i);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function zI(r,t,i){const s=r.field.isKeyField()?Et.comparator(t.key,i.key):(function(u,f,g){const p=f.data.field(u),_=g.data.field(u);return p!==null&&_!==null?ro(p,_):bt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return bt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){hs(this.inner,((i,s)=>{for(const[l,u]of s)t(l,u)}))}isEmpty(){return jE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new ce(Et.comparator);function hr(){return jI}const rT=new ce(Et.comparator);function Rl(...r){let t=rT;for(const i of r)t=t.insert(i.key,i);return t}function sT(r){let t=rT;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Gs(){return Ml()}function aT(){return Ml()}function Ml(){return new ea((r=>r.toString()),((r,t)=>r.isEqual(t)))}const BI=new ce(Et.comparator),qI=new Ve(Et.comparator);function jt(...r){let t=qI;for(const i of r)t=t.add(i);return t}const HI=new Ve(zt);function GI(){return HI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(t)?"-0":t}}function oT(r){return{integerValue:""+r}}function FI(r,t){return _I(t)?oT(t):Qm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function YI(r,t,i){return r instanceof lh?(function(l,u){const f={fields:{[HE]:{stringValue:qE},[FE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Hm(u)&&(u=Sh(u)),u&&(f.fields[GE]=u),{mapValue:f}})(i,t):r instanceof Hl?uT(r,t):r instanceof Gl?cT(r,t):(function(l,u){const f=lT(l,u),g=t0(f)+t0(l.Ae);return dm(f)&&dm(l.Ae)?oT(g):Qm(l.serializer,g)})(r,t)}function QI(r,t,i){return r instanceof Hl?uT(r,t):r instanceof Gl?cT(r,t):i}function lT(r,t){return r instanceof uh?(function(s){return dm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class lh extends Ih{}class Hl extends Ih{constructor(t){super(),this.elements=t}}function uT(r,t){const i=hT(t);for(const s of r.elements)i.some((l=>Li(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Gl extends Ih{constructor(t){super(),this.elements=t}}function cT(r,t){let i=hT(t);for(const s of r.elements)i=i.filter((l=>!Li(l,s)));return{arrayValue:{values:i}}}class uh extends Ih{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function t0(r){return ve(r.integerValue||r.doubleValue)}function hT(r){return Gm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function KI(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Hl&&l instanceof Hl||s instanceof Gl&&l instanceof Gl?io(s.elements,l.elements,Li):s instanceof uh&&l instanceof uh?Li(s.Ae,l.Ae):s instanceof lh&&l instanceof lh})(r.transform,t.transform)}class XI{constructor(t,i){this.version=t,this.transformResults=i}}class xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new xi}static exists(t){return new xi(void 0,t)}static updateTime(t){return new xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ch{}function fT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new mT(r.key,xi.none()):new Jl(r.key,r.data,xi.none());{const i=r.data,s=mn.empty();let l=new Ve(Xe.comparator);for(let u of t.fields)if(!l.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new fs(r.key,s,new wn(l.toArray()),xi.none())}}function $I(r,t,i){r instanceof Jl?(function(l,u,f){const g=l.value.clone(),p=n0(l.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,i):r instanceof fs?(function(l,u,f){if(!Fc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const g=n0(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(dT(l)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,i):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,i)}function Vl(r,t,i,s){return r instanceof Jl?(function(u,f,g,p){if(!Fc(u.precondition,f))return g;const _=u.value.clone(),T=i0(u.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(r,t,i,s):r instanceof fs?(function(u,f,g,p){if(!Fc(u.precondition,f))return g;const _=i0(u.fieldTransforms,p,f),T=f.data;return T.setAll(dT(u)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,i,s):(function(u,f,g){return Fc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,t,i)}function ZI(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=lT(s.transform,l||null);u!=null&&(i===null&&(i=mn.empty()),i.set(s.field,u))}return i||null}function e0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&io(s,l,((u,f)=>KI(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Jl extends Ch{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class fs extends Ch{constructor(t,i,s,l,u=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function n0(r,t,i){const s=new Map;Kt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const u=r[l],f=u.transform,g=t.data.field(u.field);s.set(u.field,QI(f,g,i[l]))}return s}function i0(r,t,i){const s=new Map;for(const l of r){const u=l.transform,f=i.data.field(l.field);s.set(l.field,YI(u,f,t))}return s}class mT extends Ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JI extends Ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&$I(u,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Vl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Vl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=aT();return this.mutations.forEach((l=>{const u=t.get(l.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=i.has(l.key)?null:g;const p=fT(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(wt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),jt())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,((i,s)=>e0(i,s)))&&io(this.baseMutations,t.baseMutations,((i,s)=>e0(i,s)))}}class Km{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return BI})();const u=t.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new Km(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,qt;function nC(r){switch(r){case X.OK:return bt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return bt(15467,{code:r})}}function gT(r){if(r===void 0)return cr("GRPC error has no .code"),X.UNKNOWN;switch(r){case Ne.OK:return X.OK;case Ne.CANCELLED:return X.CANCELLED;case Ne.UNKNOWN:return X.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return X.INTERNAL;case Ne.UNAVAILABLE:return X.UNAVAILABLE;case Ne.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ne.NOT_FOUND:return X.NOT_FOUND;case Ne.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ne.ABORTED:return X.ABORTED;case Ne.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ne.DATA_LOSS:return X.DATA_LOSS;default:return bt(39323,{code:r})}}(qt=Ne||(Ne={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new ns([4294967295,4294967295],0);function r0(r){const t=iC().encode(r),i=new NE;return i.update(t),new Uint8Array(i.digest())}function s0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ns([i,s],0),new ns([l,u],0)]}class Xm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Il(`Invalid padding: ${i}`);if(s<0)throw new Il(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new Il(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ns.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(ns.fromNumber(s)));return l.compare(rC)===1&&(l=new ns([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=r0(t),[s,l]=s0(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Xm(u,l,i);return s.forEach((g=>f.insert(g))),f}insert(t){if(this.ge===0)return;const i=r0(t),[s,l]=s0(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.Se(f)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t,i,s,l,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Wl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Nh(wt.min(),l,new ce(zt),hr(),jt())}}class Wl{constructor(t,i,s,l,u){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Wl(s,i,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class pT{constructor(t,i){this.targetId=t,this.Ce=i}}class yT{constructor(t,i,s=$e.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class a0{constructor(){this.ve=0,this.Fe=o0(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),i=jt(),s=jt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:bt(38017,{changeType:u})}})),new Wl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=o0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sC{constructor(t){this.Ge=t,this.ze=new Map,this.je=hr(),this.Je=Lc(),this.He=Lc(),this.Ye=new ce(zt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const u=l.target;if(gm(u))if(s===0){const f=new Et(u.path);this.et(i,f,tn.newNoDocument(f,wt.min()))}else Kt(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const g=this.ut(t),p=g?this.ct(g,t,f):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=i;let f,g;try{f=as(s).toUint8Array()}catch(p){if(p instanceof BE)return no("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Xm(f,l,u)}catch(p){return no(p instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(i,u,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&gm(g.target)){const p=new Et(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,tn.newNoDocument(p,t))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let s=jt();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const l=new Nh(t,i,this.Ye,this.je,s);return this.je=hr(),this.Je=Lc(),this.He=Lc(),this.Ye=new ce(zt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new a0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(zt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(zt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new a0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Lc(){return new ce(Et.comparator)}function o0(){return new ce(Et.comparator)}const aC={asc:"ASCENDING",desc:"DESCENDING"},oC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lC={and:"AND",or:"OR"};class uC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function ym(r,t){return r.useProto3Json||Ah(t)?t:{value:t}}function ch(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _T(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function cC(r,t){return ch(r,t.toTimestamp())}function Mi(r){return Kt(!!r,49232),wt.fromTimestamp((function(i){const s=ss(i);return new oe(s.seconds,s.nanos)})(r))}function $m(r,t){return _m(r,t).canonicalString()}function _m(r,t){const i=(function(l){return new re(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function vT(r){const t=re.fromString(r);return Kt(bT(t),10190,{key:t.toString()}),t}function vm(r,t){return $m(r.databaseId,t.path)}function $d(r,t){const i=vT(t);if(i.get(1)!==r.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new Et(TT(i))}function ET(r,t){return $m(r.databaseId,t)}function hC(r){const t=vT(r);return t.length===4?re.emptyPath():TT(t)}function Em(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function TT(r){return Kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function l0(r,t,i){return{name:vm(r,t),fields:i.value.mapValue.fields}}function fC(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:bt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(_,T){return _.useProto3Json?(Kt(T===void 0||typeof T=="string",58123),$e.fromBase64String(T||"")):(Kt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),$e.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(_){const T=_.code===void 0?X.UNKNOWN:gT(_.code);return new ot(T,_.message||"")})(f);i=new yT(s,l,u,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=$d(r,s.document.name),u=Mi(s.document.updateTime),f=s.document.createTime?Mi(s.document.createTime):wt.min(),g=new mn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(l,u,f,g),_=s.targetIds||[],T=s.removedTargetIds||[];i=new Yc(_,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=$d(r,s.document),u=s.readTime?Mi(s.readTime):wt.min(),f=tn.newNoDocument(l,u),g=s.removedTargetIds||[];i=new Yc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=$d(r,s.document),u=s.removedTargetIds||[];i=new Yc([],u,l,null)}else{if(!("filter"in t))return bt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new eC(l,u),g=s.targetId;i=new pT(g,f)}}return i}function dC(r,t){let i;if(t instanceof Jl)i={update:l0(r,t.key,t.value)};else if(t instanceof mT)i={delete:vm(r,t.key)};else if(t instanceof fs)i={update:l0(r,t.key,t.data),updateMask:AC(t.fieldMask)};else{if(!(t instanceof JI))return bt(16599,{Vt:t.type});i={verify:vm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const g=f.transform;if(g instanceof lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Hl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Gl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw bt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:cC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:bt(27497)})(r,t.precondition)),i}function mC(r,t){return r&&r.length>0?(Kt(t!==void 0,14353),r.map((i=>(function(l,u){let f=l.updateTime?Mi(l.updateTime):Mi(u);return f.isEqual(wt.min())&&(f=Mi(u)),new XI(f,l.transformResults||[])})(i,t)))):[]}function gC(r,t){return{documents:[ET(r,t.path)]}}function pC(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=ET(r,l);const u=(function(_){if(_.length!==0)return ST(ri.create(_,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const f=(function(_){if(_.length!==0)return _.map((T=>(function(N){return{field:Qa(N.field),direction:vC(N.dir)}})(T)))})(t.orderBy);f&&(i.structuredQuery.orderBy=f);const g=ym(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function yC(r){let t=hC(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Kt(s===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];i.where&&(u=(function(S){const N=AT(S);return N instanceof ri&&ZE(N)?N.getFilters():[N]})(i.where));let f=[];i.orderBy&&(f=(function(S){return S.map((N=>(function(W){return new ql(Ka(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let N;return N=typeof S=="object"?S.value:S,Ah(N)?null:N})(i.limit));let p=null;i.startAt&&(p=(function(S){const N=!!S.before,q=S.values||[];return new ah(q,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const N=!S.before,q=S.values||[];return new ah(q,N)})(i.endAt)),LI(t,l,f,u,g,"F",p,_)}function _C(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function AT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ka(i.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(i.unaryFilter.field);return De.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ka(i.unaryFilter.field);return De.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return De.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ri.create(i.compositeFilter.filters.map((s=>AT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(r):bt(30097,{filter:r})}function vC(r){return aC[r]}function EC(r){return oC[r]}function TC(r){return lC[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Xe.fromServerFormat(r.fieldPath)}function ST(r){return r instanceof De?(function(i){if(i.op==="=="){if(Xv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NAN"}};if(Kv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Xv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NAN"}};if(Kv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(i.field),op:EC(i.op),value:i.value}}})(r):r instanceof ri?(function(i){const s=i.getFilters().map((l=>ST(l)));return s.length===1?s[0]:{compositeFilter:{op:TC(i.op),filters:s}}})(r):bt(54877,{filter:r})}function AC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function bT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t,i,s,l,u=wt.min(),f=wt.min(),g=$e.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Jr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t){this.yt=t}}function bC(r){const t=yC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?oh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.Cn=new RC}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(rs.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(rs.min())}updateCollectionGroup(t,i,s){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class RC{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Ve(re.comparator),u=!l.has(s);return this.index[i]=l.add(s),u}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ve(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wT=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(wT,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ao(0)}static cr(){return new ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="LruGarbageCollector",IC=1048576;function h0([r,t],[i,s]){const l=zt(r,i);return l===0?zt(t,s):l}class CC{constructor(t){this.Ir=t,this.buffer=new Ve(h0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();h0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class NC{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(c0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?ct(c0,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Vr(3e5)}))}}class DC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(Th.ce);const s=new CC(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(u0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,u,f,g,p,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,g=Date.now(),this.removeTargets(t,s,i)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(_=Date.now(),Fa()<=kt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function OC(r,t){return new DC(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.changes=new ea((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Vl(s.mutation,l,wn.empty(),oe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,jt()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=jt()){const l=Gs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((u=>{let f=Rl();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,i){const s=Gs();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,jt())))}populateOverlays(t,i,s){const l=[];return s.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((f,g)=>{i.set(f,g)}))}))}computeViews(t,i,s,l){let u=hr();const f=Ml(),g=(function(){return Ml()})();return i.forEach(((p,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof fs)?u=u.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Vl(T.mutation,_,T.mutation.getFieldMask(),oe.now())):f.set(_.key,wn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((_,T)=>f.set(_,T))),i.forEach(((_,T)=>g.set(_,new MC(T,f.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const s=Ml();let l=new ce(((f,g)=>f-g)),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((f=>{for(const g of f)g.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let T=s.get(p)||wn.empty();T=g.applyToLocalView(_,T),s.set(p,T);const S=(l.get(g.batchId)||jt()).add(p);l=l.insert(g.batchId,S)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,S=aT();T.forEach((N=>{if(!u.has(N)){const q=fT(i.get(N),s.get(N));q!==null&&S.set(N,q),u=u.add(N)}})),f.push(this.documentOverlayCache.saveOverlays(t,_,S))}return Z.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(f){return Et.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):eT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-u.size):Z.resolve(Gs());let g=kl,p=u;return f.next((_=>Z.forEach(_,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next((N=>{p=p.insert(T,N)}))))).next((()=>this.populateOverlays(t,_,u))).next((()=>this.computeViews(t,p,_,jt()))).next((T=>({batchId:g,changes:sT(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Et(i)).next((s=>{let l=Rl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const u=i.collectionGroup;let f=Rl();return this.indexManager.getCollectionParents(t,u).next((g=>Z.forEach(g,(p=>{const _=(function(S,N){return new go(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((T=>{T.forEach(((S,N)=>{f=f.insert(S,N)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,u,l)))).next((f=>{u.forEach(((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,tn.newInvalidDocument(T)))}));let g=Rl();return f.forEach(((p,_)=>{const T=u.get(p);T!==void 0&&Vl(T.mutation,_,wn.empty(),oe.now()),Rh(i,_)&&(g=g.insert(p,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Mi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:bC(l.bundledQuery),readTime:Mi(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.overlays=new ce(Et.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Gs();return Z.forEach(i,(l=>this.getOverlay(t,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,u)=>{this.St(t,i,u)})),Z.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(t,i,s){const l=Gs(),u=i.length+1,f=new Et(i.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>s&&l.set(p.getKey(),p)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let u=new ce(((_,T)=>_-T));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let T=u.get(_.largestBatchId);T===null&&(T=Gs(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=l)););return Z.resolve(g)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new tC(i,s));let u=this.qr.get(i);u===void 0&&(u=jt(),this.qr.set(i,u)),this.qr.set(i,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.Qr=new Ve(Be.$r),this.Ur=new Ve(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Be(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Be(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new Et(new re([])),s=new Be(i,t),l=new Be(i,t+1),u=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new Et(new re([])),s=new Be(i,t),l=new Be(i,t+1);let u=jt();return this.Ur.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(t){const i=new Be(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Be{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return Et.comparator(t.key,i.key)||zt(t.Yr,i.Yr)}static Kr(t,i){return zt(t.Yr,i.Yr)||Et.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Be.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new WI(u,i,s,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new Be(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),u=l<0?0:l;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Be(i,0),l=new Be(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(f=>{const g=this.Xr(f.Yr);u.push(g)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ve(zt);return i.forEach((l=>{const u=new Be(l,0),f=new Be(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{s=s.add(g.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let u=s;Et.isDocumentKey(u)||(u=u.child(""));const f=new Be(new Et(u),0);let g=new Ve(zt);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Yr)),!0)}),f),Z.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(l=>{const u=new Be(l.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Be(i,0),l=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t){this.ri=t,this.docs=(function(){return new ce(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),u=l?l.size:0,f=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(t,i){let s=hr();return i.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():tn.newInvalidDocument(l))})),Z.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let u=hr();const f=i.path,g=new Et(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||mI(dI(T),s)<=0||(l.has(T.key)||Rh(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,i,s,l){bt(9500)}ii(t,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new jC(this)}getSize(t){return Z.resolve(this.size)}}class jC extends xC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t){this.persistence=t,this.si=new ea((i=>Fm(i)),Ym),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=ao.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ao(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,s){let l=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(u).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((f=>{u.push(l.markPotentiallyOrphaned(t,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t,i){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new UC,this.referenceDelegate=t(this),this.Pi=new BC(this),this.indexManager=new wC,this.remoteDocumentCache=(function(l){return new zC(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new SC(i),this.Ii=new PC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new LC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new kC(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){ct("MemoryPersistence","Starting transaction:",t);const l=new qC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class qC extends pI{constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.Ri=new Zm,this.Vi=null}static mi(t){return new Jm(t)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const l=Et.fromPath(s);return this.gi(t,l).next((u=>{u||i.removeEntry(l,wt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class hh{constructor(t,i){this.persistence=t,this.pi=new ea((s=>vI(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=OC(this,i)}static mi(t,i){return new hh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((s,l)=>this.br(t,s,l).next((u=>u?Z.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(f=>this.br(t,f,i).next((g=>{g||(s++,u.removeEntry(f,wt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Hc(t.data.value)),i}br(t,i,s){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=jt(),l=jt();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Wm(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vb()?8:yI(en())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const u={result:null};return this.ys(t,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,i,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new HC;return this.Ss(t,i,f).next((g=>{if(u.result=g,this.Vs)return this.bs(t,i,f,g.size)}))})).next((()=>u.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Fa()<=kt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Ya(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Fa()<=kt.DEBUG&&ct("QueryEngine","Query:",Ya(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Fa()<=kt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Ya(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(i))):Z.resolve())}ys(t,i){if(Wv(i))return Z.resolve(null);let s=Oi(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=oh(i,null,"F"),s=Oi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=jt(...u);return this.ps.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,s).next((p=>{const _=this.Ds(i,g);return this.Cs(i,_,f,p.readTime)?this.ys(t,oh(i,null,"F")):this.vs(t,_,i,p)}))))})))))}ws(t,i,s,l){return Wv(i)||l.isEqual(wt.min())?Z.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,s,l)?Z.resolve(null):(Fa()<=kt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(i)),this.vs(t,f,i,fI(l,kl)).next((g=>g)))}))}Ds(t,i){let s=new Ve(iT(t));return i.forEach(((l,u)=>{Rh(t,u)&&(s=s.add(u))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,i,s){return Fa()<=kt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Ya(i)),this.ps.getDocumentsMatchingQuery(t,i,rs.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="LocalStore",FC=3e8;class YC{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ce(zt),this.xs=new ea((u=>Fm(u)),Ym),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new VC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function QC(r,t,i,s){return new YC(r,t,i,s)}async function IT(r,t){const i=Ct(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],g=[];let p=jt();for(const _ of l){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of u){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next((_=>({Ls:_,removedBatchIds:f,addedBatchIds:g})))}))}))}function KC(r,t){const i=Ct(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,T){const S=_.batch,N=S.keys();let q=Z.resolve();return N.forEach((W=>{q=q.next((()=>T.getEntry(p,W))).next((et=>{const J=_.docVersions.get(W);Kt(J!==null,48541),et.version.compareTo(J)<0&&(S.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),T.addEntry(et)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(p,S)))})(i,s,t,u).next((()=>u.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=jt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function CT(r){const t=Ct(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function XC(r,t){const i=Ct(r),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((T,S)=>{const N=l.get(S);if(!N)return;g.push(i.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(u,T.addedDocuments,S))));let q=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?q=q.withResumeToken($e.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,s)),l=l.insert(S,q),(function(et,J,lt){return et.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=FC?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(N,q,T)&&g.push(i.Pi.updateTargetData(u,q))}));let p=hr(),_=jt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push($C(u,f,t.documentUpdates).next((T=>{p=T.ks,_=T.qs}))),!s.isEqual(wt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(u).next((S=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(T)}return Z.waitFor(g).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,_))).next((()=>p))})).then((u=>(i.Ms=l,u)))}function $C(r,t,i){let s=jt(),l=jt();return i.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=hr();return i.forEach(((g,p)=>{const _=u.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(wt.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):ct(tg,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{ks:f,qs:l}}))}function ZC(r,t){const i=Ct(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function JC(r,t){const i=Ct(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((u=>u?(l=u,Z.resolve(l)):i.Pi.allocateTargetId(s).next((f=>(l=new Jr(t,f,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function Tm(r,t,i){const s=Ct(r),l=s.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!mo(f))throw f;ct(tg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function f0(r,t,i){const s=Ct(r);let l=wt.min(),u=jt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,_,T){const S=Ct(p),N=S.xs.get(T);return N!==void 0?Z.resolve(S.Ms.get(N)):S.Pi.getTargetData(_,T)})(s,f,Oi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,i?l:wt.min(),i?u:jt()))).next((g=>(WC(s,kI(t),g),{documents:g,Qs:u})))))}function WC(r,t,i){let s=r.Os.get(t)||wt.min();i.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class d0{constructor(){this.activeTargetIds=GI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class t2{constructor(){this.Mo=new d0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new d0,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="ConnectivityMonitor";class g0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(m0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(m0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function Am(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="RestConnection",n2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class i2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===rh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,u){const f=Am(),g=this.zo(t,i.toUriEncodedString());ct(Zd,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:_}=new URL(g),T=lo(_);return this.Jo(t,g,p,s,T).then((S=>(ct(Zd,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw no(Zd,`RPC '${t}' ${f} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(t,i,s,l,u,f){return this.Go(t,i,s,l,u)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>t[u]=l)),s&&s.headers.forEach(((l,u)=>t[u]=l))}zo(t,i){const s=n2[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class s2 extends i2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,u){const f=Am();return new Promise(((g,p)=>{const _=new DE;_.setWithCredentials(!0),_.listenOnce(OE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case qc.NO_ERROR:const S=_.getResponseJson();ct(Je,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),g(S);break;case qc.TIMEOUT:ct(Je,`RPC '${t}' ${f} timed out`),p(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const N=_.getStatus();if(ct(Je,`RPC '${t}' ${f} failed with status:`,N,"response text:",_.getResponseText()),N>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const W=q==null?void 0:q.error;if(W&&W.status&&W.message){const et=(function(lt){const ut=lt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ut)>=0?ut:X.UNKNOWN})(W.status);p(new ot(et,W.message))}else p(new ot(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ot(X.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ct(Je,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(l);ct(Je,`RPC '${t}' ${f} sending request:`,l),_.send(i,"POST",T,s,15)}))}T_(t,i,s){const l=Am(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=VE(),g=ME(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=u.join("");ct(Je,`Creating RPC '${t}' stream ${l}: ${T}`,p);const S=f.createWebChannel(T,p);this.I_(S);let N=!1,q=!1;const W=new r2({Yo:J=>{q?ct(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(N||(ct(Je,`Opening RPC '${t}' stream ${l} transport.`),S.open(),N=!0),ct(Je,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),et=(J,lt,ut)=>{J.listen(lt,(mt=>{try{ut(mt)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return et(S,wl.EventType.OPEN,(()=>{q||(ct(Je,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),et(S,wl.EventType.CLOSE,(()=>{q||(q=!0,ct(Je,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(S))})),et(S,wl.EventType.ERROR,(J=>{q||(q=!0,no(Je,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new ot(X.UNAVAILABLE,"The operation could not be completed")))})),et(S,wl.EventType.MESSAGE,(J=>{var lt;if(!q){const ut=J.data[0];Kt(!!ut,16349);const mt=ut,Tt=(mt==null?void 0:mt.error)||((lt=mt[0])==null?void 0:lt.error);if(Tt){ct(Je,`RPC '${t}' stream ${l} received error:`,Tt);const Pt=Tt.status;let tt=(function(R){const x=Ne[R];if(x!==void 0)return gT(x)})(Pt),w=Tt.message;tt===void 0&&(tt=X.INTERNAL,w="Unknown error status: "+Pt+" with message "+Tt.message),q=!0,W.a_(new ot(tt,w)),S.close()}else ct(Je,`RPC '${t}' stream ${l} received:`,ut),W.u_(ut)}})),et(g,xE.STAT_EVENT,(J=>{J.stat===cm.PROXY?ct(Je,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===cm.NOPROXY&&ct(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(r){return new uC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,i,s=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&ct("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="PersistentStream";class DT{constructor(t,i,s,l,u,f,g,p){this.Mi=t,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(cr(i.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new ot(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(p0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ct(p0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class a2 extends DT{constructor(t,i,s,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,f),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=fC(this.serializer,t),s=(function(u){if(!("targetChange"in u))return wt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?wt.min():f.readTime?Mi(f.readTime):wt.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=Em(this.serializer),i.addTarget=(function(u,f){let g;const p=f.target;if(g=gm(p)?{documents:gC(u,p)}:{query:pC(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=_T(u,f.resumeToken);const _=ym(u,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(wt.min())>0){g.readTime=ch(u,f.snapshotVersion.toTimestamp());const _=ym(u,f.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const s=_C(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=Em(this.serializer),i.removeTarget=t,this.q_(i)}}class o2 extends DT{constructor(t,i,s,l,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=mC(t.writeResults,t.commitTime),s=Mi(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=Em(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>dC(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{}class u2 extends l2{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,_m(i,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(X.UNKNOWN,u.toString())}))}Ho(t,i,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(t,_m(i,s),l,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(X.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class c2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class h2{constructor(t,i,s,l,u){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{na(this)&&(ct(Js,"Restarting streams for network reachability change."),await(async function(p){const _=Ct(p);_.Ea.add(4),await tu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Oh(_)})(this))}))})),this.Ra=new c2(s,l)}}async function Oh(r){if(na(r))for(const t of r.da)await t(!0)}async function tu(r){for(const t of r.da)await t(!1)}function OT(r,t){const i=Ct(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),rg(i)?ig(i):po(i).O_()&&ng(i,t))}function eg(r,t){const i=Ct(r),s=po(i);i.Ia.delete(t),s.O_()&&xT(i,t),i.Ia.size===0&&(s.O_()?s.L_():na(i)&&i.Ra.set("Unknown"))}function ng(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}po(r).Y_(t)}function xT(r,t){r.Va.Ue(t),po(r).Z_(t)}function ig(r){r.Va=new sC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Ra.ua()}function rg(r){return na(r)&&!po(r).x_()&&r.Ia.size>0}function na(r){return Ct(r).Ea.size===0}function MT(r){r.Va=void 0}async function f2(r){r.Ra.set("Online")}async function d2(r){r.Ia.forEach(((t,i)=>{ng(r,t)}))}async function m2(r,t){MT(r),rg(r)?(r.Ra.ha(t),ig(r)):r.Ra.set("Unknown")}async function g2(r,t,i){if(r.Ra.set("Online"),t instanceof yT&&t.state===2&&t.cause)try{await(async function(l,u){const f=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(s){ct(Js,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await fh(r,s)}else if(t instanceof Yc?r.Va.Ze(t):t instanceof pT?r.Va.st(t):r.Va.tt(t),!i.isEqual(wt.min()))try{const s=await CT(r.localStore);i.compareTo(s)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(_);T&&u.Ia.set(_,T.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,_)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken($e.EMPTY_BYTE_STRING,T.snapshotVersion)),xT(u,p);const S=new Jr(T.target,p,_,T.sequenceNumber);ng(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ct(Js,"Failed to raise snapshot:",s),await fh(r,s)}}async function fh(r,t,i){if(!mo(t))throw t;r.Ea.add(1),await tu(r),r.Ra.set("Offline"),i||(i=()=>CT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ct(Js,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Oh(r)}))}function VT(r,t){return t().catch((i=>fh(r,i,t)))}async function xh(r){const t=Ct(r),i=ls(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:qm;for(;p2(t);)try{const l=await ZC(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,y2(t,l)}catch(l){await fh(t,l)}PT(t)&&LT(t)}function p2(r){return na(r)&&r.Ta.length<10}function y2(r,t){r.Ta.push(t);const i=ls(r);i.O_()&&i.X_&&i.ea(t.mutations)}function PT(r){return na(r)&&!ls(r).x_()&&r.Ta.length>0}function LT(r){ls(r).start()}async function _2(r){ls(r).ra()}async function v2(r){const t=ls(r);for(const i of r.Ta)t.ea(i.mutations)}async function E2(r,t,i){const s=r.Ta.shift(),l=Km.from(s,t,i);await VT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await xh(r)}async function T2(r,t){t&&ls(r).X_&&await(async function(s,l){if((function(f){return nC(f)&&f!==X.ABORTED})(l.code)){const u=s.Ta.shift();ls(s).B_(),await VT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await xh(s)}})(r,t),PT(r)&&LT(r)}async function y0(r,t){const i=Ct(r);i.asyncQueue.verifyOperationInProgress(),ct(Js,"RemoteStore received new credentials");const s=na(i);i.Ea.add(3),await tu(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Oh(i)}async function A2(r,t){const i=Ct(r);t?(i.Ea.delete(2),await Oh(i)):t||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function po(r){return r.ma||(r.ma=(function(i,s,l){const u=Ct(i);return u.sa(),new a2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:f2.bind(null,r),t_:d2.bind(null,r),r_:m2.bind(null,r),H_:g2.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),rg(r)?ig(r):r.Ra.set("Unknown")):(await r.ma.stop(),MT(r))}))),r.ma}function ls(r){return r.fa||(r.fa=(function(i,s,l){const u=Ct(i);return u.sa(),new o2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:_2.bind(null,r),r_:T2.bind(null,r),ta:v2.bind(null,r),na:E2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(ct(Js,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,i,s,l,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,u){const f=Date.now()+s,g=new sg(t,i,f,l,u);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(r,t){if(cr("AsyncQueue",`${t}: ${r}`),mo(r))return new ot(X.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||Et.comparator(i.key,s.key):(i,s)=>Et.comparator(i.key,s.key),this.keyedMap=Rl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Wa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.ga=new ce(Et.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):bt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class oo{constructor(t,i,s,l,u,f,g,p,_){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,i,s,l,u){const f=[];return i.forEach((g=>{f.push({type:0,doc:g})})),new oo(t,i,Wa.emptySet(i),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class b2{constructor(){this.queries=v0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Ct(i),u=l.queries;l.queries=v0(),u.forEach(((f,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function v0(){return new ea((r=>nT(r)),wh)}async function og(r,t){const i=Ct(r);let s=3;const l=t.query;let u=i.queries.get(l);u?!u.ba()&&t.Da()&&(s=2):(u=new S2,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(f){const g=ag(f,`Initialization of query '${Ya(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&ug(i)}async function lg(r,t){const i=Ct(r),s=t.query;let l=3;const u=i.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function w2(r,t){const i=Ct(r);let s=!1;for(const l of t){const u=l.query,f=i.queries.get(u);if(f){for(const g of f.Sa)g.Fa(l)&&(s=!0);f.wa=l}}s&&ug(i)}function R2(r,t,i){const s=Ct(r),l=s.queries.get(t);if(l)for(const u of l.Sa)u.onError(i);s.queries.delete(t)}function ug(r){r.Ca.forEach((t=>{t.next()}))}var Sm,E0;(E0=Sm||(Sm={})).Ma="default",E0.Cache="cache";class cg{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new oo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t){this.key=t}}class kT{constructor(t){this.key=t}}class I2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=iT(t),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new _0,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const N=l.get(T),q=Rh(this.query,S)?S:null,W=!!N&&this.mutatedKeys.has(N.key),et=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let J=!1;N&&q?N.data.isEqual(q.data)?W!==et&&(s.track({type:3,doc:q}),J=!0):this.su(N,q)||(s.track({type:2,doc:q}),J=!0,(p&&this.eu(q,p)>0||_&&this.eu(q,_)<0)&&(g=!0)):!N&&q?(s.track({type:0,doc:q}),J=!0):N&&!q&&(s.track({type:1,doc:N}),J=!0,(p||_)&&(g=!0)),J&&(q?(f=f.add(q),u=et?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:g,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,S)=>(function(q,W){const et=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:J})}};return et(q)-et(W)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,_=p!==this.Za;return this.Za=p,f.length!==0||_?{snapshot:new oo(this.query,t.tu,u,f,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new kT(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new UT(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=jt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hg="SyncEngine";class C2{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class N2{constructor(t){this.key=t,this.hu=!1}}class D2{constructor(t,i,s,l,u,f){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ea((g=>nT(g)),wh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(Et.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function O2(r,t,i=!0){const s=GT(r);let l;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await zT(s,t,i,!0),l}async function x2(r,t){const i=GT(r);await zT(i,t,!0,!1)}async function zT(r,t,i,s){const l=await JC(r.localStore,Oi(t)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,i);let g;return s&&(g=await M2(r,t,u,f==="current",l.resumeToken)),r.isPrimaryClient&&i&&OT(r.remoteStore,l),g}async function M2(r,t,i,s,l){r.pu=(S,N,q)=>(async function(et,J,lt,ut){let mt=J.view.ru(lt);mt.Cs&&(mt=await f0(et.localStore,J.query,!1).then((({documents:w})=>J.view.ru(w,mt))));const Tt=ut&&ut.targetChanges.get(J.targetId),Pt=ut&&ut.targetMismatches.get(J.targetId)!=null,tt=J.view.applyChanges(mt,et.isPrimaryClient,Tt,Pt);return A0(et,J.targetId,tt.au),tt.snapshot})(r,S,N,q);const u=await f0(r.localStore,t,!0),f=new I2(t,u.Qs),g=f.ru(u.documents),p=Wl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=f.applyChanges(g,r.isPrimaryClient,p);A0(r,i,_.au);const T=new C2(t,i,f);return r.Tu.set(t,T),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function V2(r,t,i){const s=Ct(r),l=s.Tu.get(t),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!wh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&eg(s.remoteStore,l.targetId),bm(s,l.targetId)})).catch(fo)):(bm(s,l.targetId),await Tm(s.localStore,l.targetId,!0))}async function P2(r,t){const i=Ct(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),eg(i.remoteStore,s.targetId))}async function L2(r,t,i){const s=H2(r);try{const l=await(function(f,g){const p=Ct(f),_=oe.now(),T=g.reduce(((q,W)=>q.add(W.key)),jt());let S,N;return p.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let W=hr(),et=jt();return p.Ns.getEntries(q,T).next((J=>{W=J,W.forEach(((lt,ut)=>{ut.isValidDocument()||(et=et.add(lt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(q,W))).next((J=>{S=J;const lt=[];for(const ut of g){const mt=ZI(ut,S.get(ut.key).overlayedDocument);mt!=null&&lt.push(new fs(ut.key,mt,KE(mt.value.mapValue),xi.exists(!0)))}return p.mutationQueue.addMutationBatch(q,_,lt,g)})).next((J=>{N=J;const lt=J.applyToLocalDocumentSet(S,et);return p.documentOverlayCache.saveOverlays(q,J.batchId,lt)}))})).then((()=>({batchId:N.batchId,changes:sT(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(f,g,p){let _=f.Vu[f.currentUser.toKey()];_||(_=new ce(zt)),_=_.insert(g,p),f.Vu[f.currentUser.toKey()]=_})(s,l.batchId,i),await eu(s,l.changes),await xh(s.remoteStore)}catch(l){const u=ag(l,"Failed to persist write");i.reject(u)}}async function jT(r,t){const i=Ct(r);try{const s=await XC(i.localStore,t);t.targetChanges.forEach(((l,u)=>{const f=i.Au.get(u);f&&(Kt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Kt(f.hu,14607):l.removedDocuments.size>0&&(Kt(f.hu,42227),f.hu=!1))})),await eu(i,s,t)}catch(s){await fo(s)}}function T0(r,t,i){const s=Ct(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((u,f)=>{const g=f.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const p=Ct(f);p.onlineState=g;let _=!1;p.queries.forEach(((T,S)=>{for(const N of S.Sa)N.va(g)&&(_=!0)})),_&&ug(p)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function U2(r,t,i){const s=Ct(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),u=l&&l.key;if(u){let f=new ce(Et.comparator);f=f.insert(u,tn.newNoDocument(u,wt.min()));const g=jt().add(u),p=new Nh(wt.min(),new Map,new ce(zt),f,g);await jT(s,p),s.du=s.du.remove(u),s.Au.delete(t),fg(s)}else await Tm(s.localStore,t,!1).then((()=>bm(s,t,i))).catch(fo)}async function k2(r,t){const i=Ct(r),s=t.batch.batchId;try{const l=await KC(i.localStore,t);qT(i,s,null),BT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await eu(i,l)}catch(l){await fo(l)}}async function z2(r,t,i){const s=Ct(r);try{const l=await(function(f,g){const p=Ct(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next((S=>(Kt(S!==null,37113),T=S.keys(),p.mutationQueue.removeMutationBatch(_,S)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>p.localDocuments.getDocuments(_,T)))}))})(s.localStore,t);qT(s,t,i),BT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await eu(s,l)}catch(l){await fo(l)}}function BT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function qT(r,t,i){const s=Ct(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(i?u.reject(i):u.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function bm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||HT(r,s)}))}function HT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(eg(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),fg(r))}function A0(r,t,i){for(const s of i)s instanceof UT?(r.Ru.addReference(s.key,t),j2(r,s)):s instanceof kT?(ct(hg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||HT(r,s.key)):bt(19791,{wu:s})}function j2(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ct(hg,"New document in limbo: "+i),r.Eu.add(s),fg(r))}function fg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new Et(re.fromString(t)),s=r.fu.next();r.Au.set(s,new N2(i)),r.du=r.du.insert(i,s),OT(r.remoteStore,new Jr(Oi(bh(i.path)),s,"TargetPurposeLimboResolution",Th.ce))}}async function eu(r,t,i){const s=Ct(r),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{f.push(s.pu(p,t,i).then((_=>{var T;if((_||i)&&s.isPrimaryClient){const S=_?!_.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))==null?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(_){l.push(_);const S=Wm.As(p.targetId,_);u.push(S)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(p,_){const T=Ct(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(N=>Z.forEach(N.Es,(q=>T.persistence.referenceDelegate.addReference(S,N.targetId,q))).next((()=>Z.forEach(N.ds,(q=>T.persistence.referenceDelegate.removeReference(S,N.targetId,q)))))))))}catch(S){if(!mo(S))throw S;ct(tg,"Failed to update sequence numbers: "+S)}for(const S of _){const N=S.targetId;if(!S.fromCache){const q=T.Ms.get(N),W=q.snapshotVersion,et=q.withLastLimboFreeSnapshotVersion(W);T.Ms=T.Ms.insert(N,et)}}})(s.localStore,u))}async function B2(r,t){const i=Ct(r);if(!i.currentUser.isEqual(t)){ct(hg,"User change. New user:",t.toKey());const s=await IT(i.localStore,t);i.currentUser=t,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new ot(X.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await eu(i,s.Ls)}}function q2(r,t){const i=Ct(r),s=i.Au.get(t);if(s&&s.hu)return jt().add(s.key);{let l=jt();const u=i.Iu.get(t);if(!u)return l;for(const f of u){const g=i.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function GT(r){const t=Ct(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=jT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=q2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=U2.bind(null,t),t.Pu.H_=w2.bind(null,t.eventManager),t.Pu.yu=R2.bind(null,t.eventManager),t}function H2(r){const t=Ct(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=k2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=z2.bind(null,t),t}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return QC(this.persistence,new GC,t.initialUser,this.serializer)}Cu(t){return new RT(Jm.mi,this.serializer)}Du(t){return new t2}async terminate(){var t,i;(t=this.gcScheduler)==null||t.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class G2 extends dh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Kt(this.persistence.referenceDelegate instanceof hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NC(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new RT((s=>hh.mi(s,i)),this.serializer)}}class wm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>T0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=B2.bind(null,this.syncEngine),await A2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new b2})()}createDatastore(t){const i=Dh(t.databaseInfo.databaseId),s=(function(u){return new s2(u)})(t.databaseInfo);return(function(u,f,g,p){return new u2(u,f,g,p)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,u,f,g){return new h2(s,l,u,f,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>T0(this.syncEngine,i,0)),(function(){return g0.v()?new g0:new e2})())}createSyncEngine(t,i){return(function(l,u,f,g,p,_,T){const S=new D2(l,u,f,g,p,_);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const u=Ct(l);ct(Js,"RemoteStore shutting down."),u.Ea.add(5),await tu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(i=this.eventManager)==null||i.terminate()}}wm.provider={build:()=>new wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):cr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class F2{constructor(t,i,s,l,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=We.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ct(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ct(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=ag(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Wd(r,t){r.asyncQueue.verifyOperationInProgress(),ct(us,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await IT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function S0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await Y2(r);ct(us,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>y0(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>y0(t.remoteStore,l))),r._onlineComponents=t}async function Y2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(us,"Using user provided OfflineComponentProvider");try{await Wd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;no("Error using user provided cache. Falling back to memory cache: "+i),await Wd(r,new dh)}}else ct(us,"Using default OfflineComponentProvider"),await Wd(r,new G2(void 0));return r._offlineComponents}async function FT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(us,"Using user provided OnlineComponentProvider"),await S0(r,r._uninitializedComponentsProvider._online)):(ct(us,"Using default OnlineComponentProvider"),await S0(r,new wm))),r._onlineComponents}function Q2(r){return FT(r).then((t=>t.syncEngine))}async function mh(r){const t=await FT(r),i=t.eventManager;return i.onListen=O2.bind(null,t.syncEngine),i.onUnlisten=V2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=x2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=P2.bind(null,t.syncEngine),i}function K2(r,t,i={}){const s=new or;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,_){const T=new dg({next:N=>{T.Nu(),f.enqueueAndForget((()=>lg(u,S)));const q=N.docs.has(g);!q&&N.fromCache?_.reject(new ot(X.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&N.fromCache&&p&&p.source==="server"?_.reject(new ot(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(N)},error:N=>_.reject(N)}),S=new cg(bh(g.path),T,{includeMetadataChanges:!0,qa:!0});return og(u,S)})(await mh(r),r.asyncQueue,t,i,s))),s.promise}function X2(r,t,i={}){const s=new or;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,_){const T=new dg({next:N=>{T.Nu(),f.enqueueAndForget((()=>lg(u,S))),N.fromCache&&p.source==="server"?_.reject(new ot(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),S=new cg(g,T,{includeMetadataChanges:!0,qa:!0});return og(u,S)})(await mh(r),r.asyncQueue,t,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firestore.googleapis.com",w0=!0;class R0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QT,this.ssl=w0}else this.host=t.host,this.ssl=t.ssl??w0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IC)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new eI;switch(s.type){case"firstParty":return new sI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=b0.get(i);s&&(ct("ComponentProvider","Removing Datastore"),b0.delete(i),s.terminate())})(this),Promise.resolve()}}function $2(r,t,i,s={}){var _;r=Hn(r,Mh);const l=lo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(B0(`https://${g}`),q0("Firestore",!0)),u.host!==QT&&u.host!==g&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:l,emulatorOptions:s};if(!Qs(p,f)&&(r._setSettings(p),s.mockUserToken)){let T,S;if(typeof s.mockUserToken=="string")T=s.mockUserToken,S=We.MOCK_USER;else{T=cb(s.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new We(N)}r._authCredentials=new nI(new LE(T,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new mr(this.firestore,t,this._query)}}class me{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new me(this.firestore,t,this._key)}toJSON(){return{type:me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Zl(i,me._jsonSchema))return new me(t,s||null,new Et(re.fromString(i.referencePath)))}}me._jsonSchemaVersion="firestore/documentReference/1.0",me._jsonSchema={type:Oe("string",me._jsonSchemaVersion),referencePath:Oe("string")};class is extends mr{constructor(t,i,s){super(t,i,bh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new me(this.firestore,null,new Et(t))}withConverter(t){return new is(this.firestore,t,this._path)}}function Z2(r,t,...i){if(r=Pe(r),UE("collection","path",t),r instanceof Mh){const s=re.fromString(t,...i);return zv(s),new is(r,null,s)}{if(!(r instanceof me||r instanceof is))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(t,...i));return zv(s),new is(r.firestore,null,s)}}function Qc(r,t,...i){if(r=Pe(r),arguments.length===1&&(t=Bm.newId()),UE("doc","path",t),r instanceof Mh){const s=re.fromString(t,...i);return kv(s),new me(r,null,new Et(s))}{if(!(r instanceof me||r instanceof is))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(re.fromString(t,...i));return kv(s),new me(r.firestore,r instanceof is?r.converter:null,new Et(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="AsyncQueue";class C0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NT(this,"async_queue_retry"),this._c=()=>{const s=Jd();s&&ct(I0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;ct(I0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",N0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=sg.createAndSchedule(this,t,i,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&bt(47125,{Pc:N0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function N0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Ws extends Mh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new C0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new C0(t),this._firestoreClient=void 0,await t}}}function J2(r,t){const i=typeof r=="object"?r:Y0(),s=typeof r=="string"?r:rh,l=Om(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=lb("firestore");u&&$2(l,...u)}return l}function Vh(r){if(r._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||W2(r),r._firestoreClient}function W2(r){var s,l,u;const t=r._freezeSettings(),i=(function(g,p,_,T){return new AI(g,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,YT(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(l=t.localCache)!=null&&l._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new F2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn($e.fromBase64String(t))}catch(i){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new qn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zl(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Oe("string",qn._jsonSchemaVersion),bytes:Oe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(Zl(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Oe("string",Vi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zl(t,Pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Pi(t.vectorValues);throw new ot(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Oe("string",Pi._jsonSchemaVersion),vectorValues:Oe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=/^__.*__$/;class eN{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new fs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Jl(t,this.data,i,this.fieldTransforms)}}class KT{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new fs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function XT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:r})}}class gg{constructor(t,i,s,l,u,f){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new gg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var l;const i=(l=this.path)==null?void 0:l.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){var l;const i=(l=this.path)==null?void 0:l.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return gh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(XT(this.Ac)&&tN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class nN{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Dh(t)}Cc(t,i,s,l=!1){return new gg({Ac:t,methodName:i,Dc:s,path:Xe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pg(r){const t=r._freezeSettings(),i=Dh(r._databaseId);return new nN(r._databaseId,!!t.ignoreUndefinedProperties,i)}function iN(r,t,i,s,l,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,i,l);yg("Data must be an object, but it was:",f,s);const g=$T(s,f);let p,_;if(u.merge)p=new wn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const N=Rm(t,S,i);if(!f.contains(N))throw new ot(X.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);JT(T,N)||T.push(N)}p=new wn(T),_=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,_=f.fieldTransforms;return new eN(new mn(g),p,_)}class Lh extends mg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Lh}}function rN(r,t,i,s){const l=r.Cc(1,t,i);yg("Data must be an object, but it was:",l,s);const u=[],f=mn.empty();hs(s,((p,_)=>{const T=_g(t,p,i);_=Pe(_);const S=l.yc(T);if(_ instanceof Lh)u.push(T);else{const N=nu(_,S);N!=null&&(u.push(T),f.set(T,N))}}));const g=new wn(u);return new KT(f,g,l.fieldTransforms)}function sN(r,t,i,s,l,u){const f=r.Cc(1,t,i),g=[Rm(t,s,i)],p=[l];if(u.length%2!=0)throw new ot(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)g.push(Rm(t,u[N])),p.push(u[N+1]);const _=[],T=mn.empty();for(let N=g.length-1;N>=0;--N)if(!JT(_,g[N])){const q=g[N];let W=p[N];W=Pe(W);const et=f.yc(q);if(W instanceof Lh)_.push(q);else{const J=nu(W,et);J!=null&&(_.push(q),T.set(q,J))}}const S=new wn(_);return new KT(T,S,f.fieldTransforms)}function aN(r,t,i,s=!1){return nu(i,r.Cc(s?4:3,t))}function nu(r,t){if(ZT(r=Pe(r)))return yg("Unsupported field value:",t,r),$T(r,t);if(r instanceof mg)return(function(s,l){if(!XT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const g of s){let p=nu(g,l.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,l){if((s=Pe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return FI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=oe.fromDate(s);return{timestampValue:ch(l.serializer,u)}}if(s instanceof oe){const u=new oe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ch(l.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:_T(l.serializer,s._byteString)};if(s instanceof me){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$m(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Pi)return(function(f,g){return{mapValue:{fields:{[YE]:{stringValue:QE},[sh]:{arrayValue:{values:f.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Qm(g.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Eh(s)}`)})(r,t)}function $T(r,t){const i={};return jE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hs(r,((s,l)=>{const u=nu(l,t.mc(s));u!=null&&(i[s]=u)})),{mapValue:{fields:i}}}function ZT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof oe||r instanceof Vi||r instanceof qn||r instanceof me||r instanceof mg||r instanceof Pi)}function yg(r,t,i){if(!ZT(i)||!kE(i)){const s=Eh(i);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Rm(r,t,i){if((t=Pe(t))instanceof Ph)return t._internalPath;if(typeof t=="string")return _g(r,t);throw gh("Field path arguments must be of type string or ",r,!1,void 0,i)}const oN=new RegExp("[~\\*/\\[\\]]");function _g(r,t,i){if(t.search(oN)>=0)throw gh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ph(...t.split("."))._internalPath}catch{throw gh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function gh(r,t,i,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new ot(X.INVALID_ARGUMENT,g+r+p)}function JT(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t,i,s,l,u){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(vg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class lN extends WT{data(){return super.data()}}function vg(r,t){return typeof t=="string"?_g(r,t):t instanceof Ph?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class Tg extends Eg{}function uN(r,t,...i){let s=[];t instanceof Eg&&s.push(t),s=s.concat(i),(function(u){const f=u.filter((p=>p instanceof Sg)).length,g=u.filter((p=>p instanceof Ag)).length;if(f>1||f>0&&g>0)throw new ot(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Ag extends Tg{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Ag(t,i,s)}_apply(t){const i=this._parse(t);return eA(t._query,i),new mr(t.firestore,t.converter,pm(t._query,i))}_parse(t){const i=pg(t.firestore);return(function(u,f,g,p,_,T,S){let N;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ot(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){x0(S,T);const W=[];for(const et of S)W.push(O0(p,u,et));N={arrayValue:{values:W}}}else N=O0(p,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||x0(S,T),N=aN(g,f,S,T==="in"||T==="not-in");return De.create(_,T,N)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Sg extends Eg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Sg(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ri.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,u){let f=l;const g=u.getFlattenedFilters();for(const p of g)eA(f,p),f=pm(f,p)})(t._query,i),new mr(t.firestore,t.converter,pm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bg extends Tg{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new bg(t,i)}_apply(t){const i=(function(l,u,f){if(l.startAt!==null)throw new ot(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ot(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ql(u,f)})(t._query,this._field,this._direction);return new mr(t.firestore,t.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new go(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,i))}}function cN(r,t="asc"){const i=t,s=vg("orderBy",r);return bg._create(s,i)}class wg extends Tg{constructor(t,i,s){super(),this.type=t,this._limit=i,this._limitType=s}static _create(t,i,s){return new wg(t,i,s)}_apply(t){return new mr(t.firestore,t.converter,oh(t._query,this._limit,this._limitType))}}function hN(r){return wg._create("limit",r,"F")}function O0(r,t,i){if(typeof(i=Pe(i))=="string"){if(i==="")throw new ot(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eT(t)&&i.indexOf("/")!==-1)throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(re.fromString(i));if(!Et.isDocumentKey(s))throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Qv(r,new Et(s))}if(i instanceof me)return Qv(r,i._key);throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eh(i)}.`)}function x0(r,t){if(!Array.isArray(r)||r.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function eA(r,t){const i=(function(l,u){for(const f of l)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ot(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class fN{convertValue(t,i="none"){switch(os(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(as(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return hs(t,((l,u)=>{s[l]=this.convertValue(u,i)})),s}convertVectorValue(t){var s,l,u;const i=(u=(l=(s=t.fields)==null?void 0:s[sh].arrayValue)==null?void 0:l.values)==null?void 0:u.map((f=>ve(f.doubleValue)));return new Pi(i)}convertGeoPoint(t){return new Vi(ve(t.latitude),ve(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Sh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(zl(t));default:return null}}convertTimestamp(t){const i=ss(t);return new oe(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=re.fromString(t);Kt(bT(s),9688,{name:t});const l=new jl(s.get(1),s.get(3)),u=new Et(s.popFirst(5));return l.isEqual(i)||cr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class Cl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fs extends WT{constructor(t,i,s,l,u,f){super(t,i,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(vg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Fs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fs._jsonSchema={type:Oe("string",Fs._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Kc extends Fs{data(t={}){return super.data(t)}}class Ys{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Kc(this._firestore,this._userDataWriter,s.key,s,new Cl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const p=new Kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new Kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:mN(g.type),doc:p,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ys._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function mN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(r){r=Hn(r,me);const t=Hn(r.firestore,Ws);return K2(Vh(t),r._key).then((i=>iA(t,r,i)))}Ys._jsonSchemaVersion="firestore/querySnapshot/1.0",Ys._jsonSchema={type:Oe("string",Ys._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Rg extends fN{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new me(this.firestore,null,i)}}function pN(r){r=Hn(r,mr);const t=Hn(r.firestore,Ws),i=Vh(t),s=new Rg(t);return tA(r._query),X2(i,r._query).then((l=>new Ys(t,s,r,l)))}function yN(r,t,i){r=Hn(r,me);const s=Hn(r.firestore,Ws),l=dN(r.converter,t);return nA(s,[iN(pg(s),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,xi.none())])}function M0(r,t,i,...s){r=Hn(r,me);const l=Hn(r.firestore,Ws),u=pg(l);let f;return f=typeof(t=Pe(t))=="string"||t instanceof Ph?sN(u,"updateDoc",r._key,t,i,s):rN(u,"updateDoc",r._key,t),nA(l,[f.toMutation(r._key,xi.exists(!0))])}function _N(r,...t){var p,_,T;r=Pe(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||D0(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(D0(t[s])){const S=t[s];t[s]=(p=S.next)==null?void 0:p.bind(S),t[s+1]=(_=S.error)==null?void 0:_.bind(S),t[s+2]=(T=S.complete)==null?void 0:T.bind(S)}let u,f,g;if(r instanceof me)f=Hn(r.firestore,Ws),g=bh(r._key.path),u={next:S=>{t[s]&&t[s](iA(f,r,S))},error:t[s+1],complete:t[s+2]};else{const S=Hn(r,mr);f=Hn(S.firestore,Ws),g=S._query;const N=new Rg(f);u={next:q=>{t[s]&&t[s](new Ys(f,N,S,q))},error:t[s+1],complete:t[s+2]},tA(r._query)}return(function(N,q,W,et){const J=new dg(et),lt=new cg(q,J,W);return N.asyncQueue.enqueueAndForget((async()=>og(await mh(N),lt))),()=>{J.Nu(),N.asyncQueue.enqueueAndForget((async()=>lg(await mh(N),lt)))}})(Vh(f),g,l,u)}function nA(r,t){return(function(s,l){const u=new or;return s.asyncQueue.enqueueAndForget((async()=>L2(await Q2(s),l,u))),u.promise})(Vh(r),t)}function iA(r,t,i){const s=i.docs.get(t._key),l=new Rg(r);return new Fs(r,l,t._key,s,new Cl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){ho=l})(uo),to(new Ks("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new Ws(new iI(s.getProvider("auth-internal")),new aI(f,s.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(_.options.projectId,T)})(f,l),f);return u={useFetchStreams:i,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),es(Vv,Pv,t),es(Vv,Pv,"esm2020")})();const rA=F0(KS),Im=WR(rA),Pl=J2(rA);new ir;const vN=({onLogin:r})=>{const[t,i]=dt.useState(!0),[s,l]=dt.useState(""),[u,f]=dt.useState(""),[g,p]=dt.useState(""),[_,T]=dt.useState(""),[S,N]=dt.useState(!1),[q,W]=dt.useState(null),et=lt=>{var mt;const ut=(mt=lt.target.files)==null?void 0:mt[0];if(ut){if(ut.size>2*1024*1024){T("Image too large (Max 2MB)");return}const Tt=new FileReader;Tt.onload=Pt=>{var w;const tt=new Image;tt.onload=()=>{const b=document.createElement("canvas");let R=tt.width,x=tt.height;const D=300;R>x?R>D&&(x*=D/R,R=D):x>D&&(R*=D/x,x=D),b.width=R,b.height=x;const V=b.getContext("2d");V==null||V.drawImage(tt,0,0,R,x);const I=b.toDataURL("image/jpeg",.7);W(I)},tt.src=(w=Pt.target)==null?void 0:w.result},Tt.readAsDataURL(ut)}},J=async lt=>{lt.preventDefault(),T(""),N(!0);try{let ut;t?ut=(await Uw(Im,s,u)).user:(ut=(await Lw(Im,s,u)).user,await zw(ut,{displayName:g}));const mt=Qc(Pl,"users",ut.uid),Tt=await gN(mt);let Pt;if(Tt.exists())Pt=Tt.data();else{const tt={uid:ut.uid,username:g||ut.displayName||"Rogue User",email:ut.email||"",photoBase64:q||void 0,highScore:0,stars:0,ownedThemes:["classic"],activeThemeId:"classic",missions:[],lastLogin:new Date().toISOString()},w=parseInt(localStorage.getItem("ps-highscore")||"0"),b=parseInt(localStorage.getItem("ps-stars")||"0");w>0&&(tt.highScore=w,tt.stars=b),await yN(mt,tt),Pt=tt,localStorage.removeItem("ps-highscore"),localStorage.removeItem("ps-stars")}r(Pt)}catch(ut){T(ut.message)}finally{N(!1)}};return L.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm p-4",children:L.jsxs("div",{className:"w-full max-w-md bg-[#111] border border-[#00f2ff] p-8 rounded-lg shadow-[0_0_50px_rgba(0,242,255,0.2)]",children:[L.jsx("h2",{className:"text-3xl font-orbitron font-bold text-center mb-6 text-white",children:t?"SYSTEM LOGIN":"NEW OPERATOR"}),_&&L.jsxs("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-500 text-red-200 text-sm font-mono",children:["ERROR: ",_]}),L.jsxs("form",{onSubmit:J,className:"flex flex-col gap-4",children:[!t&&L.jsxs("div",{className:"flex flex-col gap-2",children:[L.jsx("label",{className:"text-[#00f2ff] font-mono text-xs uppercase",children:"Operator Name"}),L.jsx("input",{type:"text",required:!0,className:"bg-black border border-gray-700 p-3 text-white focus:border-[#00f2ff] outline-none font-orbitron",value:g,onChange:lt=>p(lt.target.value)}),L.jsx("label",{className:"text-[#00f2ff] font-mono text-xs uppercase mt-2",children:"Avatar (Optional)"}),L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsx("input",{type:"file",accept:"image/*",onChange:et,className:"text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-[#00f2ff] file:text-black hover:file:bg-[#00c2cf]"}),q&&L.jsx("img",{src:q,alt:"Preview",className:"w-10 h-10 rounded-full border border-[#00f2ff]"})]})]}),L.jsxs("div",{className:"flex flex-col gap-2",children:[L.jsx("label",{className:"text-[#00f2ff] font-mono text-xs uppercase",children:"Email Frequency"}),L.jsx("input",{type:"email",required:!0,className:"bg-black border border-gray-700 p-3 text-white focus:border-[#00f2ff] outline-none font-orbitron",value:s,onChange:lt=>l(lt.target.value)})]}),L.jsxs("div",{className:"flex flex-col gap-2",children:[L.jsx("label",{className:"text-[#00f2ff] font-mono text-xs uppercase",children:"Access Key"}),L.jsx("input",{type:"password",required:!0,className:"bg-black border border-gray-700 p-3 text-white focus:border-[#00f2ff] outline-none font-orbitron",value:u,onChange:lt=>f(lt.target.value)})]}),L.jsx("button",{disabled:S,className:"mt-4 w-full py-4 bg-[#00f2ff] text-black font-bold font-orbitron text-xl hover:bg-white transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:S?"CONNECTING...":t?"ESTABLISH LINK":"INITIATE"})]}),L.jsx("p",{className:"mt-6 text-center text-gray-500 text-sm font-mono cursor-pointer hover:text-[#00f2ff]",onClick:()=>i(!t),children:t?"[ Create New Identity ]":"[ Access Existing Link ]"})]})})},EN=({onClose:r})=>{const[t,i]=dt.useState([]),[s,l]=dt.useState(!0);return dt.useEffect(()=>{(async()=>{try{const f=uN(Z2(Pl,"users"),cN("highScore","desc"),hN(10)),g=await pN(f),p=[];g.forEach(_=>{p.push(_.data())}),i(p)}catch(f){console.error("Error fetching leaderboard",f)}finally{l(!1)}})()},[]),L.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4",onClick:r,children:L.jsxs("div",{className:"w-full max-w-lg bg-[#0a0a0a] border border-[#ff8c00] p-6 relative",onClick:u=>u.stopPropagation(),children:[L.jsx("button",{className:"absolute top-4 right-4 text-[#ff8c00] font-mono text-xl hover:text-white",onClick:r,children:"[X]"}),L.jsx("h2",{className:"text-3xl font-orbitron font-bold text-center mb-8 text-[#ff8c00] tracking-widest",children:"TOP OPERATORS"}),s?L.jsx("div",{className:"text-center font-mono text-[#ff8c00] animate-pulse",children:"DOWNLOADING DATA..."}):L.jsx("div",{className:"flex flex-col gap-2",children:t.map((u,f)=>L.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 border-l-4 border-transparent hover:border-[#ff8c00] transition-all",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsxs("span",{className:`font-orbitron font-bold text-xl w-8 ${f<3?"text-[#ffd700]":"text-gray-500"}`,children:["#",f+1]}),u.photoBase64?L.jsx("img",{src:u.photoBase64,className:"w-8 h-8 rounded-full border border-gray-600",alt:"avatar"}):L.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-800 flex items-center justify-center font-bold text-xs",children:u.username.charAt(0)}),L.jsx("span",{className:"font-mono text-sm md:text-base text-white",children:u.username})]}),L.jsx("div",{className:"font-orbitron font-bold text-[#00f2ff]",children:u.highScore.toLocaleString()})]},u.uid))})]})})},TN=({missions:r,onClose:t,onClaim:i})=>L.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4",onClick:t,children:L.jsxs("div",{className:"w-full max-w-lg bg-[#0a0a0a] border border-[#00ff88] p-6 relative",onClick:s=>s.stopPropagation(),children:[L.jsx("button",{className:"absolute top-4 right-4 text-[#00ff88] font-mono text-xl hover:text-white",onClick:t,children:"[X]"}),L.jsx("h2",{className:"text-3xl font-orbitron font-bold text-center mb-2 text-[#00ff88] tracking-widest",children:"DAILY TASKS"}),L.jsx("p",{className:"text-center font-mono text-xs text-gray-400 mb-6 uppercase",children:"Sync rewards reset every 24h"}),L.jsx("div",{className:"flex flex-col gap-3",children:r.map(s=>L.jsxs("div",{className:`p-4 border ${s.completed?"border-gray-800 bg-gray-900/50":"border-[#00ff88]/30 bg-[#00ff88]/5"} transition-all`,children:[L.jsxs("div",{className:"flex justify-between items-start mb-2",children:[L.jsx("h3",{className:`font-orbitron text-sm md:text-base ${s.completed?"text-gray-500 line-through":"text-white"}`,children:s.description}),L.jsxs("span",{className:"text-[#ffd700] text-xs font-bold font-mono",children:["+",s.reward,""]})]}),L.jsx("div",{className:"w-full h-2 bg-gray-800 rounded-full overflow-hidden",children:L.jsx("div",{className:`h-full ${s.completed?"bg-gray-600":"bg-[#00ff88]"}`,style:{width:`${Math.min(100,s.progress/s.target*100)}%`}})}),L.jsxs("div",{className:"flex justify-between mt-1",children:[L.jsxs("span",{className:"text-[10px] text-gray-500 font-mono",children:[s.progress," / ",s.target]}),s.progress>=s.target&&!s.completed&&L.jsx("button",{onClick:()=>i(s.id),className:"px-3 py-1 bg-[#00ff88] text-black text-[10px] font-bold font-orbitron uppercase tracking-widest hover:bg-white animate-pulse",children:"Claim"})]})]},s.id))})]})}),AN=()=>{const[r,t]=dt.useState(0);return dt.useEffect(()=>{const i=setInterval(()=>{t(s=>s>=100?100:s+Math.random()*15)},200);return()=>clearInterval(i)},[]),L.jsxs("div",{className:"fixed inset-0 bg-[#050505] z-[9999] flex flex-col items-center justify-center p-6",children:[L.jsxs("div",{className:"relative mb-12",children:[L.jsxs("h1",{className:"text-4xl md:text-6xl font-orbitron font-black text-white italic tracking-widest animate-pulse",children:["PHASE ",L.jsx("span",{className:"text-[#00f2ff]",children:"SHIFT"})]}),L.jsx("div",{className:"absolute -inset-1 bg-[#00f2ff] opacity-20 blur-xl animate-pulse"})]}),L.jsxs("div",{className:"w-full max-w-md",children:[L.jsxs("div",{className:"flex justify-between items-end mb-2",children:[L.jsx("span",{className:"text-[#00f2ff] font-mono text-xs uppercase tracking-[0.3em] animate-pulse",children:"Establishing Neural Link..."}),L.jsxs("span",{className:"text-white font-mono text-lg",children:[Math.floor(r),"%"]})]}),L.jsxs("div",{className:"h-1 w-full bg-white/10 rounded-full overflow-hidden relative",children:[L.jsx("div",{className:"h-full bg-[#00f2ff] shadow-[0_0_15px_#00f2ff] transition-all duration-300 ease-out",style:{width:`${r}%`}}),L.jsx("div",{className:"absolute top-0 h-full w-4 bg-white/50 blur-sm animate-glitch-slide",style:{left:`${r-5}%`}})]}),L.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-4",children:[L.jsx("div",{className:"h-1 bg-white/5 animate-pulse delay-75"}),L.jsx("div",{className:"h-1 bg-white/5 animate-pulse delay-150"}),L.jsx("div",{className:"h-1 bg-white/5 animate-pulse delay-300"}),L.jsx("div",{className:"h-1 bg-white/5 animate-pulse delay-500"})]})]}),L.jsx("div",{className:"absolute bottom-10 font-mono text-[10px] text-gray-700 uppercase tracking-[0.5em]",children:"System Version 2.0.4 // Grid_Safe: Active"}),L.jsx("style",{children:`
        @keyframes glitch-slide {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(500%); }
        }
        .animate-glitch-slide {
            animation: glitch-slide 2s infinite;
        }
      `})]})},SN=()=>{const[r,t]=dt.useState(!1);return dt.useEffect(()=>{const i=()=>{t(window.innerHeight>window.innerWidth&&window.innerWidth<768)};return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)},[]),r?L.jsxs("div",{className:"fixed inset-0 z-[10000] bg-black flex flex-col items-center justify-center p-10 text-center",children:[L.jsx("div",{className:"w-20 h-32 border-4 border-[#00f2ff] rounded-xl mb-8 animate-bounce flex items-center justify-center",children:L.jsx("div",{className:"w-1 h-8 bg-[#00f2ff]/30 rounded-full"})}),L.jsx("h2",{className:"text-[#00f2ff] font-orbitron font-bold text-2xl mb-4",children:"ROTATE DEVICE"}),L.jsx("p",{className:"text-gray-400 font-mono text-sm uppercase tracking-widest leading-relaxed",children:"Neural sync requires horizontal alignment for optimal reaction velocity."}),L.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10 bg-[radial-gradient(#00f2ff_1px,transparent_1px)] [background-size:20px_20px]"})]}):null},bN=()=>[{type:"STARS",desc:"Collect 50 Stars",target:50,reward:100},{type:"SCORE",desc:"Score 500 Cumulative Points",target:500,reward:150},{type:"PHASE_SWITCH",desc:"Phase Shift 30 Times",target:30,reward:80},{type:"DISTANCE",desc:"Travel 2000m",target:2e3,reward:120}].sort(()=>.5-Math.random()).slice(0,3).map((i,s)=>({id:`mission-${Date.now()}-${s}`,description:i.desc,target:i.target,progress:0,completed:!1,reward:i.reward,type:i.type})),wN=()=>{const[r,t]=dt.useState({status:je.START,score:0,highScore:0,stars:0,lastRunStars:0,currentPhase:jn.BLUE,speed:ie.INITIAL_SPEED,distance:0,combo:0,activePowerUp:null}),[i,s]=dt.useState(null),[l,u]=dt.useState(null),[f,g]=dt.useState(!0),[p,_]=dt.useState(!1),[T,S]=dt.useState(!1),[N,q]=dt.useState(!1),[W,et]=dt.useState(0),J=tm.find(tt=>tt.id===((l==null?void 0:l.activeThemeId)||"classic"))||tm[0];dt.useEffect(()=>{const tt=qw(Im,w=>{if(s(w),w){const b=_N(Qc(Pl,"users",w.uid),R=>{if(R.exists()){const x=R.data();u(x),t(D=>({...D,highScore:x.highScore,stars:x.stars}))}});return _(!1),setTimeout(()=>g(!1),2e3),()=>b()}else u(null),_(!0),g(!1)});return()=>tt()},[]),dt.useEffect(()=>{if(!l)return;const tt=new Date().toDateString(),w=new Date(l.lastLogin).toDateString();if(tt!==w){const b=bN();M0(Qc(Pl,"users",l.uid),{lastLogin:new Date().toISOString(),missions:b})}},[l==null?void 0:l.uid]);const lt=async tt=>{i&&await M0(Qc(Pl,"users",i.uid),tt)},ut=dt.useCallback(()=>{t(tt=>({...tt,status:je.PLAYING,score:0,combo:0,speed:ie.INITIAL_SPEED,currentPhase:jn.BLUE,distance:0,activePowerUp:null,lastRunStars:0}))},[]),mt=dt.useCallback((tt,w)=>{l&&t(b=>{const R=Math.max(b.highScore,tt),x=l.stars+w,D=l.missions.map(V=>{if(V.completed)return V;let I=V.progress;return V.type==="SCORE"&&(I+=tt),V.type==="STARS"&&(I+=w),V.type==="DISTANCE"&&(I+=tt),{...V,progress:I,completed:I>=V.target}});return lt({highScore:R,stars:x,missions:D}),{...b,status:je.GAMEOVER,score:tt,highScore:R,stars:x,lastRunStars:w}})},[l]),Tt=dt.useCallback(()=>{t(tt=>({...tt,currentPhase:tt.currentPhase===jn.BLUE?jn.ORANGE:jn.BLUE}))},[]),Pt=dt.useCallback(()=>{et(tt=>tt+1)},[]);return dt.useEffect(()=>{const tt=w=>{w.code==="Space"?r.status===je.PLAYING?Tt():r.status!==je.SHOP&&!p&&!T&&!N&&ut():(w.code==="KeyW"||w.code==="ArrowUp")&&r.status===je.PLAYING&&Pt()};return window.addEventListener("keydown",tt),()=>window.removeEventListener("keydown",tt)},[r.status,Tt,ut,p,T,N,Pt]),f?L.jsx(AN,{}):L.jsxs("div",{className:"relative w-full h-screen overflow-hidden bg-[#050505] cursor-pointer touch-none select-none",children:[L.jsx(SN,{}),L.jsx(XS,{status:r.status,currentPhase:r.currentPhase,theme:J,jumpTrigger:W,onGameOver:mt,onScoreUpdate:(tt,w,b)=>t(R=>({...R,score:tt,combo:w,activePowerUp:b})),onJump:Pt,onTogglePhase:Tt}),p&&L.jsx(vN,{onLogin:()=>_(!1)}),T&&L.jsx(EN,{onClose:()=>S(!1)}),N&&l&&L.jsx(TN,{missions:l.missions,onClose:()=>q(!1),onClaim:tt=>{const w=l.missions.find(b=>b.id===tt);w&&lt({stars:l.stars+w.reward,missions:l.missions.filter(b=>b.id!==tt)})}}),r.status===je.PLAYING&&L.jsx($S,{score:r.score,highScore:r.highScore,phase:r.currentPhase,stars:r.stars,combo:r.combo,activePowerUp:r.activePowerUp}),r.status===je.START&&!p&&L.jsx(ZS,{highScore:r.highScore,stars:r.stars,username:l==null?void 0:l.username,onStart:ut,onOpenShop:()=>t(tt=>({...tt,status:je.SHOP})),onOpenLeaderboard:()=>S(!0),onOpenMissions:()=>q(!0)}),r.status===je.SHOP&&l&&L.jsx(WS,{stars:r.stars,ownedThemes:l.ownedThemes,activeThemeId:l.activeThemeId,onClose:()=>t(tt=>({...tt,status:je.START})),onPurchase:tt=>lt({stars:l.stars-tt.price,ownedThemes:[...l.ownedThemes,tt.id]}),onSelect:tt=>lt({activeThemeId:tt})}),r.status===je.GAMEOVER&&L.jsx(JS,{score:r.score,highScore:r.highScore,starsGained:r.lastRunStars,onRestart:ut})]})},sA=document.getElementById("root");if(!sA)throw new Error("Could not find root element to mount to");const RN=QS.createRoot(sA);RN.render(L.jsx(zS.StrictMode,{children:L.jsx(wN,{})}));
